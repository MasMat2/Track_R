<p-table
  class="primeng-table"
  [value]="pacientes"
  dataKey="idProyectoElementoTecnica"
  *ngIf="pacientes"
  [autoLayout]="true"
>
  <ng-template pTemplate="header">
    <tr class="table-header">
      <th class="px-0">Fotografía</th>
      <th>Paciente</th>
      <th>Patologías</th>
      <th>Glucosa</th>
      <th>Presión</th>
      <th></th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-paciente>
    <tr>
      <td class="img-container p-0">
        <img
          [src]="
            paciente.imagenBase64 != undefined
              ? (paciente.imagenBase64 | urlImagen : paciente?.tipoMime)
              : 'assets/img/default-user.jpg'
          "
        />
      </td>
      <td>
        <div style="width: 5px; aspect-ratio: 1; background-color: green"></div>
        {{ paciente.nombreCompleto }}
      </td>
      <td>
        <div class="d-flex">
          <span
            *ngFor="let patologia of paciente.patologias"
            style="background-color: #ededed"
            class="m-1 p-1"
          >
            {{ patologia }}
          </span>
        </div>
      </td>
      <td>{{ paciente.glucosa }}</td>
      <td>{{ paciente.presionSistolica }}/{{ paciente?.presionAsistolica }}</td>
      <td class="text-center px-0">
        <button 
          type="button" 
          class="btn" 
          (click)="onVer(paciente)" 
          title="Ver"
        >
          <i class="fa fa-lg fa-eye icono-primario"></i>
        </button>
        
        <button
          type="button"
          class="btn"
          (click)="onEditar(paciente)"
          title="Editar"
        >
          <i class="fa fa-lg fa-pen-to-square icono-primario"></i>
        </button>
        
        <button
          type="button"
          class="btn"
          (click)="onEliminar(paciente)"
          title="Eliminar"
        >
          <i class="fa fa-2xl fa-trash icono-primario"></i>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>
