"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5730],{5730:(bn,v,_)=>{_.r(v),_.d(v,{default:()=>On});var l=_(6895),s=_(12),n=_(1571);let T=(()=>{var o;class a{constructor(){}ngOnInit(){}}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-cuestionarios"]],standalone:!0,features:[n.jDz],decls:1,vars:0,template:function(t,i){1&t&&n._UZ(0,"ion-router-outlet")},dependencies:[l.ez,s.Pc,s.jP]}),a})();var p=_(5861),m=_(433),A=_(1297),C=_(2583),h=_(529);let x=(()=>{var o;class a{constructor(t){this.http=t,this.dataUrl="examen/"}consultarMisExamenes(){return this.http.get(this.dataUrl+"consultarMisExamenes")}consultarMisExamenesContestados(){return this.http.get(this.dataUrl+"MisExamenes/contestados")}consultarMiExamen(t){return this.http.get(this.dataUrl+`consultarMiExamen/${t}`)}consultarMiExamenIndividual(t){return this.http.get(this.dataUrl+`consultarMiExamenIndividual/${t}`)}}return(o=a).\u0275fac=function(t){return new(t||o)(n.LFG(h.eN))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();var g=_(4384);function y(o,a){1&o&&(n.TgZ(0,"div",13)(1,"ion-text")(2,"p"),n._uU(3," Nada por aqu\xed. "),n._UZ(4,"br"),n._uU(5," A\xfan no se te ha asignado un cuestionario. "),n.qZA()()())}function E(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",16),n.NdJ("click",function(){const r=n.CHM(e).$implicit,c=n.oxw(3);return n.KtG(c.responderCuestionario(r.idExamen))}),n.TgZ(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.ALo(6,"date"),n.qZA()()()}if(2&o){const e=a.$implicit;n.xp6(3),n.Oqu(e.tipoExamen),n.xp6(2),n.Oqu(n.gM2(6,2,e.fechaExamen,"MMMM d, y 'a las' h:mm a","","es-MX"))}}function q(o,a){if(1&o&&(n.TgZ(0,"div",14)(1,"ion-list"),n.YNc(2,E,7,7,"ion-item",15),n.qZA()()),2&o){const e=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",e.examenPendienteList)}}function k(o,a){if(1&o&&(n.TgZ(0,"div",10),n.YNc(1,y,6,0,"div",11),n.YNc(2,q,3,1,"div",12),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",0===e.examenPendienteList.length),n.xp6(1),n.Q6J("ngIf",0!==e.examenPendienteList.length)}}function U(o,a){1&o&&(n.TgZ(0,"div",13)(1,"ion-text")(2,"p"),n._uU(3," Nada por aqu\xed. "),n._UZ(4,"br"),n._uU(5," A\xfan no tienes cuestionarios contestados. "),n.qZA()()())}function I(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",16),n.NdJ("click",function(){const r=n.CHM(e).$implicit,c=n.oxw(3);return n.KtG(c.navigateVerCuestionario(r.idExamen))}),n.TgZ(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.ALo(6,"date"),n.qZA()()()}if(2&o){const e=a.$implicit;n.xp6(3),n.Oqu(e.tipoExamen),n.xp6(2),n.Oqu(n.gM2(6,2,e.fechaExamen,"MMMM d, y","","es-MX"))}}function F(o,a){if(1&o&&(n.TgZ(0,"ion-label"),n._uU(1),n.qZA()),2&o){const e=n.oxw(3);n.xp6(1),n.hij(" Ver Todos (+",e.cantidadCuestionariosContestados,") ")}}function w(o,a){1&o&&(n.TgZ(0,"ion-label"),n._uU(1," Ver menos "),n.qZA())}function N(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",14)(1,"ion-list"),n.YNc(2,I,7,7,"ion-item",15),n.TgZ(3,"ion-item",17),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.verMas(!i.mostrarTodosContestados))}),n.YNc(4,F,2,1,"ion-label",18),n.YNc(5,w,2,0,"ion-label",18),n.qZA()()()}if(2&o){const e=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",e.mostrarTodosContestados?e.examenContestadoList:null==e.examenContestadoList?null:e.examenContestadoList.slice(0,5)),n.xp6(2),n.Q6J("ngIf",!e.mostrarTodosContestados),n.xp6(1),n.Q6J("ngIf",e.mostrarTodosContestados)}}function S(o,a){if(1&o&&(n.TgZ(0,"div",10),n.YNc(1,U,6,0,"div",11),n.YNc(2,N,6,3,"div",12),n.qZA()),2&o){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",0===e.examenContestadoList.length),n.xp6(1),n.Q6J("ngIf",0!==e.examenContestadoList.length)}}function J(o,a){1&o&&(n.TgZ(0,"div",26)(1,"ion-label"),n._uU(2," Nada por aqu\xed."),n._UZ(3,"br"),n._uU(4," A\xfan no se te ha asignado un cuestionario "),n.qZA()())}function Y(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",29)(1,"ion-label")(2,"h3"),n._uU(3),n.qZA()(),n.TgZ(4,"ion-label")(5,"p"),n._uU(6),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.qZA()(),n.TgZ(9,"ion-button",30),n.NdJ("click",function(){const r=n.CHM(e).$implicit,c=n.oxw(4);return n.KtG(c.responderCuestionario(r.idExamen))}),n._uU(10,"Contestar"),n.qZA()()}if(2&o){const e=a.$implicit;n.xp6(3),n.Oqu(e.tipoExamen),n.xp6(3),n.Oqu(e.fechaExamen),n.xp6(2),n.Oqu(e.horaExamen)}}function R(o,a){if(1&o&&(n.TgZ(0,"div"),n._UZ(1,"ion-label",27),n.YNc(2,Y,11,3,"ion-item",28),n.qZA()),2&o){const e=n.oxw(3);n.xp6(2),n.Q6J("ngForOf",e.examenPendienteList)}}function L(o,a){if(1&o&&(n.TgZ(0,"div",24),n.YNc(1,J,5,0,"div",25),n.YNc(2,R,3,1,"div",18),n.qZA()),2&o){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",0===e.examenPendienteList.length),n.xp6(1),n.Q6J("ngIf",0!==e.examenPendienteList.length)}}function Q(o,a){1&o&&(n.TgZ(0,"div",26)(1,"ion-label"),n._uU(2," Nada por aqu\xed."),n._UZ(3,"br"),n._uU(4," A\xfan no has contestado un cuestionario. "),n.qZA()())}function j(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",34),n.NdJ("click",function(){const r=n.CHM(e).$implicit,c=n.oxw(5);return n.KtG(c.navigateVerCuestionario(r.idExamen))}),n.TgZ(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.qZA()(),n._UZ(6,"ion-icon",35),n.qZA()}if(2&o){const e=a.$implicit;n.xp6(3),n.hij(" ",e.tipoExamen," "),n.xp6(2),n.Oqu(e.fechaExamen)}}function z(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",36),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(5);return n.KtG(i.verMas(!0))}),n.TgZ(1,"ion-label"),n._uU(2),n.qZA()()}if(2&o){const e=n.oxw(5);n.xp6(2),n.hij(" Ver Todos (+",e.cantidadCuestionariosContestados,") ")}}function V(o,a){if(1&o&&(n.TgZ(0,"div"),n.YNc(1,j,7,2,"ion-item",32),n.YNc(2,z,3,1,"ion-item",33),n.qZA()),2&o){const e=n.oxw(4);n.xp6(1),n.Q6J("ngForOf",e.examenContestadoList.slice(0,5)),n.xp6(1),n.Q6J("ngIf",e.cantidadCuestionariosContestados>5)}}function $(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",34),n.NdJ("click",function(){const r=n.CHM(e).$implicit,c=n.oxw(5);return n.KtG(c.navigateVerCuestionario(r.idExamen))}),n.TgZ(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.qZA()(),n._UZ(6,"ion-icon",35),n.qZA()}if(2&o){const e=a.$implicit;n.xp6(3),n.hij(" ",e.tipoExamen," "),n.xp6(2),n.Oqu(e.fechaExamen)}}function G(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div"),n.YNc(1,$,7,2,"ion-item",32),n.TgZ(2,"ion-item",37),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(4);return n.KtG(i.verMas(!1))}),n.TgZ(3,"ion-label"),n._uU(4," Ver Menos "),n.qZA()()()}if(2&o){const e=n.oxw(4);n.xp6(1),n.Q6J("ngForOf",e.examenContestadoList)}}function H(o,a){if(1&o&&(n.TgZ(0,"div"),n._UZ(1,"ion-label",27),n.YNc(2,V,3,2,"div",18),n.YNc(3,G,5,1,"div",18),n.qZA()),2&o){const e=n.oxw(3);n.xp6(2),n.Q6J("ngIf",!e.mostrarTodosContestados),n.xp6(1),n.Q6J("ngIf",e.mostrarTodosContestados)}}function D(o,a){if(1&o&&(n.TgZ(0,"div",31),n.YNc(1,Q,5,0,"div",25),n.YNc(2,H,4,2,"div",18),n.qZA()),2&o){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",0===e.examenContestadoList.length),n.xp6(1),n.Q6J("ngIf",0!==e.examenContestadoList.length)}}function K(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",19)(1,"div",20)(2,"ion-segment",21)(3,"ion-segment-button",6),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.changeSection("pendientes"))}),n.TgZ(4,"ion-label"),n._uU(5,"Pendientes"),n.qZA()(),n.TgZ(6,"ion-segment-button",7),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.changeSection("contestados"))}),n.TgZ(7,"ion-label"),n._uU(8,"Contestados"),n.qZA()()(),n.YNc(9,L,3,2,"div",22),n.YNc(10,D,3,2,"div",23),n.qZA()()}if(2&o){const e=n.oxw();n.xp6(9),n.Q6J("ngIf","pendientes"===e.segmentoSeleccionado),n.xp6(1),n.Q6J("ngIf","contestados"===e.segmentoSeleccionado)}}let B=(()=>{var o;class a{constructor(t,i,r){this.examenService=t,this.router=i,this.alertController=r,this.examenPendienteList=[],this.examenContestadoList=[],this.mostrarTodosContestados=!1,this.segmentoSeleccionado="pendientes",(0,C.a)({chevronForward:A.XXs})}ngOnInit(){}ionViewWillEnter(){this.consultarCuestionariosPendientes(),this.consultarCuestionariosContestados()}consultarCuestionariosPendientes(){this.examenService.consultarMisExamenes().subscribe({next:t=>{console.log("ex\xe1menes pendientes: ",t),this.examenPendienteList=t.map(i=>{const r=this.formatearFecha(i.fechaExamen,i.horaExamen);return{...i,fechaExamen:r}})}})}consultarCuestionariosContestados(){this.examenService.consultarMisExamenesContestados().subscribe({next:t=>{console.log("ex\xe1menes contestados: ",t),this.examenContestadoList=t.map(i=>{const r=this.formatearFecha(i.fechaExamen,i.horaExamen);return{...i,fechaExamen:r}}),this.cantidadCuestionariosContestados=t.length>5?t.length-5:t.length}})}formatearFecha(t,i){return new Date(`${new Date(t).toDateString()} ${i}`)}responderCuestionario(t){this.examenService.consultarMiExamenIndividual(t).subscribe(i=>{this.esFechaValida(i)?this.navigateResponderCuestionario(t):this.presentAlertError()})}navigateVerCuestionario(t){this.router.navigate(["/home/cuestionarios/ver",t])}navigateResponderCuestionario(t){this.router.navigate(["/home/cuestionarios/responder",t])}esFechaValida(t){const i=this.formatearFecha(t.fechaExamen,t.horaExamen);console.log(i);const r=new Date;if(i.toDateString()!==r.toDateString())return console.log("false 1"),!1;const c=i.getTime()-r.getTime(),Z=Math.round(c%864e5%36e5/6e4);return Z>5||Z<=-15?(console.log("false 2"),!1):(console.log("true"),!0)}presentAlertError(){var t=this;return(0,p.Z)(function*(){yield(yield t.alertController.create({header:"Cuestionario no disponible",subHeader:"A\xfan no tienes acceso a este cuestionario",cssClass:"custom-alert color-error icon-info",buttons:["OK"]})).present()})()}changeSection(t){this.segmentoSeleccionado=t}verMas(t){this.mostrarTodosContestados=t}}return(o=a).\u0275fac=function(t){return new(t||o)(n.Y36(x),n.Y36(g.F0),n.Y36(s.Br))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-mis-cuestionarios"]],standalone:!0,features:[n.jDz],decls:18,vars:3,consts:[[1,"ion-no-border"],[1,"contenedor-header-dark"],[1,"primary"],[1,"contenedor-principal"],[1,"segment-toolbar"],["value","pendientes","color","morado-custom"],["value","pendientes",3,"click"],["value","contestados",3,"click"],["id","pendientes",4,"ngIf"],["class","contenido-viejo",4,"ngIf"],["id","pendientes"],["class","lista-vacia",4,"ngIf"],["class","lista-cuestionarios",4,"ngIf"],[1,"lista-vacia"],[1,"lista-cuestionarios"],["lines","none","detail","true",3,"click",4,"ngFor","ngForOf"],["lines","none","detail","true",3,"click"],["lines","none","button","",1,"texto-ver-mas",3,"click"],[4,"ngIf"],[1,"contenido-viejo"],[1,"contenido"],["value","pendientes","color","tertiary"],["class","pendientes",4,"ngIf"],["class","contestados",4,"ngIf"],[1,"pendientes"],["class","mensajeVacio",4,"ngIf"],[1,"mensajeVacio"],[1,"texto-seccion"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],[1,"btn-responder",3,"click"],[1,"contestados"],["button","true",3,"click",4,"ngFor","ngForOf"],["class","texto-ver-mas","button","true","lines","none",3,"click",4,"ngIf"],["button","true",3,"click"],["name","chevron-forward"],["button","true","lines","none",1,"texto-ver-mas",3,"click"],["button","true",1,"texto-ver-mas",3,"click"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-title"),n._uU(4," Cuestionarios "),n.qZA()()()(),n.TgZ(5,"ion-content",2)(6,"div",3)(7,"ion-toolbar",4)(8,"ion-segment",5)(9,"ion-segment-button",6),n.NdJ("click",function(){return i.changeSection("pendientes")}),n.TgZ(10,"ion-label"),n._uU(11,"Pendientes"),n.qZA()(),n.TgZ(12,"ion-segment-button",7),n.NdJ("click",function(){return i.changeSection("contestados")}),n.TgZ(13,"ion-label"),n._uU(14,"Contestados"),n.qZA()()()(),n.YNc(15,k,3,2,"div",8),n.YNc(16,S,3,2,"div",8),n.qZA(),n.YNc(17,K,11,2,"div",9),n.qZA()),2&t&&(n.xp6(15),n.Q6J("ngIf","pendientes"===i.segmentoSeleccionado),n.xp6(1),n.Q6J("ngIf","contestados"===i.segmentoSeleccionado),n.xp6(1),n.Q6J("ngIf",!1))},dependencies:[s.Pc,s.YG,s.W2,s.Gu,s.gu,s.Ie,s.Q$,s.q_,s.cJ,s.GO,s.yW,s.wd,s.sr,s.QI,l.ez,l.sg,l.O5,l.uU,m.u5],styles:[".contenedor-principal[_ngcontent-%COMP%]{height:100%}.contenedor-principal[_ngcontent-%COMP%]   .lista-cuestionarios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:var(--primary-50);padding-top:16px!important}.contenedor-principal[_ngcontent-%COMP%]   .lista-cuestionarios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50);--detail-icon-opacity: 1;--detail-icon-color: var(--neutral-900);--inner-padding-end: 32px !important}.contenedor-principal[_ngcontent-%COMP%]   .lista-cuestionarios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:16px}.contenedor-principal[_ngcontent-%COMP%]   .lista-cuestionarios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-cuestionarios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}"]}),a})();class M{constructor(){}}var f=_(7746),O=_(1135);let P=(()=>{var o;class a{constructor(t){this.http=t,this.dataUrl="examenReactivo/"}consultarReactivosExamen(t){return this.http.get(this.dataUrl+`consultarReactivosExamen/${t}`)}revisar(t){return this.http.post(this.dataUrl+"revisar",t)}}return(o=a).\u0275fac=function(t){return new(t||o)(n.LFG(h.eN))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();var b=_(1814);function X(o,a){1&o&&(n.TgZ(0,"ion-label"),n._uU(1,"Atr\xe1s"),n.qZA())}function W(o,a){1&o&&(n.TgZ(0,"ion-label"),n._uU(1,"Cerrar"),n.qZA())}function nn(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-buttons",8)(1,"ion-button",9),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.cerrar())}),n._UZ(2,"ion-icon",10),n.YNc(3,X,2,0,"ion-label",11),n.YNc(4,W,2,0,"ion-label",11),n.qZA()()}if(2&o){const e=n.oxw();n.xp6(3),n.Q6J("ngIf",!e.presentando),n.xp6(1),n.Q6J("ngIf",e.presentando)}}function tn(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",12)(1,"div",13)(2,"div",14)(3,"ion-text")(4,"h3"),n._uU(5,"Bienvenido(a) al cuestionario en l\xednea:"),n.qZA(),n.TgZ(6,"h1"),n._uU(7),n.qZA()()(),n.TgZ(8,"div",15)(9,"ion-item",16)(10,"div",17),n._UZ(11,"ion-icon",18),n.qZA(),n.TgZ(12,"ion-label")(13,"p"),n._uU(14,"Fecha y hora de inicio"),n.qZA(),n.TgZ(15,"h3"),n._uU(16),n.ALo(17,"date"),n.qZA()()(),n.TgZ(18,"ion-item",16)(19,"div",17),n._UZ(20,"ion-icon",19),n.qZA(),n.TgZ(21,"ion-label")(22,"p"),n._uU(23,"Duraci\xf3n total"),n.qZA(),n.TgZ(24,"h3"),n._uU(25),n.qZA()()(),n.TgZ(26,"ion-item",16)(27,"div",17),n._UZ(28,"ion-icon",20),n.qZA(),n.TgZ(29,"ion-label")(30,"p"),n._uU(31,"Cantidad de reactivos"),n.qZA(),n.TgZ(32,"h3"),n._uU(33),n.qZA()()()(),n.TgZ(34,"div",21)(35,"ion-text")(36,"h3"),n._uU(37," Antes de iniciar:"),n.qZA(),n.TgZ(38,"p"),n._uU(39,"\u2022 Antes de responder lea con atenci\xf3n los reactivos y seleccione la respuesta que crea adecuada."),n.qZA(),n.TgZ(40,"p"),n._uU(41,'\u2022 Para pasar al siguiente reactivo, presione en el bot\xf3n "Siguiente".'),n.qZA(),n.TgZ(42,"p"),n._uU(43,'\u2022 Si desea regresar al reactivo anterior, presione el bot\xf3n "Anterior".'),n.qZA(),n.TgZ(44,"p"),n._uU(45,'\u2022 Si desea Terminar el examen antes de finalizarlo presione "Cerrar".'),n.qZA()()()(),n.TgZ(46,"div",22)(47,"div",23)(48,"ion-button",24),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.iniciarExamen())}),n._uU(49,"Iniciar cuestionario"),n.qZA()()()()}if(2&o){const e=n.oxw();n.xp6(7),n.Oqu(e.examen.tipoExamen),n.xp6(9),n.Oqu(n.gM2(17,4,e.examen.fechaExamen,"MMMM d, y 'a las' h:mm a","","es-MX")),n.xp6(9),n.hij("",e.examen.duracion," minutos"),n.xp6(8),n.hij("",e.examen.totalPreguntas," reactivos")}}function en(o,a){if(1&o&&n._UZ(0,"ion-img",39),2&o){const e=n.oxw(3);n.Q6J("src",e.reactivoList[e.indice].imagenBase64)}}function on(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",35)(1,"ion-button",36),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.VerImagen(i.reactivoList[i.indice].imagenBase64))}),n._UZ(2,"ion-icon",37),n.qZA(),n.YNc(3,en,1,1,"ion-img",38),n.qZA()}if(2&o){const e=n.oxw(2);n.xp6(3),n.Q6J("ngIf",e.preguntaTieneImagen(e.reactivoList[e.indice].imagenBase64))}}const an=function(o){return{seleccionado:o}};function rn(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-item",40),n.NdJ("click",function(){const i=n.CHM(e),r=i.index,c=i.$implicit,d=n.oxw(2);return n.KtG(d.seleccionarRespuesta(d.indice,r,c))}),n.TgZ(1,"ion-label"),n._uU(2),n.qZA()()}if(2&o){const e=a.$implicit,t=a.index,i=n.oxw(2);n.Q6J("ngClass",n.VKq(3,an,i.reactivoList[i.indice].respuestaSeleccionadaIndex==t)),n.xp6(2),n.AsE(" ",e.clave,") ",e.respuesta1," ")}}function sn(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"ion-button",44),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(3);return n.KtG(i.anterior())}),n._uU(1," Anterior "),n.qZA()}}function cn(o,a){1&o&&(n.TgZ(0,"ion-label"),n._uU(1,"Siguiente"),n.qZA())}function ln(o,a){1&o&&(n.TgZ(0,"ion-label"),n._uU(1,"Finalizar"),n.qZA())}function _n(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",41),n.YNc(1,sn,2,0,"ion-button",42),n.TgZ(2,"ion-button",43),n.NdJ("click",function(){n.CHM(e);const i=n.oxw(2);return n.KtG(i.siguiente())}),n.YNc(3,cn,2,0,"ion-label",11),n.YNc(4,ln,2,0,"ion-label",11),n.qZA()()}if(2&o){const e=n.oxw(2);n.Q6J("ngClass",0===e.indice?"botones-column":"botones-row"),n.xp6(1),n.Q6J("ngIf",e.indice>0),n.xp6(1),n.Q6J("disabled",!e.hayRespuestaSeleccionada(e.indice)),n.xp6(1),n.Q6J("ngIf",e.indice+1!==e.reactivoList.length),n.xp6(1),n.Q6J("ngIf",e.indice+1===e.reactivoList.length)}}function pn(o,a){if(1&o&&(n.TgZ(0,"div",25)(1,"div",26)(2,"ion-label")(3,"p"),n._uU(4),n.qZA(),n.TgZ(5,"h3"),n._uU(6),n.qZA()(),n._UZ(7,"ion-progress-bar",27),n.qZA(),n.TgZ(8,"div",28)(9,"div",29)(10,"ion-text")(11,"h3"),n._uU(12),n.qZA()(),n.YNc(13,on,4,1,"div",30),n.qZA(),n.TgZ(14,"div",31)(15,"ion-list"),n.YNc(16,rn,3,5,"ion-item",32),n.qZA()()(),n.TgZ(17,"div",33),n.YNc(18,_n,5,5,"div",34),n.qZA()()),2&o){const e=n.oxw();n.xp6(4),n.AsE("",e.indice+1," de ",e.examen.totalPreguntas,""),n.xp6(2),n.Oqu(e.examen.tipoExamen),n.xp6(1),n.Q6J("value",e.progreso),n.xp6(5),n.Oqu(e.reactivoList[e.indice].pregunta),n.xp6(1),n.Q6J("ngIf",e.preguntaTieneImagen(e.reactivoList[e.indice].imagenBase64)),n.xp6(3),n.Q6J("ngForOf",e.reactivoList[e.indice].respuestasSeparadas),n.xp6(2),n.Q6J("ngIf",!0)}}function dn(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",45)(1,"div",46)(2,"ion-text")(3,"h3"),n._uU(4,"\xa1Has llegado al final del cuestionario!"),n.qZA(),n.TgZ(5,"p"),n._uU(6,"Agradecemos tu tiempo y el valor de tus respuestas."),n.qZA()()(),n.TgZ(7,"div",47)(8,"div",48)(9,"ion-button",49),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.anterior())}),n._uU(10," Anterior "),n.qZA(),n.TgZ(11,"ion-button",50),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.presentAlertTerminar())}),n._uU(12," Finalizar "),n.qZA()()()()}if(2&o){const e=n.oxw();n.xp6(11),n.Q6J("disabled",e.submitting)}}let gn=(()=>{var o;class a{constructor(t,i,r,c,d,u){this.examenService=t,this.examenReactivoService=i,this.route=r,this.router=c,this.alertController=d,this.modalController=u,this.cargandoSubject=new O.X(!1),this.cargando$=this.cargandoSubject.asObservable(),this.examen=new M,this.reactivoList=[],this.submitting=!1,this.presentando=!1,this.examenTerminado=!1,this.mostrarMsgFinal=!1,this.indice=0,this.progreso=0,this.porcentajePorPregunta=0,this.segundosRestantes=0,this.lastMinute=!1,(0,C.a)({calendar:"/assets/img/svg/calendar.svg",clock:"/assets/img/svg/clock-2.svg","file-check":"/assets/img/svg/file-check-2.svg"})}ngOnInit(){this.route.paramMap.subscribe(t=>{this.idExamen=t.get("id"),this.idExamen>0&&this.consultarExamen(this.idExamen)}),this.cargando$.subscribe(t=>{t?this.presentLoading():this.dismissLoading()})}onExit(){if(!this.examenTerminado&&this.presentando){const t=this.presentAlertSalir();return t.then(i=>{1==i&&this.terminarExamen()}),t}return!0}presentLoading(){var t=this;return(0,p.Z)(function*(){return t.loading=yield t.alertController.create({cssClass:"custom-alert-loading",backdropDismiss:!1}),yield t.loading.present()})()}dismissLoading(){var t=this;return(0,p.Z)(function*(){t.loading&&(yield t.loading.dismiss(),t.loading=null)})()}consultarExamen(t){this.cargandoSubject.next(!0),this.examenService.consultarMiExamen(t).subscribe({next:i=>{this.examen=i,this.porcentajePorPregunta=1/i.totalPreguntas,this.progreso=this.porcentajePorPregunta,this.segundosRestantes=60*this.examen.duracion},error:()=>{this.cargandoSubject.next(!1)},complete:()=>{this.cargandoSubject.next(!1)}})}consultarReactivos(){this.examenReactivoService.consultarReactivosExamen(this.examen.idExamen).subscribe({next:t=>{this.reactivoList=t.map(i=>({...i,respuestasSeparadas:i.respuestas,respuestaSeleccionadaIndex:void 0})),(this.examen.totalPreguntas!=this.reactivoList.length||0==this.reactivoList.length)&&this.cargandoSubject.next(!1)},error:()=>{this.cargandoSubject.next(!1),this.presentAlertError()},complete:()=>{this.cargandoSubject.next(!1),this.iniciarTimer(),this.presentando=!0}})}separarRespuestas(t){return t.split(/(?=\d\))/).map(r=>r.trim())}seleccionarRespuesta(t,i,r){this.reactivoList[t].respuestaAlumno=r.clave,this.reactivoList[t].respuestaSeleccionadaIndex=i,this.reactivoList[t].respuestaValor=r.valor}hayRespuestaSeleccionada(t){return null!=this.reactivoList[t].respuestaSeleccionadaIndex&&""!=this.reactivoList[t].respuestaAlumno}iniciarExamen(){this.cargandoSubject.next(!0),this.consultarReactivos()}terminarExamen(){this.examenTerminado||(this.cargandoSubject.next(!0),clearInterval(this.interval),this.submitting=!0,this.examenReactivoService.revisar(this.reactivoList).subscribe({next:t=>{this.examen.resultado=t},error:()=>{this.cargandoSubject.next(!1)},complete:()=>{this.submitting=!1,this.examenTerminado=!0,this.cargandoSubject.next(!1),this.presentAlertSuccess()}}))}siguiente(){if(this.indice+1==this.reactivoList.length)return this.mostrarMsgFinal=!0,void(this.progreso=1);this.indice++,this.progreso=(this.indice+1)*this.porcentajePorPregunta}anterior(){if(0!=this.indice){if(this.mostrarMsgFinal)return this.progreso=(this.indice+1)*this.porcentajePorPregunta,void(this.mostrarMsgFinal=!1);this.indice--,this.progreso=(this.indice+1)*this.porcentajePorPregunta}}iniciarTimer(){this.interval=setInterval(()=>this.updateTimer(),1e3),setTimeout(()=>this.terminarExamen(),1e3*this.segundosRestantes)}updateTimer(){this.segundosRestantes--,0==this.segundosRestantes?clearInterval(this.interval):this.segundosRestantes<60&&!this.lastMinute&&(this.lastMinute=!0,this.presentAlertTiempo())}preguntaTieneImagen(t){return""!==t&&"data:;base64,"!==t&&null!=t}VerImagen(t){var i=this;return(0,p.Z)(function*(){const r=yield i.modalController.create({component:f.F,cssClass:"image-only-modal",componentProps:{archivo:t}});""!==t&&"data:;base64,"!==t&&null!=t&&r.present()})()}cerrar(){this.router.navigateByUrl("/home/cuestionarios/misCuestionarios")}presentAlertSalir(){var t=this;return(0,p.Z)(function*(){const i=yield t.alertController.create({header:"\xbfEst\xe1 seguro(a) que desea salir?",subHeader:"El cuestionario se enviar\xe1 incompleto",cssClass:"custom-alert color-error icon-info two-buttons",backdropDismiss:!1,buttons:[{text:"Cancelar",role:"cancel",handler:()=>!1},{text:"Salir",role:"confirm",handler:()=>!0}]});return yield i.present(),"cancel"!==(yield i.onWillDismiss()).role})()}presentAlertError(){var t=this;return(0,p.Z)(function*(){(yield t.alertController.create({header:"Ha ocurrido un error",subHeader:"No fue posible consultar este cuestionario",cssClass:"custom-alert color-error icon-info",buttons:[{text:"Ok",role:"confirm",handler:()=>{t.cerrar()}}]})).present()})()}presentAlertTiempo(){var t=this;return(0,p.Z)(function*(){yield(yield t.alertController.create({header:"Advertencia",subHeader:"S\xf3lo queda 1 minuto para responder el examen",cssClass:"custom-alert color-error icon-info",buttons:["Ok"]})).present()})()}presentAlertSuccess(){var t=this;return(0,p.Z)(function*(){yield(yield t.alertController.create({header:"\xa1Cuestionario enviado exitosamente!",cssClass:"custom-alert color-primary icon-check",buttons:[{text:"Cerrar",role:"confirm",handler:()=>{t.cerrar()}}]})).present()})()}presentAlertTerminar(){var t=this;return(0,p.Z)(function*(){yield(yield t.alertController.create({header:"\xbfEnv\xedar cuestionario?",subHeader:"\xbfSeguro(a) que desea terminar y enviar el cuestionario?",cssClass:"custom-alert color-primary icon-info two-buttons",buttons:[{text:"Cancelar",role:"cancel"},{text:"Enviar",role:"confirm",handler:()=>{t.terminarExamen()}}]})).present()})()}}return(o=a).\u0275fac=function(t){return new(t||o)(n.Y36(x),n.Y36(P),n.Y36(g.gz),n.Y36(g.F0),n.Y36(s.Br),n.Y36(b.IN))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-responder-cuestionario"]],standalone:!0,features:[n.jDz],decls:11,vars:9,consts:[[1,"ion-no-border"],[3,"ngClass"],["class","start","slot","start",4,"ngIf"],[1,"primary"],[1,"contenedor-principal"],["id","pagina-inicial",4,"ngIf"],["id","cuestionario",4,"ngIf"],["id","pagina-final",4,"ngIf"],["slot","start",1,"start"],[3,"click"],["slot","start","name","chevron-left"],[4,"ngIf"],["id","pagina-inicial"],[1,"presentacion"],[1,"titulo"],[1,"datos"],["lines","none"],["slot","start",1,"contenedor-icono"],["name","calendar"],["name","clock"],["name","file-check"],[1,"instrucciones"],[1,"botones-inicio"],[1,"botones","botones-column"],[1,"dark",3,"click"],["id","cuestionario"],[1,"progreso"],[3,"value"],[1,"contenido-pregunta"],[1,"pregunta"],["class","imagen",4,"ngIf"],[1,"opciones"],["lines","none","button","",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"botones-pregunta"],["class","botones",3,"ngClass",4,"ngIf"],[1,"imagen"],[1,"verFoto",3,"click"],["slot","icon-only","name","external-link"],["alt","imagen de pregunta",3,"src",4,"ngIf"],["alt","imagen de pregunta",3,"src"],["lines","none","button","",3,"ngClass","click"],[1,"botones",3,"ngClass"],["class","transparent-light padding-derecho",3,"click",4,"ngIf"],[1,"dark","padding-izquierdo",3,"disabled","click"],[1,"transparent-light","padding-derecho",3,"click"],["id","pagina-final"],[1,"mensaje-final"],[1,"botones-final"],[1,"botones","botones-row"],[1,"transparent-dark","padding-derecho",3,"click"],[1,"light","padding-izquierdo",3,"disabled","click"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar"),n.YNc(3,nn,5,2,"ion-buttons",2),n.qZA()()(),n.TgZ(4,"ion-content",3)(5,"div",4),n.YNc(6,tn,50,9,"div",5),n.ALo(7,"async"),n.YNc(8,pn,19,8,"div",6),n.ALo(9,"async"),n.YNc(10,dn,13,1,"div",7),n.qZA()()),2&t&&(n.xp6(1),n.Q6J("ngClass",i.mostrarMsgFinal?"contenedor-header-dark":"contenedor-header-light"),n.xp6(2),n.Q6J("ngIf",!i.mostrarMsgFinal),n.xp6(3),n.Q6J("ngIf",!i.presentando&&!i.examenTerminado&&!n.lcZ(7,5,i.cargando$)),n.xp6(2),n.Q6J("ngIf",i.presentando&&!i.examenTerminado&&!i.mostrarMsgFinal&&!n.lcZ(9,7,i.cargando$)),n.xp6(2),n.Q6J("ngIf",i.mostrarMsgFinal))},dependencies:[s.Pc,s.YG,s.Sm,s.W2,s.Gu,s.gu,s.Xz,s.Ie,s.Q$,s.q_,s.X7,s.yW,s.sr,l.ez,l.mk,l.sg,l.O5,l.Ov,l.uU,m.u5],styles:[".contenedor-principal[_ngcontent-%COMP%], .contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]{min-height:80vh}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]{min-height:70vh;padding-top:16px;padding-left:32px;padding-right:32px}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900);font-weight:700}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-display);font-size:24px;color:var(--primary-700);font-weight:700}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]{border-width:0 0 1px 0;border-style:solid;border-color:var(--neutral-200);padding-bottom:32px}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:var(--font-body)}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--neutral-400);margin:0}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;color:var(--primary-700);font-weight:700;margin:0}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){padding-left:0}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .datos[_ngcontent-%COMP%]   .contenedor-icono[_ngcontent-%COMP%]{height:32px;width:32px;background:var(--primary-100);color:var(--primary-700);display:flex;justify-content:center;align-items:center;margin-right:12px!important;border-radius:100%!important}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .instrucciones[_ngcontent-%COMP%]{margin-top:24px}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .instrucciones[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:var(--neutral-900);font-family:var(--font-body)}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .instrucciones[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px!important;font-weight:700;margin:0 0 16px}.contenedor-principal[_ngcontent-%COMP%]   #pagina-inicial[_ngcontent-%COMP%]   .presentacion[_ngcontent-%COMP%]   .instrucciones[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px!important;margin:0 0 4px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]{min-height:80vh}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]{height:10vh;padding-left:32px;padding-right:32px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:var(--font-display)}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:var(--neutral-400)}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-700);font-weight:700}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .progreso[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{--background: var(--neutral-200);--progress-background: var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]{min-height:60vh;padding-left:32px;padding-right:32px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:20px;color:var(--neutral-900);margin-bottom:16px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{padding:16px 20px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .verFoto[_ngcontent-%COMP%]{margin:12px 0 0 20px;position:absolute;color:var(--neutral-50);--background: rgba(0, 0, 0, .05);--box-shadow: 0 !important;--border-radius: 8px;width:32px;height:32px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .verFoto[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .verFoto[_ngcontent-%COMP%]::part(native){padding:0!important}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .pregunta[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){border-radius:16px;height:170px!important;width:100%!important;object-fit:cover}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:0;background:transparent}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-radius: 8px;--background: var(--primary-50);--border-width: 1px;--border-color: var(--neutral-200);--border-style: solid;box-shadow:0 1px 3px 1px #00000014;margin-bottom:16px}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px;font-family:var(--font-body);color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item.seleccionado[_ngcontent-%COMP%]{--background: var(--primary-100);--border-color: var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item.seleccionado[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--primary-700);font-weight:700}.contenedor-principal[_ngcontent-%COMP%]   #cuestionario[_ngcontent-%COMP%]   .contenido-pregunta[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){min-height:56px}.contenedor-principal[_ngcontent-%COMP%]   #pagina-final[_ngcontent-%COMP%]{min-height:80vh;background:url(done-illustration.b1e9212a5f6f7113.svg);background-position:center;background-repeat:no-repeat;background-color:var(--primary-800)}.contenedor-principal[_ngcontent-%COMP%]   #pagina-final[_ngcontent-%COMP%]   .mensaje-final[_ngcontent-%COMP%]{height:70vh;padding:32px;text-align:center}.contenedor-principal[_ngcontent-%COMP%]   #pagina-final[_ngcontent-%COMP%]   .mensaje-final[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:var(--neutral-50)}.contenedor-principal[_ngcontent-%COMP%]   #pagina-final[_ngcontent-%COMP%]   .mensaje-final[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:24px;font-family:var(--font-display)}.contenedor-principal[_ngcontent-%COMP%]   #pagina-final[_ngcontent-%COMP%]   .mensaje-final[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-family:var(--font-body)}.contenedor-principal[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{height:10vh!important}"]}),a})();function un(o,a){if(1&o&&n._UZ(0,"ion-img",21),2&o){const e=n.oxw(2).$implicit;n.Q6J("src",e.imagenBase64)}}function mn(o,a){if(1&o){const e=n.EpF();n.TgZ(0,"div",17)(1,"ion-button",18),n.NdJ("click",function(){n.CHM(e);const i=n.oxw().$implicit,r=n.oxw();return n.KtG(r.VerImagen(i.imagenBase64))}),n._UZ(2,"ion-icon",19),n.qZA(),n.YNc(3,un,1,1,"ion-img",20),n.qZA()}if(2&o){const e=n.oxw().$implicit,t=n.oxw();n.xp6(3),n.Q6J("ngIf",t.preguntaTieneImagen(e.imagenBase64))}}const Cn=function(o){return{seleccionada:o}};function xn(o,a){if(1&o&&(n.TgZ(0,"p",22),n._uU(1),n.qZA()),2&o){const e=a.$implicit,t=n.oxw().$implicit,i=n.oxw();n.Q6J("ngClass",n.VKq(3,Cn,i.esRespuestaAlumno(e,t.respuestaAlumno))),n.xp6(1),n.AsE(" ",e.clave,") ",e.respuesta1," ")}}function vn(o,a){1&o&&(n.TgZ(0,"p",23),n._uU(1," No respondi\xf3 "),n.qZA())}function hn(o,a){if(1&o&&(n.TgZ(0,"div",10)(1,"div",11)(2,"ion-label")(3,"p"),n._uU(4),n.qZA()()(),n.TgZ(5,"div",12),n.YNc(6,mn,4,1,"div",13),n.TgZ(7,"ion-label",14),n.YNc(8,xn,2,5,"p",15),n.YNc(9,vn,2,0,"p",16),n.qZA()()()),2&o){const e=a.$implicit,t=a.index,i=n.oxw();n.xp6(4),n.AsE("",t+1,". ",e.pregunta,""),n.xp6(2),n.Q6J("ngIf",i.preguntaTieneImagen(e.imagenBase64)),n.xp6(2),n.Q6J("ngForOf",e.respuestas),n.xp6(1),n.Q6J("ngIf",""===e.respuestaAlumno)}}let Mn=(()=>{var o;class a{constructor(t,i,r,c,d,u){this.route=t,this.examenService=i,this.examenReactivoService=r,this.router=c,this.modalController=d,this.alertController=u,this.examen=new M,this.reactivoList=[],this.cargandoSubject=new O.X(!1),this.cargando$=this.cargandoSubject.asObservable(),(0,C.a)({"external-link":"assets/img/svg/external-link.svg"})}ngOnInit(){this.route.paramMap.subscribe(t=>{this.idExamen=t.get("id")}),this.cargando$.subscribe(t=>{t?this.presentLoading():this.dismissLoading()})}ionViewWillEnter(){this.idExamen>0&&this.consultarExamen(this.idExamen)}presentLoading(){var t=this;return(0,p.Z)(function*(){return t.loading=yield t.alertController.create({cssClass:"custom-alert-loading",backdropDismiss:!1}),yield t.loading.present()})()}dismissLoading(){var t=this;return(0,p.Z)(function*(){t.loading&&(yield t.loading.dismiss(),t.loading=null)})()}consultarExamen(t){this.cargandoSubject.next(!0),this.examenService.consultarMiExamen(t).subscribe(i=>{this.examen=i,this.tipoExamen=this.examen.tipoExamen,this.fechaExamen=new Date(this.examen.fechaExamen).toISOString(),this.consultarReactivos()})}consultarReactivos(){this.examenReactivoService.consultarReactivosExamen(this.examen.idExamen).subscribe({next:t=>{this.reactivoList=t},error:()=>{this.cargandoSubject.next(!1)},complete:()=>{this.cargandoSubject.next(!1)}})}VerImagen(t){var i=this;return(0,p.Z)(function*(){const r=yield i.modalController.create({component:f.F,cssClass:"image-only-modal",componentProps:{archivo:t}});""!==t&&"data:;base64,"!==t&&null!=t&&r.present()})()}preguntaTieneImagen(t){return""!==t&&"data:;base64,"!==t&&null!=t}regresar(){this.router.navigate(["/home/cuestionarios/misCuestionarios"],{})}separarRespuestas(t){return t.split(/(?=\d\))/).map(r=>r.trim())}esRespuestaAlumno(t,i){return t.clave==i}presentAlertError(){var t=this;return(0,p.Z)(function*(){(yield t.alertController.create({header:"Ha ocurrido un error",subHeader:"No fue posible consultar este cuestionario",cssClass:"custom-alert color-error icon-info",buttons:[{text:"Ok",role:"confirm",handler:()=>{t.regresar()}}]})).present()})()}}return(o=a).\u0275fac=function(t){return new(t||o)(n.Y36(g.gz),n.Y36(x),n.Y36(P),n.Y36(g.F0),n.Y36(b.IN),n.Y36(s.Br))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-ver-cuestionario"]],standalone:!0,features:[n.jDz],decls:19,vars:8,consts:[[1,"ion-no-border"],[1,"contenedor-header-light"],["slot","start",1,"start"],[3,"click"],["slot","start","name","chevron-left"],[1,"primary"],[1,"contenedor-principal"],[1,"titulo"],[1,"preguntas"],["class","card-pregunta",4,"ngFor","ngForOf"],[1,"card-pregunta"],[1,"header-pregunta"],[1,"content-respuestas"],["class","imagen",4,"ngIf"],[1,"opciones"],[3,"ngClass",4,"ngFor","ngForOf"],["style","color: var(--error-200); padding-top: 32px;",4,"ngIf"],[1,"imagen"],[1,"verFoto",3,"click"],["slot","icon-only","name","external-link"],["alt","imagen de pregunta",3,"src",4,"ngIf"],["alt","imagen de pregunta",3,"src"],[3,"ngClass"],[2,"color","var(--error-200)","padding-top","32px"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n.NdJ("click",function(){return i.regresar()}),n._UZ(5,"ion-icon",4),n.TgZ(6,"ion-label"),n._uU(7,"Atr\xe1s"),n.qZA()()()()()(),n.TgZ(8,"ion-content",5)(9,"div",6)(10,"div",7)(11,"ion-text")(12,"p"),n._uU(13),n.ALo(14,"date"),n.qZA(),n.TgZ(15,"h3"),n._uU(16),n.qZA()()(),n.TgZ(17,"div",8),n.YNc(18,hn,10,5,"div",9),n.qZA()()()),2&t&&(n.xp6(13),n.Oqu(n.gM2(14,3,i.fechaExamen,"MMMM d, y","","es-MX")),n.xp6(3),n.Oqu(i.tipoExamen),n.xp6(2),n.Q6J("ngForOf",i.reactivoList))},dependencies:[s.Pc,s.YG,s.Sm,s.W2,s.Gu,s.gu,s.Xz,s.Q$,s.yW,s.sr,l.ez,l.mk,l.sg,l.O5,l.uU,m.u5,g.Bz],styles:[".contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:var(--font-body);font-size:16px;color:var(--neutral-400)}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]{padding:32px}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]{background:white;border-radius:16px;height:auto;min-height:244px;margin-bottom:16px;padding:32px 20px;box-shadow:0 2px 4px 1px #00000014}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .header-pregunta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{padding:16px 20px}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .verFoto[_ngcontent-%COMP%]{margin:12px 0 0 20px;position:absolute;color:var(--neutral-50);--background: rgba(0, 0, 0, .05);--box-shadow: 0 !important;--border-radius: 8px;width:32px;height:32px}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .verFoto[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .verFoto[_ngcontent-%COMP%]::part(native){padding:0!important}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){border-radius:16px;height:170px!important;width:100%!important;object-fit:cover}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]{margin-top:16px;margin-left:24px}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600);white-space:pre-wrap}.contenedor-principal[_ngcontent-%COMP%]   .preguntas[_ngcontent-%COMP%]   .card-pregunta[_ngcontent-%COMP%]   .content-respuestas[_ngcontent-%COMP%]   .opciones[_ngcontent-%COMP%]   p.seleccionada[_ngcontent-%COMP%]{color:var(--primary-700);font-weight:700}"]}),a})();const On=[{path:"",component:T,children:[{path:"misCuestionarios",component:B},{path:"responder/:id",canDeactivate:[_(1415).Q],component:gn},{path:"ver/:id",component:Mn},{path:"**",redirectTo:"misCuestionarios",pathMatch:"full"}]}]}}]);