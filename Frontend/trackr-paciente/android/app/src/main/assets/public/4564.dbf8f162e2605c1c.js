"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4564],{4564:(h,P,c)=>{c.r(P),c.d(P,{InfoAntecedentesComponent:()=>J});var u=c(5861),g=c(6895),d=c(433),e=c(12),_=c(2583),m=c(1297),a=c(9808),M=c(429),A=c(7930),n=c(1571),b=c(6958),O=c(6203),y=c(9134),f=c(1814);function Z(r,s){if(1&r&&(n.TgZ(0,"ion-select-option",19),n._uU(1),n.qZA()),2&r){const o=s.$implicit;n.Q6J("value",null==o?null:o.idPadecimiento),n.xp6(1),n.hij(" ",null==o?null:o.nombre," ")}}function D(r,s){if(1&r){const o=n.EpF();n.TgZ(0,"ion-datetime",20,21),n.NdJ("ngModelChange",function(i){n.CHM(o);const l=n.oxw();return n.KtG(l.expedientePadecimientoDto.fechaDiagnostico=i)}),n.qZA()}if(2&r){const o=n.oxw();n.Q6J("ngModel",o.expedientePadecimientoDto.fechaDiagnostico)("max",o.fechaActual)}}function T(r,s){if(1&r&&(n.TgZ(0,"ion-select-option",19),n._uU(1),n.qZA()),2&r){const o=s.$implicit;n.Q6J("value",null==o?null:o.idUsuarioDoctor),n.xp6(1),n.hij(" ",null==o?null:o.nombre," ")}}const v=function(){return{cssClass:"custom-select-popover"}};let U=(()=>{var r;class s{constructor(t,i,l,p){this.entidadEstructuraService=t,this.expedientePadecimientoService=i,this.doctoresService=l,this.modalController=p,this.expedientePadecimientoDto=new A.D,this.btnSubmit=!1,this.fechaActual=(new Date).toISOString(),(0,_.a)({calendarOutline:m.rom,chevronUp:m.m5K,chevronDown:m.Dd1})}ngOnInit(){this.consultarAntecedentesSelector(),this.consultarDoctores()}consultarAntecedentesSelector(){var t=this;return(0,u.Z)(function*(){return(0,a.n)(t.entidadEstructuraService.consultarAntecedentesParaSelector()).then(i=>{t.antecedenteFiltradoList=i.filter(l=>!t.antecedentesUsuario.some(p=>p.idPadecimiento===l.idPadecimiento))})})()}consultarDoctores(){this.doctoresService.consultarExpediente().subscribe({next:t=>{this.misDoctoresList=t},error:()=>{},complete:()=>{}})}enviarFormulario(t){this.btnSubmit=!0,t.valid?this.agregarExpedientePadecimiento(this.expedientePadecimientoDto):(0,M.CW)(t)}agregarExpedientePadecimiento(t){this.expedientePadecimientoService.agregarPadecimiento(t).subscribe({next:()=>{},error:()=>{},complete:()=>{this.modalController.dismiss()}})}}return(r=s).\u0275fac=function(t){return new(t||r)(n.Y36(b.B),n.Y36(O.n),n.Y36(y.q),n.Y36(f.IN))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-antecedente-formulario"]],inputs:{antecedentesUsuario:"antecedentesUsuario"},standalone:!0,features:[n.jDz],decls:37,vars:10,consts:[[1,"contenedor-principal"],[1,"titulo"],[1,"formulario"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"contenido-formulario"],[1,"inputs"],[1,"input"],["lines","none",1,"select-input"],["id","padecimiento","name","padecimientoName","interface","popover","toggleIcon","chevron-up","expandedIcon","chevron-down","placeholder","Seleccionar","required","",3,"interfaceOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"date-input"],["datetime","fechaRealizacion"],[1,"input-icon"],["name","calendar-outline"],[3,"keepContentsMounted"],["id","doctor","name","doctorName","interface","popover","placeholder","Seleccionar","toggleIcon","chevron-up","expandedIcon","chevron-down","required","",3,"interfaceOptions","ngModel","ngModelChange"],[1,"botones"],["type","submit",1,"guardar",3,"disabled"],[3,"value"],["presentation","date","color","morado-custom","name","fechaRealizacion","id","fechaRealizacion","showDefaultButtons","true","locale","es-ES","required","",3,"ngModel","max","ngModelChange"],["fechaRealizacion","ngModel"]],template:function(t,i){if(1&t){const l=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"ion-text")(3,"h1"),n._uU(4,"A\xf1adir antecedente"),n.qZA()()(),n.TgZ(5,"div",2)(6,"form",3,4),n.NdJ("keydown.enter",function(C){return C.preventDefault()})("ngSubmit",function(){n.CHM(l);const C=n.MAs(7);return n.KtG(i.enviarFormulario(C))}),n.TgZ(8,"div",5)(9,"ion-list",6)(10,"div",7)(11,"ion-text")(12,"p"),n._uU(13,"Tipo de antecedente"),n.qZA()(),n.TgZ(14,"ion-item",8)(15,"ion-select",9),n.NdJ("ngModelChange",function(C){return i.expedientePadecimientoDto.idPadecimiento=C}),n.YNc(16,Z,2,2,"ion-select-option",10),n.qZA()()(),n.TgZ(17,"div",7)(18,"ion-text")(19,"p"),n._uU(20,"Fecha de diagn\xf3stico/procedimiento"),n.qZA()(),n.TgZ(21,"ion-item",11),n._UZ(22,"ion-datetime-button",12),n.TgZ(23,"div",13),n._UZ(24,"ion-icon",14),n.qZA()(),n.TgZ(25,"ion-modal",15),n.YNc(26,D,2,2,"ng-template"),n.qZA()(),n.TgZ(27,"div",7)(28,"ion-text")(29,"p"),n._uU(30,"Doctor"),n.qZA()(),n.TgZ(31,"ion-item",8)(32,"ion-select",16),n.NdJ("ngModelChange",function(C){return i.expedientePadecimientoDto.idUsuarioDoctor=C}),n.YNc(33,T,2,2,"ion-select-option",10),n.qZA()()()()(),n.TgZ(34,"div",17)(35,"ion-button",18),n._uU(36,"Guardar"),n.qZA()()()()()}if(2&t){const l=n.MAs(7);n.xp6(15),n.Q6J("interfaceOptions",n.DdM(8,v))("ngModel",i.expedientePadecimientoDto.idPadecimiento),n.xp6(1),n.Q6J("ngForOf",i.antecedenteFiltradoList),n.xp6(9),n.Q6J("keepContentsMounted",!0),n.xp6(7),n.Q6J("interfaceOptions",n.DdM(9,v))("ngModel",i.expedientePadecimientoDto.idUsuarioDoctor),n.xp6(1),n.Q6J("ngForOf",i.misDoctoresList),n.xp6(2),n.Q6J("disabled",i.btnSubmit||!l.valid)}},dependencies:[e.Pc,e.YG,e.x4,e.Mj,e.gu,e.Ie,e.q_,e.t9,e.n0,e.yW,e.ki,e.QI,g.ez,g.sg,d.u5,d._Y,d.JJ,d.JL,d.Q7,d.On,d.F],styles:[".contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{padding:32px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{background:transparent;padding:0 32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-top:16px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-family:var(--font-body);font-weight:400;font-size:16px;line-height:22px;color:var(--neutral-700)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:100%;--border-width: 1px ;--border-color: var(--neutral-300);--border-radius: 8px;--background: transparent}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{width:32px;height:100%;display:flex;justify-content:center;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{max-width:calc(100% - 40px);width:100%}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]::part(native){width:100%;text-align:start;background:transparent;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:16px!important}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.select-input[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){position:absolute;right:0;color:var(--neutral-600);width:24px;height:24px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{background:var(--neutral-50);height:15vh;width:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:0 32px 36px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;width:100%;max-width:600px;height:44px;--border-radius: 8px;color:var(--neutral-50);--background: var(--primary-700);--box-shadow: 0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar.button-disabled[_ngcontent-%COMP%]{opacity:1;--background: var(--primary-300)}"]}),s})();var x=c(4384),F=c(6558);function S(r,s){if(1&r){const o=n.EpF();n.TgZ(0,"div",12)(1,"ion-text")(2,"p"),n._uU(3,"Nada Por aqu\xed. "),n._UZ(4,"br"),n._uU(5," A\xfan no hay antecedentes registrados."),n.qZA()(),n.TgZ(6,"ion-button",13),n.NdJ("click",function(){n.CHM(o);const i=n.oxw();return n.KtG(i.AgregarAntecedente())}),n._UZ(7,"ion-icon",14),n._uU(8," A\xf1adir antecedente "),n.qZA()()}}function E(r,s){if(1&r){const o=n.EpF();n.TgZ(0,"ion-item",17)(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.qZA()(),n.TgZ(9,"ion-button",18),n.NdJ("click",function(){const l=n.CHM(o).$implicit,p=n.oxw(2);return n.KtG(p.presentarAlertaEliminarAntecedente(l))}),n._UZ(10,"ion-icon",19),n.qZA()()}if(2&r){const o=s.$implicit;n.xp6(3),n.Oqu(o.nombrePadecimiento),n.xp6(2),n.Oqu(n.xi3(6,5,o.fechaDiagnostico,"dd/MM/yyyy")),n.xp6(3),n.lnq("",o.tituloDoctor," ",o.nombreDoctor," ",o.apellidosDoctor,"")}}function I(r,s){if(1&r&&(n.TgZ(0,"div",15)(1,"ion-list"),n.YNc(2,E,11,8,"ion-item",16),n.qZA()()),2&r){const o=n.oxw();n.xp6(2),n.Q6J("ngForOf",o.misAntecedentes)}}let J=(()=>{var r;class s{constructor(t,i,l,p){this.alertController=t,this.modalController=i,this.usuarioService=l,this.expedientePadecimientoService=p,(0,_.a)({chevronBack:m.Mny,add:m.IHx,trashOutline:m.gtu})}ngOnInit(){this.consultarAntecedentes()}consultarAntecedentes(){this.usuarioService.consultarAntecedentesUsuario().subscribe({next:t=>{this.misAntecedentes=t}})}presentarAlertaEliminarAntecedente(t){var i=this;return(0,u.Z)(function*(){yield(yield i.alertController.create({header:"\xbfSeguro que deseas eliminar este elemento?",subHeader:"No podr\xe1s recuperarlo",cssClass:"custom-alert-delete",buttons:[{text:"No, regresar",role:"cancel"},{text:"S\xed, eliminar",role:"confirm",handler:()=>{i.eliminarAntecedente(t)}}]})).present()})()}presentarAlertaEliminadoExitosamente(){var t=this;return(0,u.Z)(function*(){yield(yield t.alertController.create({header:"Elemento eliminado exitosamente",buttons:[{text:"De acuerdo",role:"confirm"}],cssClass:"custom-alert-success"})).present()})()}AgregarAntecedente(){var t=this;return(0,u.Z)(function*(){const i=yield t.modalController.create({component:U,componentProps:{antecedentesUsuario:t.misAntecedentes},breakpoints:[0,1],initialBreakpoint:1,cssClass:"custom-sheet-modal"});i.onWillDismiss().then(()=>{t.consultarAntecedentes()}),yield i.present()})()}eliminarAntecedente(t){this.expedientePadecimientoService.eliminar(t.idExpedientePadecimiento).subscribe({next:()=>{this.consultarAntecedentes()},error:()=>{},complete:()=>{this.presentarAlertaEliminadoExitosamente()}})}listaAntecedentesVacia(){var t;return(null===(t=this.misAntecedentes)||void 0===t?void 0:t.length)<=0}}return(r=s).\u0275fac=function(t){return new(t||r)(n.Y36(f.Br),n.Y36(e.IN),n.Y36(F.i),n.Y36(O.n))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-info-antecedentes"]],standalone:!0,features:[n.jDz],decls:19,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header-light"],["slot","start",1,"start"],["routerLink","inicio-perfil"],["slot","start","name","chevron-back"],["slot","end",1,"end"],[1,"icon-only",3,"click"],["name","add"],[1,"contenedor-principal"],[1,"titulo"],["class","lista-vacia",4,"ngIf"],["class","lista-antecedentes",4,"ngIf"],[1,"lista-vacia"],["fill","outline",3,"click"],["slot","start","name","add"],[1,"lista-antecedentes"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(t,i){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n._UZ(5,"ion-icon",4),n.TgZ(6,"ion-label"),n._uU(7,"Atr\xe1s"),n.qZA()()(),n.TgZ(8,"ion-buttons",5)(9,"ion-button",6),n.NdJ("click",function(){return i.AgregarAntecedente()}),n._UZ(10,"ion-icon",7),n.qZA()()()()(),n.TgZ(11,"ion-content")(12,"div",8)(13,"div",9)(14,"ion-text")(15,"h3"),n._uU(16,"Antecedentes"),n.qZA()()(),n.YNc(17,S,9,0,"div",10),n.YNc(18,I,3,1,"div",11),n.qZA()()),2&t&&(n.xp6(17),n.Q6J("ngIf",i.listaAntecedentesVacia()),n.xp6(1),n.Q6J("ngIf",!i.listaAntecedentesVacia()))},dependencies:[e.Pc,e.YG,e.Sm,e.W2,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.yW,e.sr,e.YI,g.ez,g.sg,g.O5,g.uU,d.u5,x.Bz,x.rH],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]{background:var(--primary-50);height:80vh}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]{height:72vh;padding-top:20vh;display:flex;flex-direction:column;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:center}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;font-family:var(--font-body);color:var(--neutral-500)}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:187px;height:44px;font-family:var(--font-body);font-weight:700;font-size:16px;--border-radius: 8px;color:var(--primary-700);--border-color: var(--primary-700);--border-width: 1px}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]{height:72vh}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:16px}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{padding-right:8.8px!important;margin-right:0!important;--ripple-color: var(--error-200)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--error-200)}"]}),s})()},6203:(h,P,c)=>{c.d(P,{n:()=>d});var u=c(1571),g=c(529);let d=(()=>{var e;class _{constructor(a){this.http=a,this.dataUrl="expedientePadecimiento/"}consultarPorUsuarioParaSelector(){return this.http.get(this.dataUrl+"consultarPorUsuarioSelector")}eliminar(a){return this.http.delete(this.dataUrl+`${a}`)}agregarPadecimiento(a){return this.http.post(this.dataUrl+"agregarExpedientePadecimiento",a)}}return(e=_).\u0275fac=function(a){return new(a||e)(u.LFG(g.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),_})()},9134:(h,P,c)=>{c.d(P,{q:()=>d});var u=c(1571),g=c(529);let d=(()=>{var e;class _{constructor(a){this.http=a,this.url="expedienteDoctor/"}consultarExpediente(){return this.http.get(this.url)}consultarExpedienteConImagenes(){return this.http.get(this.url+"conImagenes")}consultarSelector(){return this.http.get(this.url+"selector")}consultarPorUsuarioParaSelector(){return this.http.get(this.url+"selectorPorUsuario")}eliminar(a){return this.http.delete(this.url+"eliminarDoctorTrackr",{body:a})}agregar(a){return this.http.post(this.url,a)}}return(e=_).\u0275fac=function(a){return new(a||e)(u.LFG(g.eN))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),_})()}}]);