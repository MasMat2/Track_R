"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4794],{1443:(j,x,l)=>{l.d(x,{ez:()=>u,tP:()=>c});var c=(()=>{return(h=c||(c={})).Documents="DOCUMENTS",h.Data="DATA",h.Library="LIBRARY",h.Cache="CACHE",h.External="EXTERNAL",h.ExternalStorage="EXTERNAL_STORAGE",c;var h})(),u=(()=>{return(h=u||(u={})).UTF8="utf8",h.ASCII="ascii",h.UTF16="utf16",u;var h})()},6715:(j,x,l)=>{l.d(x,{k$:()=>u,y$:()=>c});var c=(()=>{return(h=c||(c={})).Heavy="HEAVY",h.Medium="MEDIUM",h.Light="LIGHT",c;var h})(),u=(()=>{return(h=u||(u={})).Success="SUCCESS",h.Warning="WARNING",h.Error="ERROR",u;var h})()},4794:(j,x,l)=>{l.r(x),l.d(x,{default:()=>Wo});var c=l(9149),u=l(6895),o=l(1571),b=l(9160),h=l(4273),T=l(4328),M=l(1481);let k=(()=>{var e;class s{constructor(t,n,r,a){this.ChatHubServiceService=t,this.chatMensajeHubService=n,this.archivoService=r,this.sanitizer=a,this.chats=[],this.mensajes=[],this.clickEnChat=!1}ngOnInit(){this.obtenerChats(),this.obtenerMensajes()}obtenerChats(){this.chats$=this.ChatHubServiceService.chat$,this.chats$.subscribe(t=>{this.chats=t,this.obtenerUltimoMensaje()})}obtenerMensajes(){this.chatMensajes$=this.chatMensajeHubService.chatMensaje$,this.chatMensajes$.subscribe(t=>{this.mensajes=t,this.obtenerUltimoMensaje()})}enviarMensaje(t){this.chatMensajeHubService.enviarMensaje({fecha:new Date,idChat:t,mensaje:this.contenido,idPersona:5333,idArchivo:0})}obtenerChatSeleccionado(t){this.idChatSeleccionado=t,this.mensajesChatSeleccionado=this.mensajes.find(n=>n.some(r=>r.idChat===this.idChatSeleccionado))||[],this.clickEnChat=!0}obtenerUltimoMensaje(){let t=this.mensajes.map(n=>{var r,a;return{mensajes:(null===(r=n[n.length-1])||void 0===r?void 0:r.mensaje)||"",chat:(null===(a=n[0])||void 0===a?void 0:a.idChat)||0}});this.chats.forEach((n,r)=>{var a;n.ultimoMensaje=(null===(a=t.filter(d=>d.chat==n.idChat)[0])||void 0===a?void 0:a.mensajes)||""})}}return(e=s).\u0275fac=function(t){return new(t||e)(o.Y36(b.L),o.Y36(h.U),o.Y36(T.g),o.Y36(M.H7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-chat-movil"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(t,n){1&t&&o._UZ(0,"ion-router-outlet")},dependencies:[c.Pc,c.jP,u.ez]}),s})();var y=l(5861),J=l(8622),C=l(433),O=l(2583),f=l(1297),F=l(2644);function Y(e,s){if(1&e&&o._UZ(0,"ion-img",10),2&e){const i=o.oxw().$implicit;o.Q6J("src",i.urlImagen)}}function G(e,s){1&e&&o._UZ(0,"ion-img",11)}function H(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",12)(1,"ion-item",13)(2,"ion-input",14),o.NdJ("ngModelChange",function(n){o.CHM(i);const r=o.oxw(3);return o.KtG(r.tituloChat=n)}),o.qZA(),o.TgZ(3,"ion-button",15),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(3);return o.KtG(n.crearChat())}),o._UZ(4,"ion-icon",16),o.qZA()()()}if(2&e){const i=o.oxw(3);o.xp6(2),o.Q6J("ngModel",i.tituloChat)}}function z(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-item")(1,"ion-avatar"),o.YNc(2,Y,1,1,"ion-img",6),o.YNc(3,G,1,0,"ion-img",7),o.qZA(),o.TgZ(4,"ion-label",8),o.NdJ("click",function(){const r=o.CHM(i).$implicit,a=o.oxw(2);return o.KtG(a.doctorClick(r.idUsuarioDoctor))}),o._uU(5),o.qZA(),o.YNc(6,H,5,1,"div",9),o.qZA()}if(2&e){const i=s.$implicit,t=o.oxw(2);o.xp6(2),o.Q6J("ngIf",i.urlImagen),o.xp6(1),o.Q6J("ngIf",!i.urlImagen),o.xp6(2),o.Oqu(i.nombre),o.xp6(1),o.Q6J("ngIf",t.doctorSeleccionado&&i.idUsuarioDoctor===t.idDoctorSelecionado)}}function $(e,s){if(1&e&&(o.ynx(0),o.TgZ(1,"ion-list")(2,"ion-item-divider"),o._uU(3),o.qZA(),o.YNc(4,z,7,4,"ion-item",5),o.qZA(),o.BQk()),2&e){const i=s.$implicit;o.xp6(3),o.hij(" ",i.letra," "),o.xp6(1),o.Q6J("ngForOf",i.doctores)}}let R=(()=>{var e;class s{constructor(t,n,r){this.modalCtrl=t,this.ChatPersonaService=n,this.ChatHubServiceService=r,this.gruposDoctores=[],this.usuarios=[],this.doctorSeleccionado=!1,this.idDoctorSelecionado=0,(0,O.a)({chevronBack:f.Mny})}ngOnInit(){this.doctores.sort((t,n)=>t.nombre>n.nombre?1:-1),this.organizarDoctores(this.doctores),this.obtenerIdUsuario()}regresarBtn(){this.modalCtrl.dismiss()}organizarDoctores(t){const n={};t.forEach(r=>{const a=r.nombre.charAt(0).toUpperCase();n[a]||(n[a]=[]),n[a].push(r)}),this.gruposDoctores=Object.keys(n).map(r=>({letra:r,doctores:n[r]}))}buscar(t){const n=t.target.value;if(this.doctoresFiltrados=this.doctores,n&&""!=n.trim()){let r=this.doctoresFiltrados.filter(a=>a.nombre.toLowerCase().indexOf(n.toLowerCase())>-1);this.organizarDoctores(r)}else this.organizarDoctores(this.doctores)}doctorClick(t){this.doctorSeleccionado=!this.doctorSeleccionado,this.idDoctorSelecionado=t,this.usuarios=[],this.usuarios.push(this.idUsuario),this.usuarios.push(t)}crearChat(){this.ChatHubServiceService.agregarChat({fecha:new Date,habilitado:!0,idCreadorChat:this.usuarios[this.usuarios.length-1],titulo:this.tituloChat,idChat:0},this.usuarios),this.tituloChat="",this.usuarios=[],this.doctorSeleccionado=!1}obtenerIdUsuario(){this.ChatPersonaService.obtenerIdUsuario().subscribe(t=>{this.idUsuario=t})}}return(e=s).\u0275fac=function(t){return new(t||e)(o.Y36(c.IN),o.Y36(F.R),o.Y36(b.L))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-nuevo-chat-doctores"]],standalone:!0,features:[o._Bn([]),o.jDz],decls:13,vars:1,consts:[[1,"primary-toolbar"],["fill","clear",3,"click"],["slot","icon-only","name","chevron-back"],[1,"barra-busqueda"],["show-cancel-button","focus","placeholder","Buscar","animated","",3,"ionChange"],[4,"ngFor","ngForOf"],["alt","profile pic",3,"src",4,"ngIf"],["alt","profile pic","src","https://ionicframework.com/docs/img/demos/avatar.svg",4,"ngIf"],[2,"padding-left","2vh",3,"click"],["class","generar-chat",4,"ngIf"],["alt","profile pic",3,"src"],["alt","profile pic","src","https://ionicframework.com/docs/img/demos/avatar.svg"],[1,"generar-chat"],["lines","none"],["label","Generar chat: ","placeholder","Nombre del chat","labelPlacement","floating","name","tituloChat",1,"nombre-chat",3,"ngModel","ngModelChange"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","send"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons")(3,"ion-button",1),o.NdJ("click",function(){return n.regresarBtn()}),o._UZ(4,"ion-icon",2),o.qZA(),o.TgZ(5,"ion-button",1),o.NdJ("click",function(){return n.regresarBtn()}),o._uU(6," Regresar "),o.qZA()()()(),o.TgZ(7,"ion-content")(8,"ion-title"),o._uU(9,"Nuevo Chat"),o.qZA(),o.TgZ(10,"ion-toolbar",3)(11,"ion-searchbar",4),o.NdJ("ionChange",function(a){return n.buscar(a)}),o.qZA()(),o.YNc(12,$,5,2,"ng-container",5),o.qZA()),2&t&&(o.xp6(12),o.Q6J("ngForOf",n.gruposDoctores))},dependencies:[u.ez,u.sg,u.O5,c.Pc,c.BJ,c.YG,c.Sm,c.W2,c.Gu,c.gu,c.Xz,c.pK,c.Ie,c.rH,c.Q$,c.q_,c.VI,c.wd,c.sr,c.j9,C.u5,C.JJ,C.On],styles:['[_ngcontent-%COMP%]:root{--color-primario: #9BD8AC;--color-secundario: #9ED1FE;--color-terceario: #671E75;--color-fuente-secundario: #7F7F7F;--background-primario: #0278E4;--background-secundario: #11B2A9;--background-terceario: #671E75;--ion-color-primary: #9BD8AC;--ion-color-primary-rgb: 155, 216, 172;--ion-color-primary-contrast: #000000;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #6CC686;--ion-color-primary-tint: #B6E2C2;--ion-color-secondary: #9ED1FE;--ion-color-secondary-rgb: 158, 209, 254;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #86C6FE;--ion-color-secondary-tint: #C2E2FE;--ion-color-tertiary: #671E75;--ion-color-tertiary-rgb: 103, 30, 117;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #471551;--ion-color-tertiary-tint: #802692;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--accent-color-green: #9bd8ac;--primary-50: #F3F4FA;--primary-100: #EAEBF5;--primary-200: #D8D9ED;--primary-300: #C0C2E1;--primary-400: #A8A6D3;--primary-500: #958FC5;--primary-600: #8377B4;--primary-700: #695e93;--primary-800: #5C547F;--primary-900: #4D4867;--primary-950: #2D2A3C;--neutral-50: #FFFFFF;--neutral-100: #F4F4F4;--neutral-200: #DCDCDC;--neutral-300: #BDBDBD;--neutral-400: #989898;--neutral-500: #7C7C7C;--neutral-600: #656565;--neutral-700: #525252;--neutral-800: #464646;--neutral-900: #292929;--neutral-950: #000000;--error-100: #F9DEDC;--error-200: #B3261E;--error-300: #410E0B;--font-display: "Gayathri", sans-serif;--font-body: "Inter", sans-serif}[_ngcontent-%COMP%]:root   .ion-color-morado-custom[_ngcontent-%COMP%]{--ion-color-base: var(--primary-700);--ion-color-base-rgb: var(--primary-700);--ion-color-contrast: var(--neutral-50);--ion-color-contrast-rgb: var(--neutral-50);--ion-color-shade: var(--primary-950);--ion-color-tint: var(--primary-300)}@media (prefers-color-scheme: dark){body[_ngcontent-%COMP%]{--ion-color-primary: #428cff;--ion-color-primary-rgb: 66,140,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3a7be0;--ion-color-primary-tint: #5598ff;--ion-color-secondary: #50c8ff;--ion-color-secondary-rgb: 80,200,255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #46b0e0;--ion-color-secondary-tint: #62ceff;--ion-color-tertiary: #6a64ff;--ion-color-tertiary-rgb: 106,100,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #5d58e0;--ion-color-tertiary-tint: #7974ff;--ion-color-success: var(--primary-600);--ion-color-success-rgb: 47,223,117;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #29c467;--ion-color-success-tint: #44e283;--ion-color-warning: #ffd534;--ion-color-warning-rgb: 255,213,52;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0bb2e;--ion-color-warning-tint: #ffd948;--ion-color-danger: var(--error-200);--ion-color-danger-rgb: var(--error-200);--ion-color-danger-contrast: var(--error-200);--ion-color-danger-contrast-rgb: var(--error-200);--ion-color-danger-shade: var(--error-200);--ion-color-danger-tint: var(--error-200);--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244,245,248;--ion-color-dark-contrast: #000000;--ion-color-dark-contrast-rgb: 0,0,0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152,154,162;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #222428;--ion-color-light-rgb: 34,36,40;--ion-color-light-contrast: #ffffff;--ion-color-light-contrast-rgb: 255,255,255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e}}ion-header[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:700}ion-header[_ngcontent-%COMP%]   .primary-toolbar[_ngcontent-%COMP%]{--background: url(header_light.508685377072668e.svg);height:20vh;color:var(--color-terceario);display:flex;flex-direction:column;justify-content:flex-end}ion-content[_ngcontent-%COMP%]{--background: #F3F4FA}ion-title[_ngcontent-%COMP%]{color:var(--color-terceario);font-weight:700;padding-top:3vh}']}),s})();var A=l(4384),Q=l(9134);function q(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",15)(1,"ion-item",16)(2,"ion-input",17),o.NdJ("ngModelChange",function(n){o.CHM(i);const r=o.oxw(2);return o.KtG(r.tituloChat=n)}),o.qZA(),o.TgZ(3,"ion-button",18),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2);return o.KtG(n.crearChat())}),o._UZ(4,"ion-icon",19),o.qZA()()()}if(2&e){const i=o.oxw(2);o.xp6(2),o.Q6J("ngModel",i.tituloChat)}}function L(e,s){if(1&e&&o._UZ(0,"ion-img",27),2&e){const i=o.oxw().$implicit;o.Q6J("src",i.urlImagen)}}function K(e,s){1&e&&o._UZ(0,"ion-img",28)}function W(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",20),o.NdJ("click",function(){const r=o.CHM(i).$implicit,a=o.oxw(2);return o.KtG(a.doctorClick(r.idUsuarioDoctor))}),o.TgZ(1,"div",21)(2,"ion-avatar"),o.YNc(3,L,1,1,"ion-img",22),o.YNc(4,K,1,0,"ion-img",23),o.qZA(),o.TgZ(5,"div",24),o._UZ(6,"ion-icon",25),o.qZA()(),o.TgZ(7,"div",26)(8,"ion-label")(9,"p"),o._uU(10),o.qZA()()()()}if(2&e){const i=s.$implicit;o.xp6(3),o.Q6J("ngIf",i.urlImagen),o.xp6(1),o.Q6J("ngIf",!i.urlImagen),o.xp6(6),o.Oqu(i.nombre)}}function X(e,s){if(1&e&&(o.TgZ(0,"div",11),o.YNc(1,q,5,1,"div",12),o.TgZ(2,"div",13),o.YNc(3,W,11,3,"div",14),o.qZA()()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.doctorSeleccionado),o.xp6(2),o.Q6J("ngForOf",i.misDoctores)}}function V(e,s){if(1&e&&o._UZ(0,"ion-img",27),2&e){const i=o.oxw().$implicit;o.Q6J("src",i.urlImagen)}}function oo(e,s){1&e&&o._UZ(0,"ion-img",28)}function to(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-list")(1,"ion-item",29),o.NdJ("click",function(){const r=o.CHM(i).$implicit,a=o.oxw();return o.KtG(a.enviarIdChat(r.idChat||0))}),o.TgZ(2,"ion-avatar",30),o.YNc(3,V,1,1,"ion-img",22),o.YNc(4,oo,1,0,"ion-img",23),o.qZA(),o.TgZ(5,"ion-label")(6,"h3"),o._uU(7),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.qZA()()()()}if(2&e){const i=s.$implicit;o.xp6(3),o.Q6J("ngIf",i.urlImagen),o.xp6(1),o.Q6J("ngIf",!i.urlImagen),o.xp6(3),o.hij(" ",i.titulo," "),o.xp6(2),o.hij(" ",i.ultimoMensaje," ")}}let no=(()=>{var e;class s{constructor(t,n,r,a,d,m,p){this.router=t,this.ChatHubServiceService=n,this.archivoService=r,this.sanitizer=a,this.doctoresService=d,this.ChatPersonaService=m,this.modalCtrl=p,this.usuarios=[],this.doctorSeleccionado=!1,this.verListaDoctores=!1,(0,O.a)({addCircle:f.ZWo,chatboxOutline:f.DMF,send:f.lWK,"chat-plus":" ../assets/img/svg/chat-plus.svg"})}ionViewWillEnter(){this.obtenerChats(),this.consultarDoctores(),this.obtenerIdUsuario()}obtenerIdUsuario(){this.ChatPersonaService.obtenerIdUsuario().subscribe(t=>{this.idUsuario=t})}obtenerChats(){this.chats$=this.ChatHubServiceService.chat$,this.chats$.subscribe(t=>{t.forEach(n=>{if(null!=n.imagenBase64){let r="data:"+n.tipoMime+";base64,"+n.imagenBase64;this.sanitizer.bypassSecurityTrustUrl(r),n.urlImagen=r}}),this.chats=t,this.chatsFiltradosPorBusqueda=t})}enviarIdChat(t){this.router.navigate(["home/chat-movil/chat",t])}consultarDoctores(){this.doctoresService.consultarExpedienteConImagenes().subscribe(t=>{t.forEach(n=>{null!=n.imagenBase64&&(n.urlImagen="data:"+n.tipoMime+";base64,"+n.imagenBase64)}),this.misDoctores=t})}doctorClick(t){this.doctorSeleccionado=!this.doctorSeleccionado,this.usuarios=[],this.usuarios.push(this.idUsuario),this.usuarios.push(t)}crearChat(){this.ChatHubServiceService.agregarChat({fecha:new Date,habilitado:!0,idCreadorChat:this.usuarios[this.usuarios.length-1],titulo:this.tituloChat},this.usuarios),this.tituloChat="",this.usuarios=[],this.doctorSeleccionado=!1}mostrarListaDoctores(){var t=this;return(0,y.Z)(function*(){(yield t.modalCtrl.create({component:R,componentProps:{doctores:t.misDoctores}})).present()})()}buscarChat(t){const n=t.target.value;this.chatsFiltradosPorBusqueda=this.chats,n&&""!=n.trim()&&(this.chatsFiltradosPorBusqueda=this.chatsFiltradosPorBusqueda.filter(r=>r.titulo.toLowerCase().indexOf(n.toLowerCase())>-1||r.ultimoMensaje.toLowerCase().indexOf(n.toLowerCase())>-1))}}return(e=s).\u0275fac=function(t){return new(t||e)(o.Y36(A.F0),o.Y36(b.L),o.Y36(T.g),o.Y36(M.H7),o.Y36(Q.q),o.Y36(F.R),o.Y36(c.IN))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-barra-chats"]],standalone:!0,features:[o._Bn([]),o.jDz],decls:14,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header-dark"],["slot","end",1,"end"],[1,"icon-only",3,"click"],["name","chat-plus"],[1,"primary"],[1,"barra-busqueda"],["show-cancel-button","focus","placeholder","Buscar","animated","",3,"ionChange"],["class","contactos",4,"ngIf"],[1,"chats"],[4,"ngFor","ngForOf"],[1,"contactos"],["class","generar-chat",4,"ngIf"],[1,"lista-doctores"],["class","doctor",3,"click",4,"ngFor","ngForOf"],[1,"generar-chat"],["lines","none"],["label","Generar chat: ","placeholder","Nombre del chat","labelPlacement","floating","name","tituloChat",1,"nombre-chat",3,"ngModel","ngModelChange"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","send"],[1,"doctor",3,"click"],[1,"imagen"],[3,"src",4,"ngIf"],["alt","profile pic","src","https://ionicframework.com/docs/img/demos/avatar.svg",4,"ngIf"],[1,"icono-agregar"],["name","add-circle"],[1,"nombre"],[3,"src"],["alt","profile pic","src","https://ionicframework.com/docs/img/demos/avatar.svg"],["lines","none","button","true",1,"chat",3,"click"],["slot","start"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-title"),o._uU(4,"Chats"),o.qZA(),o.TgZ(5,"ion-buttons",2)(6,"ion-button",3),o.NdJ("click",function(){return n.mostrarListaDoctores()}),o._UZ(7,"ion-icon",4),o.qZA()()()()(),o.TgZ(8,"ion-content",5)(9,"div",6)(10,"ion-searchbar",7),o.NdJ("ionChange",function(a){return n.buscarChat(a)}),o.qZA()(),o.YNc(11,X,4,2,"div",8),o.TgZ(12,"div",9),o.YNc(13,to,10,4,"ion-list",10),o.qZA()()),2&t&&(o.xp6(11),o.Q6J("ngIf",n.verListaDoctores),o.xp6(2),o.Q6J("ngForOf",n.chatsFiltradosPorBusqueda))},dependencies:[J.U$,u.ez,u.sg,u.O5,c.Pc,c.BJ,c.YG,c.Sm,c.W2,c.Gu,c.gu,c.Xz,c.pK,c.Ie,c.Q$,c.q_,c.VI,c.wd,c.sr,c.j9,C.u5,C.JJ,C.On],styles:["ion-content[_ngcontent-%COMP%]   .barra-busqueda[_ngcontent-%COMP%]{margin-top:32px;padding:0 32px}ion-content[_ngcontent-%COMP%]   .barra-busqueda[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{padding-left:0;padding-right:0;--box-shadow: 0;--border-radius: 4.16px}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]{background-color:transparent;border:1px solid var(--neutral-200);background:var(--neutral-50);display:flex;overflow-x:scroll;overflow-y:hidden;align-items:center}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]{height:20vh;min-width:33.33%;display:inline-block}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]{margin-top:10px;position:relative;height:50%}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin:auto}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]   .imagen[_ngcontent-%COMP%]   .icono-agregar[_ngcontent-%COMP%]{position:absolute;top:0;right:0;font-size:1.2em}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{height:10vh}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-align:center}.contactos[_ngcontent-%COMP%]   .lista-doctores[_ngcontent-%COMP%]   .doctor[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em}.contactos[_ngcontent-%COMP%]   .generar-chat[_ngcontent-%COMP%]   .nombre-chat[_ngcontent-%COMP%]{--padding-end: 10px;--padding-start: 10px;--padding-bottom: 10px;border:0px}.contactos[_ngcontent-%COMP%]   .generar-chat[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-700)}.contactos[_ngcontent-%COMP%]   .generar-chat[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:1em;--ripple-color: var(--primary-200)}.chats[_ngcontent-%COMP%]{height:78vh;padding-top:3vh;margin:0 32px}.chats[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:var(--primary-50)}.chats[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{--background: var(--primary-50)}.chats[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{--border-radius: 15px}.chats[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9em;font-weight:700}.chats[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8em}"]}),s})();var D=l(7423);const P=(0,D.fo)("VoiceRecorder",{web:()=>l.e(797).then(l.bind(l,797)).then(e=>new e.VoiceRecorderWeb)});var w=l(1443);const I=(0,D.fo)("Filesystem",{web:()=>l.e(6364).then(l.bind(l,6364)).then(e=>new e.FilesystemWeb)});var S=l(3930),eo=l(4997);let U=(()=>{var e;class s{constructor(t){this.platform=t}isWeb(){const t=this.platform.platforms();return t.includes("desktop")||t.includes("mobileweb")}isMobile(){const t=this.platform.platforms();return(t.includes("android")||t.includes("ios"))&&!this.isWeb()}}return(e=s).\u0275fac=function(t){return new(t||e)(o.LFG(eo.t4))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();function io(e,s){if(1&e&&o._UZ(0,"ion-img",9),2&e){const i=o.oxw(2);o.Q6J("src",i.archivoBase64)}}function ro(e,s){if(1&e&&o._UZ(0,"audio",10),2&e){const i=o.oxw(2);o.Q6J("src",i.archivoBase64,o.LSH)}}function ao(e,s){if(1&e&&(o.TgZ(0,"div",6),o.YNc(1,io,1,1,"ion-img",7),o.YNc(2,ro,1,1,"audio",8),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf","image"===i.type),o.xp6(1),o.Q6J("ngIf","audio"===i.type)}}function co(e,s){if(1&e&&o._UZ(0,"ngx-extended-pdf-viewer",11),2&e){const i=o.oxw();o.Q6J("base64Src",i.archivo.archivo)("filenameForDownload",i.archivo.nombre)("useBrowserLocale",!0)("zoom","page-actual")("textLayer",!0)("zoom","auto")}}let so=(()=>{var e;class s{constructor(t,n){this.modalController=t,this.plataformaService=n,(0,O.a)({chevronBack:f.Mny,downloadOutline:f.aO1})}ngOnInit(){this.type=this.archivo.archivoMime.split("/")[0],this.archivoBase64="data:"+this.archivo.archivoMime+";base64,"+this.archivo.archivo}regresarBtn(){this.modalController.dismiss()}descargarArchivo(){this.plataformaService.isMobile()?this.downloadFileMobile(this.archivo.archivo,this.archivo.nombre,this.archivo.archivoMime):this.plataformaService.isWeb()&&this.downloadFileWeb(this.archivo.archivo,this.archivo.nombre,this.archivo.archivoMime)}downloadFileMobile(t,n,r){return(0,y.Z)(function*(){try{yield I.requestPermissions();const m=(yield I.writeFile({path:`${n}`,data:t,directory:w.tP.External,recursive:!0})).uri;console.log(m)}catch(a){console.error("Error al descargar el archivo:",a)}})()}downloadFileWeb(t,n,r){const a=atob(t),d=new Array(a.length);for(let g=0;g<a.length;g++)d[g]=a.charCodeAt(g);const m=new Uint8Array(d),p=new Blob([m],{type:"application/octet-stream"}),v=URL.createObjectURL(p),_=document.createElement("a");document.body.appendChild(_),_.style.display="none",_.href=v,_.download=`${n}`,_.click(),URL.revokeObjectURL(v)}}return(e=s).\u0275fac=function(t){return new(t||e)(o.Y36(c.IN),o.Y36(U))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-archivo-previsualizar"]],standalone:!0,features:[o.jDz],decls:13,vars:2,consts:[[1,"header"],["fill","clear",3,"click"],["slot","icon-only","name","chevron-back"],["class","contenedor",4,"ngIf"],[3,"base64Src","filenameForDownload","useBrowserLocale","zoom","textLayer",4,"ngIf"],["slot","icon-only","name","download-outline"],[1,"contenedor"],["class","imagen",3,"src",4,"ngIf"],["controls","",3,"src",4,"ngIf"],[1,"imagen",3,"src"],["controls","",3,"src"],[3,"base64Src","filenameForDownload","useBrowserLocale","zoom","textLayer"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons")(3,"ion-button",1),o.NdJ("click",function(){return n.regresarBtn()}),o._UZ(4,"ion-icon",2),o.qZA()()()(),o.TgZ(5,"ion-content"),o.YNc(6,ao,3,2,"div",3),o.YNc(7,co,1,6,"ngx-extended-pdf-viewer",4),o.qZA(),o.TgZ(8,"ion-footer")(9,"ion-toolbar")(10,"ion-buttons")(11,"ion-button",1),o.NdJ("click",function(){return n.descargarArchivo()}),o._UZ(12,"ion-icon",5),o.qZA()()()()),2&t&&(o.xp6(6),o.Q6J("ngIf","application"!==n.type),o.xp6(1),o.Q6J("ngIf","application"===n.type))},dependencies:[u.ez,u.O5,c.Pc,c.YG,c.Sm,c.W2,c.fr,c.Gu,c.gu,c.Xz,c.sr,S.g3,S.S3],styles:["ion-content[_ngcontent-%COMP%]{--background: var(--neutral-950)}.contenedor[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}"]}),s})();var lo=l(7579),uo=l(9751),ho=l(4986),go=l(3532),mo=l(1165),fo=l(2722),_o=l(2529),vo=l(8746),bo=l(4004),E=l(6715);const N=(0,D.fo)("Haptics",{web:()=>l.e(5001).then(l.bind(l,5001)).then(e=>new e.HapticsWeb)});let Co=(()=>{var e;class s{constructor(){this.press=new o.vpe,this.pressGesture={name:"press",enabled:!1,interval:251},this.pressTimeout=null,this.isPressing=!1,this.lastTap=0,this.tapCount=0,this.tapTimeout=null}ngOnInit(){this.pressGesture.enabled=!0}onPress(t){this.pressGesture.enabled&&this.handlePressing(t.type)}handlePressing(t){"touchstart"==t?this.pressTimeout=setTimeout(()=>{this.isPressing=!0,this.press.emit("start")},this.pressGesture.interval):"touchend"==t&&(clearTimeout(this.pressTimeout),this.isPressing&&(this.press.emit("end"),this.resetTaps()),setTimeout(()=>this.isPressing=!1,50))}resetTaps(){clearTimeout(this.tapTimeout),this.tapCount=0,this.tapTimeout=null,this.lastTap=0}}return(e=s).\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.lG2({type:e,selectors:[["","appPress",""]],hostBindings:function(t,n){1&t&&o.NdJ("touchstart",function(a){return n.onPress(a)})("touchend",function(a){return n.onPress(a)})},outputs:{press:"press"},standalone:!0}),s})(),Mo=(()=>{var e;class s{constructor(t,n){this.gestureCtrl=t,this.el=n,this.swipe=new o.vpe,this.swipeGesture={name:"swipe",enabled:!1,interval:250,threshold:15,reportInterval:void 0,direction:["",""]},this.GESTURE_CREATED=!1,this.moveTimeout=null,this.isMoving=!1,this.lastSwipeReport=null}ngOnInit(){this.swipeGesture.enabled=!0,this.swipeGesture.direction=["left","right"],this.createGesture()}createGesture(){this.GESTURE_CREATED||(this.gestureCtrl.create({gestureName:"swipe-gesture",el:this.el.nativeElement,onStart:()=>{this.swipeGesture.enabled&&(this.isMoving=!0,this.moveTimeout=setInterval(()=>{this.isMoving=!1},249))},onMove:n=>{this.swipeGesture.enabled&&this.handleMoving("moving",n)},onEnd:n=>{this.swipeGesture.enabled&&this.handleMoving("moveend",n)}},!0).enable(),this.GESTURE_CREATED=!0)}handleMoving(t,n){null!==this.moveTimeout&&(clearTimeout(this.moveTimeout),this.moveTimeout=null);const r=n.deltaX,a=n.deltaY,d=Math.abs(r),m=Math.abs(a),p=this.swipeGesture.reportInterval||"live",v=this.swipeGesture.threshold;if(d<v&&m<v)return;const _=this.isMoving&&(null===this.lastSwipeReport||"live"===p||"end"===p&&"moveend"==t);if(this.lastSwipeReport=n.timeStamp,_){let g={dirX:void 0,dirY:void 0,swipeType:t,...n};d>v&&(r>0?g.dirX="right":r<0&&(g.dirX="left")),m>v&&(a>0?g.dirY="down":a<0&&(g.dirY="up"));const Z=this.swipeGesture.direction;(Z.includes(g.dirX)||Z.includes(g.dirY))&&this.swipe.emit(g)}"moveend"==t&&null!==this.lastSwipeReport&&(this.isMoving=!1,this.lastSwipeReport=null)}}return(e=s).\u0275fac=function(t){return new(t||e)(o.Y36(c.TH),o.Y36(o.SBq))},e.\u0275dir=o.lG2({type:e,selectors:[["","appSwipe",""]],outputs:{swipe:"swipe"},standalone:!0}),s})();var B=l(458),xo=l(3051),yo=l(529);let Po=(()=>{var e;class s{constructor(t){this.http=t,this.dataUrl="ArchivoTrackr/"}subirArchivo(t){return this.http.post(this.dataUrl,t)}getArchivo(t){return this.http.get(this.dataUrl+t)}}return(e=s).\u0275fac=function(t){return new(t||e)(o.LFG(yo.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),s})();const wo=["fileInput"],To=["movableSpan"],Oo=["textarea"];function Ao(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-content")(1,"ion-list")(2,"ion-item",29),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.abandonarChat())}),o._uU(3,"Abandonar Chat"),o.qZA()()()}}function Zo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-content",30),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.crearLlamadaJitsi())}),o.TgZ(1,"div",31),o._uU(2,"Jitsi"),o.qZA()(),o.TgZ(3,"ion-content",30),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.crearLlamadaWebRTC())}),o.TgZ(4,"div",31),o._uU(5,"WebRTC"),o.qZA()()}}function jo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"textarea",40,41),o.NdJ("ngModelChange",function(n){o.CHM(i);const r=o.oxw(2);return o.KtG(r.msg=n)})("keyup.enter",function(){o.CHM(i);const n=o.oxw(2);return o.KtG(n.enviarMensaje())}),o._uU(2,"          "),o.qZA()}if(2&e){const i=o.oxw(2);o.Q6J("ngModel",i.msg)}}function ko(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-header")(1,"ion-toolbar",32)(2,"ion-buttons")(3,"ion-button",33),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.cancelarEnviarFoto())}),o._UZ(4,"ion-icon",3),o.qZA()()()(),o.TgZ(5,"ion-content")(6,"div",34),o._UZ(7,"ion-img",35),o.qZA()(),o.TgZ(8,"ion-footer")(9,"ion-toolbar",36),o.YNc(10,jo,3,1,"textarea",37),o.TgZ(11,"ion-buttons",38)(12,"ion-button",33),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.enviarMensaje())}),o._UZ(13,"ion-icon",39),o.qZA()()()()}if(2&e){const i=o.oxw();o.xp6(7),o.Q6J("src",i.fotoTomada),o.xp6(3),o.Q6J("ngIf",!i.grabacionIniciada)}}function Fo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"button",47),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2).$implicit,r=o.oxw();return o.KtG(r.clickArchivo(n.idArchivo))}),o.TgZ(1,"ion-grid")(2,"ion-row")(3,"ion-col",48),o._UZ(4,"i",49),o.qZA(),o.TgZ(5,"ion-col",50),o._uU(6),o.qZA()()()()}if(2&e){const i=o.oxw(2).$implicit;o.xp6(6),o.Oqu(i.archivoNombre)}}function Do(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"button",47),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2).$implicit,r=o.oxw();return o.KtG(r.clickArchivo(n.idArchivo))}),o.TgZ(1,"ion-grid")(2,"ion-row")(3,"ion-col",51),o._UZ(4,"i",52),o.qZA(),o._UZ(5,"ion-img",53),o.qZA()()()}}function Io(e,s){if(1&e&&(o.TgZ(0,"div",44)(1,"div",45),o._uU(2),o._UZ(3,"br"),o.YNc(4,Fo,7,1,"button",46),o.YNc(5,Do,6,0,"button",46),o._UZ(6,"br"),o._uU(7),o.qZA()()),2&e){const i=o.oxw().$implicit,t=o.oxw();o.xp6(2),o.hij(" ",i.mensaje," "),o.xp6(2),o.Q6J("ngIf",0!==i.idArchivo&&!t.esAudio(i.archivoTipoMime)),o.xp6(1),o.Q6J("ngIf",0!==i.idArchivo&&t.esAudio(null==i?null:i.archivoTipoMime)),o.xp6(2),o.hij(" ",t.imprimirFecha(i.fecha)," ")}}function So(e,s){if(1&e&&(o.TgZ(0,"div",58),o._uU(1),o.qZA()),2&e){const i=o.oxw(2).$implicit;o.xp6(1),o.Oqu(i.nombrePersona)}}function Uo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"button",59),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2).$implicit,r=o.oxw();return o.KtG(r.clickArchivo(n.idArchivo))}),o._UZ(1,"i",49),o._uU(2),o.qZA()}if(2&e){const i=o.oxw(2).$implicit;o.xp6(2),o.hij(" ",i.archivoNombre," ")}}function Eo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",54)(1,"div",55),o.NdJ("click",function(){o.CHM(i);const n=o.oxw().$implicit,r=o.oxw();return o.KtG(r.validarMeet(n.mensaje))}),o.YNc(2,So,2,1,"div",56),o._uU(3),o._UZ(4,"br"),o.YNc(5,Uo,3,1,"button",57),o._UZ(6,"br"),o._uU(7),o.qZA()()}if(2&e){const i=o.oxw().$implicit,t=o.oxw();o.xp6(2),o.Q6J("ngIf",!t.mostrarMensaje(i.idPersona)),o.xp6(1),o.hij(" ",i.mensaje," "),o.xp6(2),o.Q6J("ngIf",0!==i.idArchivo),o.xp6(2),o.hij(" ",t.imprimirFecha(i.fecha)," ")}}function No(e,s){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,Io,8,4,"div",42),o.YNc(2,Eo,8,4,"div",43),o.qZA()),2&e){const i=s.$implicit,t=o.oxw();o.xp6(1),o.Q6J("ngIf",t.mostrarMensaje(i.idPersona)),o.xp6(1),o.Q6J("ngIf",!t.mostrarMensaje(i.idPersona))}}function Bo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",63),o._UZ(1,"audio",64),o.TgZ(2,"ion-buttons",65)(3,"ion-button",33),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2);return o.KtG(n.changeAudio())}),o._UZ(4,"ion-icon",66),o.qZA()()()}if(2&e){const i=o.oxw(2);o.xp6(1),o.Q6J("src",i.audio2,o.LSH)}}function Jo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",63)(1,"ion-item",67),o._UZ(2,"ion-icon",68),o.TgZ(3,"ion-label"),o._uU(4),o.qZA()(),o.TgZ(5,"ion-buttons",65)(6,"ion-button",33),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2);return o.KtG(n.eliminarArchivo())}),o._UZ(7,"ion-icon",66),o.qZA()()()}if(2&e){const i=o.oxw(2);o.xp6(4),o.Oqu(null==i.archivo?null:i.archivo.name)}}function Yo(e,s){if(1&e&&(o.TgZ(0,"ion-toolbar",60),o.YNc(1,Bo,5,1,"div",61),o.YNc(2,Jo,8,1,"div",62),o.qZA()),2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",i.isAudio),o.xp6(1),o.Q6J("ngIf",i.archivo)}}function Go(e,s){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const i=o.oxw(2);o.xp6(1),o.hij(" ",i.duracionAudio," ")}}function Ho(e,s){if(1&e&&(o.TgZ(0,"div",69)(1,"div",70)(2,"ion-buttons",1)(3,"ion-button",71),o._UZ(4,"ion-icon",72),o.qZA()(),o.YNc(5,Go,2,1,"span",73),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span",74,75),o._uU(9," Desliza para cancelar "),o._UZ(10,"ion-icon",76),o.qZA()()),2&e){const i=o.oxw();o.xp6(5),o.Q6J("ngIf",o.lcZ(6,1,i.timer$))}}function zo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-buttons",77)(1,"ion-button",33),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.openFileInput())}),o._UZ(2,"ion-icon",78),o.qZA(),o.TgZ(3,"input",79,80),o.NdJ("change",function(n){o.CHM(i);const r=o.oxw();return o.KtG(r.onFileSelected(n))}),o.qZA()()}}function $o(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"div",81)(1,"textarea",82,83),o.NdJ("ngModelChange",function(n){o.CHM(i);const r=o.oxw();return o.KtG(r.msg=n)})("keyup.enter",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.enviarMensaje())})("input",function(n){o.CHM(i);const r=o.oxw();return o.KtG(r.ajustarAlturaTextarea(n))}),o._uU(4,"        "),o.qZA()()}if(2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngModel",i.msg)}}function Ro(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-button",29),o.NdJ("click",function(){o.CHM(i);const n=o.oxw(2);return o.KtG(n.tomarFoto())}),o._UZ(1,"ion-icon",88),o.qZA()}}const Qo=function(e){return{color:e}};function qo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-buttons",84),o.YNc(1,Ro,2,0,"ion-button",85),o.TgZ(2,"ion-button",86),o.NdJ("press",function(n){o.CHM(i);const r=o.oxw();return o.KtG(r.presionarGrabarAudio(n))})("swipe",function(n){o.CHM(i);const r=o.oxw();return o.KtG(r.deslizarCancelarAudio(n))}),o._UZ(3,"ion-icon",87),o.qZA()()}if(2&e){const i=o.oxw();o.xp6(1),o.Q6J("ngIf",!i.grabacionIniciada),o.xp6(2),o.Q6J("ngStyle",o.VKq(2,Qo,i.grabacionIniciada?"var(--primary-700)":"var(--neutral-500)"))}}function Lo(e,s){if(1&e){const i=o.EpF();o.TgZ(0,"ion-buttons",84)(1,"ion-button",89),o.NdJ("click",function(){o.CHM(i);const n=o.oxw();return o.KtG(n.enviarMensaje())}),o._UZ(2,"ion-icon",90),o.qZA()()}if(2&e){const i=o.oxw();o.xp6(1),o.Q6J("disabled",""===i.msg||void 0===i.msg)}}const Ko=function(e){return{"contenedor-principal2":e}},Wo=[{path:"",component:k,children:[{path:"",component:no},{path:"chat/:id",component:(()=>{var e;class s{constructor(t,n,r,a,d,m,p,v,_,g,Z){this.ChatMensajeHubService=t,this.ChatPersonaService=n,this.router=r,this.route=a,this.ChatHubServiceService=d,this.ArchivoService=m,this.plataformaService=p,this.ModalController=v,this.capacitorUtils=_,this.PopoverController=g,this.rout=Z,this.msg="",this.chat={fecha:new Date,habilitado:!0,titulo:"Chat",idCreadorChat:0},this.escribiendo=!1,this.isModalOpen=!1,this.stop$=new lo.x,this.duracionAudio="",this.duracion=0,this.archivo=void 0,this.alturaTextAreaAlterada=!1,this.isAudio=!1,this.grabacionIniciada=!1,this.grabacionCancelada=!1,this.audio="",(0,O.a)({videocamOutline:f.sEt,chevronBack:f.Mny,cameraOutline:f.kuq,paperPlane:f.IAR,trash:f._Ij,documentOutline:f.Pf6,mic:f.ymr,micOutline:f.sBf,send:f.lWK,ellipsisVerticalOutline:f.Z9b})}ionViewWillEnter(){this.obtenerIdUsuario(),this.obtenerIdChat(),this.solicitarPermisos()}obtenerIdChat(){this.router.params.subscribe(t=>{this.idChat=Number(t.id),this.obtenerMensajes(),this.obtenerChat()})}obtenerChat(){this.ChatHubServiceService.chat$.subscribe(t=>{this.chat=t.find(n=>n.idChat==this.idChat)||{fecha:new Date,habilitado:!1,idCreadorChat:0}})}enviarMensaje(){var t=this;return(0,y.Z)(function*(){if(/^\n+$/.test(t.msg))return void(t.msg="");t.descripcionTextarea.nativeElement.style.height="auto",t.alturaTextAreaAlterada=!1;let a={fecha:new Date,idChat:t.idChat,mensaje:t.msg,idPersona:5333,archivo:"",idArchivo:0};if(t.archivo){let d=yield t.convertirBase64String();d=d.split(",")[1],a.archivo=d,a.archivoNombre=t.archivo.name,a.archivoTipoMime=t.archivo.type,a.fechaRealizacion=new Date,a.nombre=t.archivo.name}if(t.fotoTomada){let p=`Trackr-Image_${(0,xo.Z)(new Date,"yyyy-MM-dd HH:mm:ss")}.jpeg`,v=t.fotoTomada.split(",")[1];a.archivo=v,a.archivoNombre=p,a.archivoTipoMime="image/jpeg",a.fechaRealizacion=new Date,a.nombre=p}""!=t.audio&&(a.archivo=t.audio,a.archivoNombre=`audio-${Date.now()}.wav`,a.archivoTipoMime="audio/wav",a.fechaRealizacion=new Date,a.nombre=`audio-${Date.now()}.wav`),t.ChatMensajeHubService.enviarMensaje(a),0==t.mensajes.length&&t.ChatMensajeHubService.chatMensaje$.subscribe(d=>{t.mensajes=d.find(m=>m.some(p=>p.idChat===t.idChat))||[]}),t.msg="",t.fotoTomada="",t.isModalOpen=!1,t.archivo=void 0,t.audio="",t.audio2="",t.isAudio=!1})()}obtenerIdUsuario(){this.ChatPersonaService.obtenerIdUsuario().subscribe(t=>{this.idUsuario=t})}mostrarMensaje(t){return t==this.idUsuario}obtenerMensajes(){this.chatMensajes$=this.ChatMensajeHubService.chatMensaje$,this.chatMensajes$.subscribe(t=>{this.chatMensajes=t,this.obtenerChatSeleccionado(),this.scrollContentToBottom()})}obtenerChatSeleccionado(){this.mensajes=this.chatMensajes.find(t=>t.some(n=>n.idChat==this.idChat))||[]}regresarBtn(){this.route.navigate(["home/chat-movil"])}onFileSelected(t){this.archivo=t.target.files[0]}readFileAsByteArray(t){return new Promise((n,r)=>{const a=new FileReader;a.onload=d=>{const p=new Uint8Array(d.target.result);n(p)},a.onerror=d=>{r(d)},a.readAsArrayBuffer(t)})}convertirBase64String(){return new Promise((t,n)=>{if(this.archivo){const r=new FileReader;r.onload=a=>{t(a.target.result)},r.onerror=a=>{n(a)},r.readAsDataURL(this.archivo)}else n("No se ha seleccionado ning\xfan archivo.")})}subirArchivo(){var t=this;return(0,y.Z)(function*(){if(t.archivo){let n=yield t.readFileAsByteArray(t.archivo),r={idUsuario:5333,archivo:Array.from(n),archivoNombre:t.archivo.name,archivoTipoMime:t.archivo.type,fechaRealizacion:new Date,nombre:t.archivo.name};t.ArchivoService.subirArchivo(r).subscribe(a=>{})}})()}clickArchivo(t){var n=this;this.ArchivoService.getArchivo(t).subscribe(function(){var r=(0,y.Z)(function*(a){(yield n.ModalController.create({component:so,componentProps:{archivo:a}})).present()});return function(a){return r.apply(this,arguments)}}())}downloadFileMobile(t,n,r){return(0,y.Z)(function*(){try{yield I.writeFile({path:`${w.tP.Data}/${n}`,data:t,directory:w.tP.External,recursive:!0})}catch(a){console.error("Error al descargar el archivo:",a)}})()}downloadFileWeb(t,n,r){const a=atob(t),d=new Array(a.length);for(let g=0;g<a.length;g++)d[g]=a.charCodeAt(g);const m=new Uint8Array(d),p=new Blob([m],{type:"application/octet-stream"}),v=URL.createObjectURL(p),_=document.createElement("a");document.body.appendChild(_),_.style.display="none",_.href=v,_.download=`${n}`,_.click(),URL.revokeObjectURL(v)}openFileInput(){""!=this.audio&&(this.audio="",this.audio2="",this.isAudio=!1),this.fileInput.nativeElement.click()}imprimirFecha(t){let n=new Date(t);return`${n.getDate()}/${n.getMonth()+1}/${n.getFullYear()} - ${n.getHours()}:${n.getMinutes()}`}ngAfterViewChecked(){this.scrollContentToBottom()}scrollContentToBottom(){this.content.scrollToBottom()}eliminarArchivo(){this.archivo=void 0}changeAudio(){this.audio="",this.audio2="",this.isAudio=!this.isAudio}solicitarPermisos(){P.hasAudioRecordingPermission().then(t=>{t.value||P.requestAudioRecordingPermission()})}grabar(){this.grabacionIniciada||(this.grabacionIniciada=!0,P.startRecording().then(t=>{this.calcularDuracion()}))}detenerGrabacion(){this.grabacionIniciada&&!this.grabacionCancelada?(this.archivo&&(this.archivo=void 0),P.stopRecording().then(t=>{this.grabacionIniciada=!1,this.isAudio=!0,t.value&&(this.audio=t.value.recordDataBase64,this.audio2="data:audio/wav;base64,"+t.value.recordDataBase64)})):this.grabacionCancelada=!1}cancelarGrabacion(){this.grabacionIniciada&&(this.archivo&&(this.archivo=void 0),P.stopRecording().then(t=>{this.grabacionCancelada=!0,this.grabacionIniciada=!1}))}calcularDuracion(){if(!this.grabacionIniciada)return this.duracion=0,void(this.duracionAudio="");this.timer$=function po(e=0,s,i=ho.P){let t=-1;return null!=s&&((0,go.K)(s)?i=s:t=s),new uo.y(n=>{let r=(0,mo.q)(e)?+e-i.now():e;r<0&&(r=0);let a=0;return i.schedule(function(){n.closed||(n.next(a++),0<=t?this.schedule(void 0,t):n.complete())},r)})}(0,1e3).pipe((0,fo.R)(this.stop$),(0,_o.o)(t=>this.duracion>=0),(0,vo.x)(()=>{this.duracion=0}),(0,bo.U)(t=>{this.duracion=this.duracion+1;const n=Math.floor(this.duracion/60),r=(this.duracion%60).toString().padStart(2,"0");return this.duracionAudio=`${n}:${r}`,this.duracion}))}crearLlamadaJitsi(){this.route.navigate(["/home/video-jitsi/create-call",this.idChat])}crearLlamadaWebRTC(){let t=this.idUsuario,a=`\u{1f4de} Te espero la sala webrtc-${this.idChat}-${t}`;this.ChatMensajeHubService.enviarMensaje({fecha:new Date,idChat:this.idChat,mensaje:a,idPersona:t,archivo:"",idArchivo:0}),this.route.navigate(["/home/chat"])}contestarLlamada(t){this.route.navigate(["/home/video-jitsi/answer-call",t])}validarMeet(t){if(t.includes("trackr-"+this.idChat)){const r=t.match(/trackr-\d-\d+/);r&&r.length>0?this.contestarLlamada(r[0]):console.log("Error al validar codigo meet jitsi.")}if(t.includes("webrtc-"+this.idChat)){const r=t.match(/webrtc-\d-(\d+)/);r&&r.length>0?this.route.navigate(["/home/chat",r[1]]):console.log("Error al validar codigo meet jitsi.")}}escribiendoMensaje(){return!/^ *$/.test(this.msg)}presionarGrabarAudio(t){"start"==t&&(N.impact({style:E.y$.Light}),this.grabar()),"end"==t&&(N.impact({style:E.y$.Light}),this.detenerGrabacion())}deslizarCancelarAudio(t){"left"==t.dirX&&(t.currentX<=t.startX-100&&this.cancelarGrabacion(),this.grabacionCancelada||this.updateSpanPosition(t.currentX-t.startX+15))}updateSpanPosition(t){this.movableSpan.nativeElement.style.transform=`translateX(calc(-50% + ${t}px))`}tomarFoto(){var t=this;return(0,y.Z)(function*(){t.archivo=void 0,t.audio="",t.audio2="",t.isAudio=!1,t.fotoTomada=yield t.capacitorUtils.takePicture(),t.isModalOpen=!0})()}cancelarEnviarFoto(){this.msg="",this.fotoTomada="",this.isModalOpen=!1}abandonarChat(){var t=this;return(0,y.Z)(function*(){t.ChatMensajeHubService.abandonarChat(t.idChat),t.ChatMensajeHubService.enviarMensaje({idChat:t.idChat,fecha:new Date,idPersona:0,mensaje:"He abandonado el chat",idArchivo:0}),yield t.PopoverController.dismiss(),t.regresarBtn()})()}ajustarAlturaTextarea(t){const n=this.descripcionTextarea.nativeElement;n.style.height="auto",this.alturaTextAreaAlterada=n.scrollHeight>40,n.style.height=n.scrollHeight+"px"}esAudio(t){return null!=t&&"audio"==t.split("/")[0]}}return(e=s).\u0275fac=function(t){return new(t||e)(o.Y36(h.U),o.Y36(F.R),o.Y36(A.gz),o.Y36(A.F0),o.Y36(b.L),o.Y36(Po),o.Y36(U),o.Y36(c.IN),o.Y36(B.Z),o.Y36(c.Dh),o.Y36(A.gz))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-mensajes"]],viewQuery:function(t,n){if(1&t&&(o.Gf(wo,5),o.Gf(c.W2,5),o.Gf(To,5),o.Gf(Oo,5)),2&t){let r;o.iGM(r=o.CRH())&&(n.fileInput=r.first),o.iGM(r=o.CRH())&&(n.content=r.first),o.iGM(r=o.CRH())&&(n.movableSpan=r.first),o.iGM(r=o.CRH())&&(n.descripcionTextarea=r.first)}},standalone:!0,features:[o._Bn([B.Z]),o.jDz],decls:36,vars:12,consts:[[1,"chat-header"],["slot","start"],["fill","clear","routerLink","home/chat-movil",3,"click"],["slot","icon-only","name","chevron-back"],[1,"ion-text-center","ion-align-items-center",2,"padding","1vh 2vw 1vh 2vw","font-size","1em","font-weight","bold"],["slot","end",1,"popup-wrapper"],["fill","clear","id","click-trigger",1,"popup-button"],["name","videocam-outline"],["fill","clear","id","puntos-trigger"],["name","ellipsis-vertical-outline"],["trigger","puntos-trigger","triggerAction","click"],["trigger","click-trigger","triggerAction","click","dismiss-on-select","true","size","auto"],[1,"enviar-foto-modal",3,"isOpen"],[1,"chat-container"],[1,"listado"],["scrollContainer",""],[2,"height","2vh"],[4,"ngFor","ngForOf"],[1,"chat-footer"],[1,"form-group"],["class","optional-toolbar",4,"ngIf"],[1,"main-toolbar"],[1,"contenedor-principal1",3,"ngClass"],["class","grabando-audio-container",4,"ngIf"],[1,"contenedor-izquierda"],["slot","start","class","left-buttons",4,"ngIf"],["class","contenedor-central",4,"ngIf"],[1,"contenedor-derecha"],["slot","end","class","right-buttons",4,"ngIf"],[3,"click"],[1,"ion-padding",3,"click"],[1,"video-option"],[1,"header"],["fill","clear",3,"click"],[1,"contenedor-imagen"],[1,"imagen",3,"src"],[1,"footer"],["placeholder","A\xf1ade un comentario...","class","texto-mensaje","name","mensaje","type","text","maxlength","800","autocomplete","off","rows","1","required","",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["slot","end"],["slot","icon-only","name","send",2,"color","var(--primary-700)"],["placeholder","A\xf1ade un comentario...","name","mensaje","type","text","maxlength","800","autocomplete","off","rows","1","required","",1,"texto-mensaje",3,"ngModel","ngModelChange","keyup.enter"],["descripcion","ngModel"],["class","message user",4,"ngIf"],["class","message other",4,"ngIf"],[1,"message","user"],[1,"message-bubble"],["class","btn btn-1 archivo",3,"click",4,"ngIf"],[1,"btn","btn-1","archivo",3,"click"],["size","1"],[1,"fa","fa-file",2,"font-size","24px"],["size","11"],["size","2",2,"margin-right","2vw"],[1,"fa","fa-play",2,"font-size","24px"],["size","8","src","../../../../../assets/audio.png",2,"width","35vw"],[1,"message","other"],[1,"message-bubble",3,"click"],["class","nombre",4,"ngIf"],["class","btn archivo",3,"click",4,"ngIf"],[1,"nombre"],[1,"btn","archivo",3,"click"],[1,"optional-toolbar"],["style","display: flex; justify-content: space-between;  margin: 1vw 2vw 0 2vw;",4,"ngIf"],["style","display: flex; justify-content: space-between; margin: 1vw 2vw 0 2vw;",4,"ngIf"],[2,"display","flex","justify-content","space-between","margin","1vw 2vw 0 2vw"],["controls","",3,"src"],[2,"color","red","opacity","0.5"],["name","trash","slot","icon-only"],["lines","none"],["slot","start","name","document-outline"],[1,"grabando-audio-container"],[1,"contador-tiempo"],["fill","clear","disabled",""],["size","small","slot","icon-only","name","mic-outline",2,"color","red"],[4,"ngIf"],[2,"position","absolute","transform","translateX(-50%)","left","50%"],["movableSpan",""],["slot","icon-only","name","chevron-back",2,"position","absolute","right","-10%","bottom","18%"],["slot","start",1,"left-buttons"],["slot","icon-only","name","document-outline"],["type","file","id","fileInput",2,"display","none",3,"change"],["fileInput",""],[1,"contenedor-central"],["name","mensaje","type","text","maxlength","800","autocomplete","off","rows","1","required","",1,"texto-mensaje",3,"ngModel","ngModelChange","keyup.enter","input"],["textarea","","descripcion","ngModel"],["slot","end",1,"right-buttons"],[3,"click",4,"ngIf"],["appSwipe","","appPress","",3,"press","swipe"],["slot","icon-only","name","mic-outline",3,"ngStyle"],["slot","icon-only","name","camera-outline"],["type","submit",3,"disabled","click"],["slot","icon-only","name","paper-plane",2,"color","var(--primary-700)"]],template:function(t,n){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1)(3,"ion-button",2),o.NdJ("click",function(){return n.regresarBtn()}),o._UZ(4,"ion-icon",3),o.qZA()(),o.TgZ(5,"ion-title",4),o._uU(6),o.qZA(),o.TgZ(7,"ion-buttons",5)(8,"ion-button",6),o._UZ(9,"ion-icon",7),o.qZA(),o.TgZ(10,"ion-button",8),o._UZ(11,"ion-icon",9),o.qZA(),o.TgZ(12,"ion-popover",10),o.YNc(13,Ao,4,0,"ng-template"),o.qZA(),o.TgZ(14,"ion-popover",11),o.YNc(15,Zo,6,0,"ng-template"),o.qZA()()()(),o.TgZ(16,"ion-content")(17,"ion-modal",12),o.YNc(18,ko,14,2,"ng-template"),o.qZA(),o.TgZ(19,"div",13)(20,"div",14,15),o._UZ(22,"div",16),o.YNc(23,No,3,2,"div",17),o.qZA()()(),o.TgZ(24,"ion-footer",18)(25,"div",19),o.YNc(26,Yo,3,2,"ion-toolbar",20),o.TgZ(27,"ion-toolbar",21)(28,"div",22),o.YNc(29,Ho,11,3,"div",23),o.TgZ(30,"div",24),o.YNc(31,zo,5,0,"ion-buttons",25),o.qZA(),o.YNc(32,$o,5,1,"div",26),o.TgZ(33,"div",27),o.YNc(34,qo,4,4,"ion-buttons",28),o.YNc(35,Lo,3,1,"ion-buttons",28),o.qZA()()()()()),2&t&&(o.xp6(6),o.hij(" ",n.chat.titulo," "),o.xp6(11),o.Q6J("isOpen",n.isModalOpen),o.xp6(6),o.Q6J("ngForOf",n.mensajes),o.xp6(3),o.Q6J("ngIf",n.isAudio||n.archivo),o.xp6(2),o.Q6J("ngClass",o.VKq(10,Ko,!n.alturaTextAreaAlterada)),o.xp6(1),o.Q6J("ngIf",n.grabacionIniciada),o.xp6(2),o.Q6J("ngIf",!n.grabacionIniciada),o.xp6(1),o.Q6J("ngIf",!n.grabacionIniciada),o.xp6(2),o.Q6J("ngIf",!n.escribiendoMensaje()),o.xp6(1),o.Q6J("ngIf",n.escribiendoMensaje()))},dependencies:[C.u5,C.Fj,C.JJ,C.Q7,C.nD,C.On,u.ez,u.mk,u.sg,u.O5,u.PC,u.Ov,c.Pc,c.YG,c.Sm,c.wI,c.W2,c.fr,c.jY,c.Gu,c.gu,c.Xz,c.Ie,c.Q$,c.q_,c.Nd,c.wd,c.sr,c.ki,c.d8,c.YI,Co,Mo],styles:['[_ngcontent-%COMP%]:root{--color-primario: #9BD8AC;--color-secundario: #9ED1FE;--color-terceario: #671E75;--color-fuente-secundario: #7F7F7F;--background-primario: #0278E4;--background-secundario: #11B2A9;--background-terceario: #671E75;--ion-color-primary: #9BD8AC;--ion-color-primary-rgb: 155, 216, 172;--ion-color-primary-contrast: #000000;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #6CC686;--ion-color-primary-tint: #B6E2C2;--ion-color-secondary: #9ED1FE;--ion-color-secondary-rgb: 158, 209, 254;--ion-color-secondary-contrast: #000000;--ion-color-secondary-contrast-rgb: 0, 0, 0;--ion-color-secondary-shade: #86C6FE;--ion-color-secondary-tint: #C2E2FE;--ion-color-tertiary: #671E75;--ion-color-tertiary-rgb: 103, 30, 117;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #471551;--ion-color-tertiary-tint: #802692;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9;--accent-color-green: #9bd8ac;--primary-50: #F3F4FA;--primary-100: #EAEBF5;--primary-200: #D8D9ED;--primary-300: #C0C2E1;--primary-400: #A8A6D3;--primary-500: #958FC5;--primary-600: #8377B4;--primary-700: #695e93;--primary-800: #5C547F;--primary-900: #4D4867;--primary-950: #2D2A3C;--neutral-50: #FFFFFF;--neutral-100: #F4F4F4;--neutral-200: #DCDCDC;--neutral-300: #BDBDBD;--neutral-400: #989898;--neutral-500: #7C7C7C;--neutral-600: #656565;--neutral-700: #525252;--neutral-800: #464646;--neutral-900: #292929;--neutral-950: #000000;--error-100: #F9DEDC;--error-200: #B3261E;--error-300: #410E0B;--font-display: "Gayathri", sans-serif;--font-body: "Inter", sans-serif}[_ngcontent-%COMP%]:root   .ion-color-morado-custom[_ngcontent-%COMP%]{--ion-color-base: var(--primary-700);--ion-color-base-rgb: var(--primary-700);--ion-color-contrast: var(--neutral-50);--ion-color-contrast-rgb: var(--neutral-50);--ion-color-shade: var(--primary-950);--ion-color-tint: var(--primary-300)}@media (prefers-color-scheme: dark){body[_ngcontent-%COMP%]{--ion-color-primary: #428cff;--ion-color-primary-rgb: 66,140,255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255,255,255;--ion-color-primary-shade: #3a7be0;--ion-color-primary-tint: #5598ff;--ion-color-secondary: #50c8ff;--ion-color-secondary-rgb: 80,200,255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #46b0e0;--ion-color-secondary-tint: #62ceff;--ion-color-tertiary: #6a64ff;--ion-color-tertiary-rgb: 106,100,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #5d58e0;--ion-color-tertiary-tint: #7974ff;--ion-color-success: var(--primary-600);--ion-color-success-rgb: 47,223,117;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #29c467;--ion-color-success-tint: #44e283;--ion-color-warning: #ffd534;--ion-color-warning-rgb: 255,213,52;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0bb2e;--ion-color-warning-tint: #ffd948;--ion-color-danger: var(--error-200);--ion-color-danger-rgb: var(--error-200);--ion-color-danger-contrast: var(--error-200);--ion-color-danger-contrast-rgb: var(--error-200);--ion-color-danger-shade: var(--error-200);--ion-color-danger-tint: var(--error-200);--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244,245,248;--ion-color-dark-contrast: #000000;--ion-color-dark-contrast-rgb: 0,0,0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152,154,162;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #222428;--ion-color-light-rgb: 34,36,40;--ion-color-light-contrast: #ffffff;--ion-color-light-contrast-rgb: 255,255,255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e}}ion-content[_ngcontent-%COMP%]{--background: url(background_pattern.94ba27a8d2a9cd08.svg)}.message[_ngcontent-%COMP%]{margin-bottom:10px;overflow:hidden}.user[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background-color:var(--primary-700);color:var(--neutral-50);font-family:var(--font-body);border-radius:10px 10px 0;margin-right:3vw;float:right}.user[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .archivo[_ngcontent-%COMP%]{color:var(--neutral-50)}.other[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background-color:var(--neutral-50);color:var(--neutral-900);margin-left:3vw;border-radius:10px 10px 10px 0;font-family:var(--font-body);float:left}.other[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .archivo[_ngcontent-%COMP%]{color:var(--neutral-900)}.message-bubble[_ngcontent-%COMP%]{padding:10px;max-width:70%}.message-bubble[_ngcontent-%COMP%]   .nombre[_ngcontent-%COMP%]{font-weight:700;padding:0%}.listado[_ngcontent-%COMP%]{height:100%;min-height:100%;overflow-y:auto;align-self:flex-end;background-color:var(--primary-50);background-image:url(background_pattern.94ba27a8d2a9cd08.svg);background-size:auto}.final[_ngcontent-%COMP%]{position:relative;bottom:0;padding-bottom:2vh;padding-top:2vh}.chat-header[_ngcontent-%COMP%]{--background: var(--neutral-50);height:15vh}.chat-container[_ngcontent-%COMP%]{overflow:scroll}.chat-footer[_ngcontent-%COMP%]   .optional-toolbar[_ngcontent-%COMP%]   audio[_ngcontent-%COMP%]::-webkit-media-controls-panel{background-color:var(--neutral-50)}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]{max-height:15vh}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .grabando-audio-container[_ngcontent-%COMP%]{display:flex;align-items:center}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .grabando-audio-container[_ngcontent-%COMP%]   .contador-tiempo[_ngcontent-%COMP%]{display:flex;align-items:center;z-index:99;background-color:var(--neutral-50);padding-right:2vw}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .grabando-audio-container[_ngcontent-%COMP%]   .contador-tiempo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{color:red;opacity:.5}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-principal1[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-principal1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--neutral-500)}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-principal2[_ngcontent-%COMP%]{align-items:center}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-izquierda[_ngcontent-%COMP%]{display:flex;align-items:flex-end!important}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-central[_ngcontent-%COMP%]{display:flex;align-items:flex-end;margin-bottom:12px;margin-top:12px;width:100%}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-central[_ngcontent-%COMP%]   .texto-mensaje[_ngcontent-%COMP%]{border:1px solid;border-color:var(--primary-100);border-radius:5px;background-color:var(--primary-50);max-height:100px!important;padding:8px;width:100%}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-central[_ngcontent-%COMP%]   .texto-mensaje[_ngcontent-%COMP%]:focus{outline:none!important}.chat-footer[_ngcontent-%COMP%]   .main-toolbar[_ngcontent-%COMP%]   .contenedor-derecha[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.enviar-foto-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--neutral-950)}.enviar-foto-modal[_ngcontent-%COMP%]   .contenedor-imagen[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center}.enviar-foto-modal[_ngcontent-%COMP%]   .texto-mensaje[_ngcontent-%COMP%]{margin-left:10vw;width:70vw;border:0px;border-radius:5px;background-color:var(--primary-50)}.enviar-foto-modal[_ngcontent-%COMP%]   .texto-mensaje[_ngcontent-%COMP%]:focus{outline:none!important;border:1px solid;border-color:var(--primary-700)}ion-popover[_ngcontent-%COMP%]{--width: auto}.video-option[_ngcontent-%COMP%]{cursor:pointer}.video-option[_ngcontent-%COMP%]:hover{color:var(--primary-700)}']}),s})()},{path:"**",redirectTo:"",pathMatch:"full"}]}]},9134:(j,x,l)=>{l.d(x,{q:()=>o});var c=l(1571),u=l(529);let o=(()=>{var b;class h{constructor(M){this.http=M,this.url="expedienteDoctor/"}consultarExpediente(){return this.http.get(this.url)}consultarExpedienteConImagenes(){return this.http.get(this.url+"conImagenes")}consultarSelector(){return this.http.get(this.url+"selector")}consultarPorUsuarioParaSelector(){return this.http.get(this.url+"selectorPorUsuario")}eliminar(M){return this.http.delete(this.url+"eliminarDoctorTrackr",{body:M})}agregar(M){return this.http.post(this.url,M)}}return(b=h).\u0275fac=function(M){return new(M||b)(c.LFG(u.eN))},b.\u0275prov=c.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),h})()}}]);