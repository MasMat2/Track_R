"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2210],{2210:(V,C,s)=>{s.r(C),s.d(C,{MisEstudiosPage:()=>Q});var u=s(5861),g=s(6895),p=s(433),m=s(4384),i=s(9149),d=s(1297),h=s(2583),n=s(1571),O=s(1481);let x=(()=>{var e;class c{constructor(t,o){this.sanitizer=t,this.modalController=o,this.nombreEstudio="",this.archivo="",this.archivoTipoMime="",(0,h.a)({chevronBack:d.Mny})}ngOnInit(){this.imageSrc=this.sanitizer.bypassSecurityTrustResourceUrl(`data:${this.archivoTipoMime};base64,${this.archivo}`)}cancelar(){this.modalController.dismiss()}}return(e=c).\u0275fac=function(t){return new(t||e)(n.Y36(O.H7),n.Y36(i.IN))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-imagen-visor"]],inputs:{nombreEstudio:"nombreEstudio",archivo:"archivo",archivoTipoMime:"archivoTipoMime"},standalone:!0,features:[n.jDz],decls:15,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header"],["slot","start"],[3,"click"],["slot","icon-only","name","chevron-back"],[1,"contenedor-principal"],[1,"contenedor-imagen"],[3,"src"],[1,"contenedor-footer"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n.NdJ("click",function(){return o.cancelar()}),n._UZ(5,"ion-icon",4),n.qZA()(),n.TgZ(6,"ion-title"),n._uU(7),n.qZA()()()(),n.TgZ(8,"ion-content")(9,"div",5)(10,"div",6),n._UZ(11,"img",7),n.qZA()()(),n.TgZ(12,"ion-footer")(13,"div",8),n._UZ(14,"ion-toolbar"),n.qZA()()),2&t&&(n.xp6(7),n.Oqu(o.nombreEstudio),n.xp6(4),n.Q6J("src",o.imageSrc,n.LSH))},dependencies:[i.Pc,i.YG,i.Sm,i.W2,i.fr,i.Gu,i.gu,i.wd,i.sr],styles:[".contenedor-header[_ngcontent-%COMP%]{height:12vh;display:flex;align-items:flex-end;background:var(--neutral-50)}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--neutral-50)}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]{height:80vh;background:var(--primary-50);display:flex;align-items:center;justify-content:center}.contenedor-footer[_ngcontent-%COMP%]{height:8vh}"]}),c})();var M=s(3930);let b=(()=>{var e;class c{constructor(t){this.modalController=t,this.archivo="",this.nombre="",this.archivoNombre="",this.height="80vh"}ngOnInit(){}cancelar(){this.modalController.dismiss()}}return(e=c).\u0275fac=function(t){return new(t||e)(n.Y36(i.IN))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-pdf-visor"]],inputs:{archivo:"archivo",nombre:"nombre",archivoNombre:"archivoNombre",height:"height"},standalone:!0,features:[n.jDz],decls:15,vars:8,consts:[[1,"ion-no-border"],[1,"contenedor-header"],["slot","start"],[3,"click"],["slot","icon-only","name","chevron-back"],[1,"contendor-principal"],[1,"contenedor-pdf"],[3,"base64Src","filenameForDownload","useBrowserLocale","zoom","height","textLayer"],[1,"contenedor-footer"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n.NdJ("click",function(){return o.cancelar()}),n._UZ(5,"ion-icon",4),n.qZA()(),n.TgZ(6,"ion-title"),n._uU(7),n.qZA()()()(),n.TgZ(8,"ion-content")(9,"div",5)(10,"div",6),n._UZ(11,"ngx-extended-pdf-viewer",7),n.qZA()()(),n.TgZ(12,"ion-footer")(13,"div",8),n._UZ(14,"ion-toolbar"),n.qZA()()),2&t&&(n.xp6(7),n.Oqu(o.nombre),n.xp6(4),n.Q6J("base64Src",o.archivo)("filenameForDownload",o.archivoNombre)("useBrowserLocale",!0)("zoom","page-actual")("height",o.height)("textLayer",!0)("zoom","auto"))},dependencies:[g.ez,M.g3,M.S3,i.Pc,i.YG,i.Sm,i.W2,i.fr,i.Gu,i.gu,i.wd,i.sr],styles:[".contenedor-header[_ngcontent-%COMP%]{height:12vh;display:flex;align-items:flex-end;background:var(--neutral-50)}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--neutral-50)}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contendor-principal[_ngcontent-%COMP%]{height:80vh;background:var(--primary-50)}.contenedor-footer[_ngcontent-%COMP%]{height:8vh}"]}),c})();var y=s(8622),P=s(9808),f=s(458);class E{constructor(){this.nombre="",this.archivoTipoMime="",this.archivoNombre=""}}var Z=s(429),T=s(529);let v=(()=>{var e;class c{constructor(t){this.http=t,this.dataUrl="expedienteEstudio/"}consultarParaGrid(){return this.http.get(this.dataUrl+"grid")}agregarExpediente(t){return this.http.post(this.dataUrl,t)}consultar(t){return this.http.get(this.dataUrl+`consultar/${t}`)}eliminar(t){return this.http.delete(this.dataUrl+`${t}`)}}return(e=c).\u0275fac=function(t){return new(t||e)(n.LFG(T.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),c})();var A=s(1814);function k(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"ion-datetime",28,29),n.NdJ("ngModelChange",function(o){n.CHM(r);const a=n.oxw();return n.KtG(a.fechastring=o)})("ionChange",function(){n.CHM(r);const o=n.oxw();return n.KtG(o.imprimirFecha())}),n.qZA()}if(2&e){const r=n.oxw();n.Q6J("ngModel",r.fechastring)}}function w(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"div",30)(1,"div",31)(2,"ion-button",3),n.NdJ("click",function(){n.CHM(r);const o=n.oxw();return n.KtG(o.takePicture())}),n._UZ(3,"ion-icon",32),n.qZA(),n.TgZ(4,"ion-text")(5,"p"),n._uU(6,"Adjuntar imagen"),n.qZA()()(),n.TgZ(7,"div",31)(8,"ion-button",3),n.NdJ("click",function(){n.CHM(r);const o=n.oxw();return n.KtG(o.agregarArchivo())}),n._UZ(9,"ion-icon",33),n.qZA(),n.TgZ(10,"ion-text")(11,"p"),n._uU(12,"Cargar documento"),n.qZA()()()()}}function F(e,c){if(1&e&&n._UZ(0,"ion-img",38),2&e){const r=n.oxw(2);n.Q6J("src","data:image/png;base64,"+r.expedienteEstudio.archivo)}}const S=function(e){return{height:e}};function U(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"div",34),n.YNc(1,F,1,1,"ion-img",35),n.TgZ(2,"div",36)(3,"ion-text")(4,"p"),n._uU(5),n.qZA()(),n.TgZ(6,"ion-button",3),n.NdJ("click",function(){n.CHM(r);const o=n.oxw();return n.KtG(o.eliminarAdjunto())}),n._UZ(7,"ion-icon",37),n.qZA()()()}if(2&e){const r=n.oxw();n.Q6J("ngStyle",n.VKq(3,S,r.esArchivoSeleccionado?"64px":"")),n.xp6(1),n.Q6J("ngIf","application/pdf"!==r.expedienteEstudio.archivoTipoMime),n.xp6(4),n.Oqu(r.expedienteEstudio.archivoNombre)}}let j=(()=>{var e;class c{constructor(t,o,a,l,_){this.capacitorUtil=t,this.alertController=o,this.expedienteEstudioService=a,this.router=l,this.modalController=_,this.files=[],this.isPictureTaken=!1,this.esArchivoSeleccionado=!1,this.fecha=new Date,this.fechastring=this.fecha.toISOString(),this.image_src="",this.mimeType="",this.btnSubmit=!1,this.expedienteEstudio=new E,(0,h.a)({eyeOutline:d.hII,personOutline:d.QJ7,calendarOutline:d.rom,cameraOutline:d.kuq,documentOutline:d.Pf6,trashOutline:d.gtu})}ngOnInit(){}takePicture(){var t=this;return(0,u.Z)(function*(){t.image_src=yield t.capacitorUtil.takePicture();const[,o]=t.image_src.split(","),a=t.image_src.split(":")[1].split(";")[0];t.expedienteEstudio.archivo=o,t.expedienteEstudio.archivoTipoMime=a,t.expedienteEstudio.archivoNombre=t.generateFileName(),t.isPictureTaken=!0})()}enviarFormulario(t){if(this.btnSubmit=!0,!t.valid)return(0,Z.CW)(t),void(this.btnSubmit=!1);this.agregarExpediente()}agregarArchivo(){var t=this;return(0,u.Z)(function*(){t.files=yield t.capacitorUtil.pickFiles(),t.expedienteEstudio.archivo=t.files[0].data,t.expedienteEstudio.archivoTipoMime=t.files[0].mimeType,t.expedienteEstudio.archivoNombre=t.files[0].name,t.esArchivoSeleccionado=!0})()}generateFileName(){const t=new Date;return`foto_${t.toISOString().split("T")[0]}_${t.getTime()}.${"image/png"===this.mimeType?"png":"jpg"}`}agregarExpediente(){this.expedienteEstudioService.agregarExpediente(this.expedienteEstudio).subscribe({next:()=>{},error:()=>{this.btnSubmit=!1},complete:()=>{this.presentarAlertaSuccess()}})}cerrarModal(){this.modalController.dismiss()}imprimirFecha(){console.log(this.fechastring)}eliminarAdjunto(){this.expedienteEstudio.archivo="",this.expedienteEstudio.archivoNombre="",this.expedienteEstudio.archivoTipoMime="",this.isPictureTaken=!1,this.esArchivoSeleccionado=!1}presentarAlertaSuccess(){var t=this;return(0,u.Z)(function*(){yield(yield t.alertController.create({header:"Estudio registrado",subHeader:"El estudio ha sido registrado correctamente",buttons:[{text:"De acuerdo",role:"confirm",handler:()=>{t.modalController.dismiss()}}],cssClass:"custom-alert color-primary icon-check"})).present()})()}}return(e=c).\u0275fac=function(t){return new(t||e)(n.Y36(f.Z),n.Y36(i.Br),n.Y36(v),n.Y36(m.F0),n.Y36(A.IN))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-mis-estudios-formulario"]],standalone:!0,features:[n._Bn([f.Z]),n.jDz],decls:42,vars:5,consts:[[1,"ion-no-border"],[1,"contenedor-header-light"],["slot","start",1,"start"],[3,"click"],["slot","start","name","chevron-back"],[1,"primary"],[1,"contenedor-principal"],[1,"titulo"],[1,"formulario"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"contenido-formulario"],[1,"inputs"],[1,"input",2,"padding-top","0"],["lines","none",1,"date-input"],["datetime","fechaRealizacion"],[1,"input-icon"],["name","calendar-outline"],[3,"keepContentsMounted"],[1,"input"],["lines","none"],["id","nombreEstudio","name","nombreEstudio","type","text","maxlength","200","required","","autocomplete","off",3,"ngModel","ngModelChange"],["nombreEstudio","ngModel"],[1,"adjuntar-elemento"],["class","botones-adjuntar",4,"ngIf"],["class","previsualizacion",3,"ngStyle",4,"ngIf"],[1,"botones"],["type","submit",1,"guardar",3,"disabled"],["presentation","date","color","morado-custom","name","fechaRealizacion","id","fechaRealizacion","showDefaultButtons","true","locale","es-ES","required","",3,"ngModel","ngModelChange","ionChange"],["fechaRealizacion","ngModel"],[1,"botones-adjuntar"],[1,"boton-adjuntar"],["slot","icon-only","name","camera-outline"],["slot","icon-only","name","document-outline"],[1,"previsualizacion",3,"ngStyle"],[3,"src",4,"ngIf"],[1,"datos-archivo"],["slot","icon-only","name","trash-outline"],[3,"src"]],template:function(t,o){if(1&t){const a=n.EpF();n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n.NdJ("click",function(){return o.cerrarModal()}),n._UZ(5,"ion-icon",4),n.TgZ(6,"ion-label"),n._uU(7,"Atr\xe1s"),n.qZA()()()()()(),n.TgZ(8,"ion-content",5)(9,"div",6)(10,"div",7)(11,"ion-text")(12,"h3"),n._uU(13,"A\xf1adir estudio"),n.qZA()()(),n.TgZ(14,"div",8)(15,"form",9,10),n.NdJ("keydown.enter",function(_){return _.preventDefault()})("ngSubmit",function(){n.CHM(a);const _=n.MAs(16);return n.KtG(o.enviarFormulario(_))}),n.TgZ(17,"div",11)(18,"ion-list",12)(19,"div",13)(20,"ion-text")(21,"p"),n._uU(22,"Fecha de estudio"),n.qZA()(),n.TgZ(23,"ion-item",14),n._UZ(24,"ion-datetime-button",15),n.TgZ(25,"div",16),n._UZ(26,"ion-icon",17),n.qZA()(),n.TgZ(27,"ion-modal",18),n.YNc(28,k,2,1,"ng-template"),n.qZA()(),n.TgZ(29,"div",19)(30,"ion-text")(31,"p"),n._uU(32,"Nombre de estudio"),n.qZA()(),n.TgZ(33,"ion-item",20)(34,"ion-input",21,22),n.NdJ("ngModelChange",function(_){return o.expedienteEstudio.nombre=_}),n.qZA()()()(),n.TgZ(36,"div",23),n.YNc(37,w,13,0,"div",24),n.YNc(38,U,8,5,"div",25),n.qZA()(),n.TgZ(39,"div",26)(40,"ion-button",27),n._uU(41,"Guardar"),n.qZA()()()()()()}if(2&t){const a=n.MAs(16);n.xp6(27),n.Q6J("keepContentsMounted",!0),n.xp6(7),n.Q6J("ngModel",o.expedienteEstudio.nombre),n.xp6(3),n.Q6J("ngIf",!o.expedienteEstudio.archivo),n.xp6(1),n.Q6J("ngIf",o.expedienteEstudio.archivo),n.xp6(2),n.Q6J("disabled",o.btnSubmit||!a.valid)}},dependencies:[i.Pc,i.YG,i.Sm,i.W2,i.x4,i.Mj,i.Gu,i.gu,i.Xz,i.pK,i.Ie,i.Q$,i.q_,i.yW,i.sr,i.ki,i.QI,i.j9,p.u5,p._Y,p.JJ,p.JL,p.Q7,p.nD,p.On,p.F,g.ez,g.O5,g.PC,m.Bz],styles:[".contenedor-principal[_ngcontent-%COMP%]{height:80vh;background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:12px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]{height:72vh}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]{height:57vh;background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{background:transparent;padding:0 32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-top:16px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-family:var(--font-body);font-weight:400;font-size:16px;line-height:22px;color:var(--neutral-700)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:100%;--border-width: 1px ;--border-color: var(--neutral-300);--border-radius: 8px;--background: transparent}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border-width:0px;--highlight-color-focused: var(--neutral-950);font-family:var(--font-body);font-size:16px;font-weight:400;line-height:22px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{width:32px;height:100%;display:flex;justify-content:center;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{max-width:calc(100% - 40px);width:100%}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]::part(native){width:100%;text-align:start;background:transparent;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:16px!important}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]{padding:32px 32px 4px;background:var(--primary-50);width:100%}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .botones-adjuntar[_ngcontent-%COMP%]{height:170px;padding:32px 0;display:flex;background:var(--primary-100);border-width:1px;border-color:var(--primary-200);border-style:solid;border-radius:8px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .botones-adjuntar[_ngcontent-%COMP%]   .boton-adjuntar[_ngcontent-%COMP%]{height:100%;width:50%;display:flex;flex-direction:column;justify-content:center;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .botones-adjuntar[_ngcontent-%COMP%]   .boton-adjuntar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;min-height:52px;max-width:52px;--border-radius: 50%;--ripple-color: var(--primary-500);--box-shadow: 0;--background: var(--primary-200)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .botones-adjuntar[_ngcontent-%COMP%]   .boton-adjuntar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .botones-adjuntar[_ngcontent-%COMP%]   .boton-adjuntar[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{padding-top:12px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .botones-adjuntar[_ngcontent-%COMP%]   .boton-adjuntar[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;text-align:center;font-family:var(--font-body);color:var(--neutral-700);font-size:14px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]{background:var(--primary-100);padding:16px 12px;border-width:1px;border-color:var(--primary-200);border-style:solid;border-radius:8px;height:170px;display:flex;flex-direction:column;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){width:296px;height:92px;border-radius:8px;object-fit:cover}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]{padding-top:8px;display:flex;justify-content:space-between;height:100%;width:296px;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{max-width:calc(100% - 56px);overflow:hidden}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-900);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:40px;width:40px;--border-radius: 4px;--border-style: solid;--border-width: 1px;--border-color: var(--error-200);--background: var(--error-100);--box-shadow: 0;margin:0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px!important;color:var(--error-200)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){padding:0!important}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{background:var(--primary-50);height:15vh;width:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:0 32px 36px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;width:100%;max-width:600px;height:44px;--border-radius: 8px;color:var(--neutral-50);--background: var(--primary-700);--box-shadow: 0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar.button-disabled[_ngcontent-%COMP%]{opacity:1;--background: var(--primary-300)}"]}),c})();function N(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"div",13)(1,"ion-text")(2,"p"),n._uU(3,"Nada Por aqu\xed. "),n._UZ(4,"br"),n._uU(5," A\xfan no tienes estudios registrados"),n.qZA()(),n.TgZ(6,"ion-button",14),n.NdJ("click",function(){n.CHM(r);const o=n.oxw();return n.KtG(o.agregarEstudio())}),n._UZ(7,"ion-icon",15),n._uU(8," A\xf1adir estudio "),n.qZA()()}}function q(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"ion-item-sliding")(1,"ion-item",21),n.NdJ("click",function(){const a=n.CHM(r).$implicit,l=n.oxw(4);return n.KtG(l.abrirEstudio(a))}),n.TgZ(2,"ion-label")(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"date"),n.qZA()()(),n.TgZ(8,"ion-item-options")(9,"ion-item-option",22),n.NdJ("click",function(){const a=n.CHM(r).$implicit,l=n.oxw(4);return n.KtG(l.presentarAlertaEliminar(a))}),n._UZ(10,"ion-icon",23),n.qZA()()()}if(2&e){const r=c.$implicit;n.xp6(1),n.Q6J("detail",!0),n.xp6(3),n.Oqu(r.nombre),n.xp6(2),n.Oqu(n.xi3(7,3,r.fechaRealizacion,"dd/MM/yyyy"))}}function z(e,c){if(1&e&&(n.TgZ(0,"ion-list"),n.YNc(1,q,11,6,"ion-item-sliding",20),n.qZA()),2&e){const r=c.ngIf;n.xp6(1),n.Q6J("ngForOf",r)}}function I(e,c){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,z,2,1,"ion-list",19),n.ALo(2,"async"),n.qZA()),2&e){const r=n.oxw(2);n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,r.expedientes$))}}function J(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"ion-item-sliding")(1,"ion-item",24),n.NdJ("click",function(){const a=n.CHM(r).$implicit,l=n.oxw(3);return n.KtG(l.abrirEstudio(a))}),n.TgZ(2,"ion-label")(3,"h3"),n._uU(4),n.qZA(),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"date"),n.qZA()(),n._UZ(8,"ion-icon",25),n.qZA(),n.TgZ(9,"ion-item-options")(10,"ion-item-option",22),n.NdJ("click",function(){const a=n.CHM(r).$implicit,l=n.oxw(3);return n.KtG(l.presentarAlertaEliminar(a))}),n._UZ(11,"ion-icon",23),n.qZA()()()}if(2&e){const r=c.$implicit;n.xp6(4),n.Oqu(r.nombre),n.xp6(2),n.Oqu(n.xi3(7,2,r.fechaRealizacion,"dd/MM/yyyy"))}}function Y(e,c){if(1&e&&(n.TgZ(0,"div")(1,"ion-list"),n.YNc(2,J,12,5,"ion-item-sliding",20),n.qZA()()),2&e){const r=n.oxw(2);n.xp6(2),n.Q6J("ngForOf",r.estudiosFiltradosPorBusqueda)}}function G(e,c){if(1&e){const r=n.EpF();n.TgZ(0,"div",16)(1,"div",17)(2,"ion-searchbar",18),n.NdJ("ionChange",function(o){n.CHM(r);const a=n.oxw();return n.KtG(a.buscarEstudio(o))}),n.qZA()(),n.YNc(3,I,3,3,"div",19),n.YNc(4,Y,3,1,"div",19),n.qZA()}if(2&e){const r=n.oxw();n.xp6(3),n.Q6J("ngIf",!r.filtrando),n.xp6(1),n.Q6J("ngIf",r.filtrando)}}let Q=(()=>{var e;class c{constructor(t,o,a){this.expedienteEstudioService=t,this.modalController=o,this.alertController=a,this.filtrando=!1,(0,h.a)({add:d.IHx,chevronBack:d.Mny,trashOutline:d.gtu,chevronForward:d.XXs})}ionViewWillEnter(){this.consultarEstudios()}consultarEstudios(){this.expedientes$=this.expedienteEstudioService.consultarParaGrid(),this.expedientes$.subscribe({next:t=>{this.misEstudios=t,this.estudiosFiltradosPorBusqueda=t}})}abrirEstudio(t){var o=this;return(0,u.Z)(function*(){"application/pdf"==t.archivoTipoMime&&o.onVer(t),("image/png"==t.archivoTipoMime||"image/jpeg"==t.archivoTipoMime||"image/gif"==t.archivoTipoMime)&&o.onVerImagen(t)})()}onVer(t){var o=this;return(0,u.Z)(function*(){yield(0,P.n)(o.expedienteEstudioService.consultar(t.idExpedienteEstudio)).then(a=>{o.estudioSeleccionado=a}),o.abrirModal(b,{archivo:o.estudioSeleccionado.archivo,archivoNombre:o.estudioSeleccionado.archivoNombre,nombre:o.estudioSeleccionado.nombre})})()}onVerImagen(t){var o=this;return(0,u.Z)(function*(){yield(0,P.n)(o.expedienteEstudioService.consultar(t.idExpedienteEstudio)).then(a=>{o.estudioSeleccionado=a}),o.abrirModal(x,{nombreEstudio:o.estudioSeleccionado.nombre,archivo:o.estudioSeleccionado.archivo,archivoTipoMime:o.estudioSeleccionado.archivoTipoMime})})()}eliminar(t){this.expedienteEstudioService.eliminar(t.idExpedienteEstudio).subscribe({next:()=>{this.consultarEstudios()},error:()=>{},complete:()=>{this.presentarAlertaEliminadoExitosamente()}})}abrirModal(t,o){var a=this;return(0,u.Z)(function*(){yield(yield a.modalController.create({component:t,componentProps:o})).present()})()}listaEstudiosVacia(){var t;return(null===(t=this.misEstudios)||void 0===t?void 0:t.length)<=0}agregarEstudio(){var t=this;return(0,u.Z)(function*(){const o=yield t.modalController.create({component:j});o.onWillDismiss().then(()=>{t.consultarEstudios()}),yield o.present()})()}presentarAlertaEliminar(t){var o=this;return(0,u.Z)(function*(){yield(yield o.alertController.create({header:"\xbfSeguro que deseas eliminar este elemento?",subHeader:"No podr\xe1s recuperarlo",cssClass:"custom-alert color-error icon-trash two-buttons",buttons:[{text:"No, regresar",role:"cancel"},{text:"S\xed, eliminar",role:"confirm",handler:()=>{o.eliminar(t)}}]})).present()})()}presentarAlertaEliminadoExitosamente(){var t=this;return(0,u.Z)(function*(){yield(yield t.alertController.create({header:"Elemento eliminado exitosamente",buttons:[{text:"De acuerdo",role:"confirm"}],cssClass:"custom-alert color-primary icon-check"})).present()})()}buscarEstudio(t){const o=t.target.value;this.filtrando=""!=o,this.estudiosFiltradosPorBusqueda=this.misEstudios,o&&""!=o.trim()&&(this.estudiosFiltradosPorBusqueda=this.estudiosFiltradosPorBusqueda.filter(a=>a.nombre.toLowerCase().indexOf(o.toLowerCase())>-1))}}return(e=c).\u0275fac=function(t){return new(t||e)(n.Y36(v),n.Y36(i.IN),n.Y36(i.Br))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-mis-estudios"]],standalone:!0,features:[n.jDz],decls:19,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header-light"],["slot","start",1,"start"],["routerLink","inicio-perfil"],["slot","start","name","chevron-back"],["slot","end",1,"end"],[1,"icon-only",3,"click"],["name","add"],[1,"primary"],[1,"contenedor-principal"],[1,"titulo"],["class","lista-vacia",4,"ngIf"],["class","lista-estudios",4,"ngIf"],[1,"lista-vacia"],["fill","outline",3,"click"],["slot","start","name","add"],[1,"lista-estudios"],[1,"barra-busqueda"],["show-cancel-button","focus","placeholder","Buscar","animated","",3,"ionChange"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","none",3,"detail","click"],["expandable","",3,"click"],["slot","icon-only","name","trash-outline"],["lines","none",3,"click"],["name","chevron-forward"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n._UZ(5,"ion-icon",4),n.TgZ(6,"ion-label"),n._uU(7,"Atr\xe1s"),n.qZA()()(),n.TgZ(8,"ion-buttons",5)(9,"ion-button",6),n.NdJ("click",function(){return o.agregarEstudio()}),n._UZ(10,"ion-icon",7),n.qZA()()()()(),n.TgZ(11,"ion-content",8)(12,"div",9)(13,"div",10)(14,"ion-text")(15,"h3"),n._uU(16,"Mis estudios"),n.qZA()()(),n.YNc(17,N,9,0,"div",11),n.YNc(18,G,5,2,"div",12),n.qZA()()),2&t&&(n.xp6(17),n.Q6J("ngIf",o.listaEstudiosVacia()),n.xp6(1),n.Q6J("ngIf",!o.listaEstudiosVacia()))},dependencies:[i.Pc,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.Ie,i.u8,i.IK,i.td,i.Q$,i.q_,i.VI,i.yW,i.sr,i.j9,i.YI,g.ez,g.sg,g.O5,g.Ov,g.uU,p.u5,y.U$,M.g3,m.Bz,m.rH],styles:[".contenedor-principal[_ngcontent-%COMP%]{height:80vh;background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]{height:62vh}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50);--detail-icon-opacity: 1;--detail-icon-color: var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:16px}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .lista-estudios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{background:var(--error-200);color:var(--neutral-50)}"]}),c})()}}]);