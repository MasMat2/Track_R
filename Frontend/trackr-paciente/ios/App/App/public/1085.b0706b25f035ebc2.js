"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1085],{1085:(x,_,r)=>{r.r(_),r.d(_,{InfoDiagnosticosComponent:()=>J});var p=r(5861),m=r(6895),g=r(433),c=r(4384),e=r(12),f=r(2583),s=r(9808),v=r(429),M=r(7930),t=r(1571),Z=r(6958),C=r(6203),T=r(9134),D=r(1814);function O(i,l){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const n=l.$implicit;t.Q6J("value",null==n?null:n.idPadecimiento),t.xp6(1),t.hij(" ",null==n?null:n.nombre," ")}}function A(i,l){if(1&i&&(t.ynx(0),t.YNc(1,O,2,2,"ion-select-option",18),t.BQk()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.diagnosticoFiltradoList)}}function F(i,l){1&i&&(t.TgZ(0,"ion-select-option",22),t._uU(1,"No hay m\xe1s diagn\xf3sticos"),t.qZA())}function I(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"ion-datetime",23,24),t.NdJ("ngModelChange",function(a){t.CHM(n);const d=t.oxw();return t.KtG(d.expedientePadecimientoDto.fechaDiagnostico=a)}),t.qZA()}if(2&i){const n=t.oxw();t.Q6J("ngModel",n.expedientePadecimientoDto.fechaDiagnostico)("max",n.fechaActual)}}function U(i,l){if(1&i&&(t.TgZ(0,"ion-select-option",21),t._uU(1),t.qZA()),2&i){const n=l.$implicit;t.Q6J("value",null==n?null:n.idUsuarioDoctor),t.xp6(1),t.hij(" ",null==n?null:n.nombre," ")}}const P=function(){return{cssClass:"custom-select-popover"}};let y=(()=>{var i;class l{constructor(o,a,d,u){this.entidadEstructuraService=o,this.expedientePadecimientoService=a,this.doctoresService=d,this.modalController=u,this.expedientePadecimientoDto=new M.D,this.btnSubmit=!1,this.fechaActual=(new Date).toISOString(),(0,f.a)({"chevron-up":"assets/img/svg/chevron-up.svg","chevron-down":"assets/img/svg/chevron-down.svg",calendar:"assets/img/svg/calendar.svg"})}ngOnInit(){this.consultarDiagnosticosSelector(),this.consultarDoctores()}consultarDiagnosticosSelector(){var o=this;return(0,p.Z)(function*(){return(0,s.n)(o.entidadEstructuraService.consultarDiagnosticosParaSelector()).then(a=>{o.diagnosticoFiltradoList=a.filter(d=>!o.diagnosticosUsuario.some(u=>u.idPadecimiento===d.idPadecimiento))})})()}consultarDoctores(){this.doctoresService.consultarExpediente().subscribe({next:o=>{this.misDoctoresList=o},error:()=>{},complete:()=>{}})}enviarFormulario(o){this.btnSubmit=!0,null==this.expedientePadecimientoDto.fechaDiagnostico&&(this.expedientePadecimientoDto.fechaDiagnostico=new Date),o.valid?this.agregarExpedientePadecimiento(this.expedientePadecimientoDto):(0,v.CW)(o)}agregarExpedientePadecimiento(o){this.expedientePadecimientoService.agregarPadecimiento(o).subscribe({next:()=>{},error:()=>{},complete:()=>{this.modalController.dismiss()}})}}return(i=l).\u0275fac=function(o){return new(o||i)(t.Y36(Z.B),t.Y36(C.n),t.Y36(T.q),t.Y36(D.IN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-diagnostico-formulario"]],inputs:{diagnosticosUsuario:"diagnosticosUsuario"},standalone:!0,features:[t.jDz],decls:41,vars:11,consts:[[1,"contenedor-principal"],[1,"titulo"],[1,"formulario"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"contenido-formulario"],[1,"inputs","ion-no-padding"],["size","12"],[1,"input"],["lines","none",1,"select-input"],["id","padecimiento","name","padecimientoName","interface","popover","toggleIcon","chevron-up","expandedIcon","chevron-down","placeholder","Seleccionar","required","",3,"interfaceOptions","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["noDiagnosticos",""],["lines","none",1,"date-input"],["datetime","fechaRealizacion"],["id","fechaRealizacionIcon","name","calendar","slot","end"],["trigger","fechaRealizacionIcon",3,"keepContentsMounted"],["id","doctor","name","doctorName","interface","popover","placeholder","Seleccionar","toggleIcon","chevron-up","expandedIcon","chevron-down","required","",3,"interfaceOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"botones","botones-column"],["type","submit",1,"dark",3,"disabled"],[3,"value"],["disabled",""],["presentation","date","color","morado-custom","name","fechaRealizacion","id","fechaRealizacion","showDefaultButtons","true","locale","es-ES",3,"ngModel","max","ngModelChange"],["fechaRealizacion","ngModel"]],template:function(o,a){if(1&o){const d=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"ion-text")(3,"h1"),t._uU(4,"A\xf1adir diagn\xf3stico"),t.qZA()()(),t.TgZ(5,"div",2)(6,"form",3,4),t.NdJ("keydown.enter",function(h){return h.preventDefault()})("ngSubmit",function(){t.CHM(d);const h=t.MAs(7);return t.KtG(a.enviarFormulario(h))}),t.TgZ(8,"div",5)(9,"ion-grid",6)(10,"ion-row")(11,"ion-col",7)(12,"div",8)(13,"ion-label"),t._uU(14,"Tipo de diagnostico"),t.qZA(),t.TgZ(15,"ion-item",9)(16,"ion-select",10),t.NdJ("ngModelChange",function(h){return a.expedientePadecimientoDto.idPadecimiento=h}),t.YNc(17,A,2,1,"ng-container",11),t.YNc(18,F,2,0,"ng-template",null,12,t.W1O),t.qZA()()()()(),t.TgZ(20,"ion-row")(21,"ion-col",7)(22,"div",8)(23,"ion-label"),t._uU(24,"Fecha de diagn\xf3stico/procedimiento"),t.qZA(),t.TgZ(25,"ion-item",13),t._UZ(26,"ion-datetime-button",14)(27,"ion-icon",15),t.qZA(),t.TgZ(28,"ion-modal",16),t.YNc(29,I,2,2,"ng-template"),t.qZA()()()(),t.TgZ(30,"ion-row")(31,"ion-col",7)(32,"div",8)(33,"ion-label"),t._uU(34,"Doctor"),t.qZA(),t.TgZ(35,"ion-item",9)(36,"ion-select",17),t.NdJ("ngModelChange",function(h){return a.expedientePadecimientoDto.idUsuarioDoctor=h}),t.YNc(37,U,2,2,"ion-select-option",18),t.qZA()()()()()()(),t.TgZ(38,"div",19)(39,"ion-button",20),t._uU(40," Guardar "),t.qZA()()()()()}if(2&o){const d=t.MAs(7),u=t.MAs(19);t.xp6(16),t.Q6J("interfaceOptions",t.DdM(9,P))("ngModel",a.expedientePadecimientoDto.idPadecimiento),t.xp6(1),t.Q6J("ngIf",null==a.diagnosticoFiltradoList?null:a.diagnosticoFiltradoList.length)("ngIfElse",u),t.xp6(11),t.Q6J("keepContentsMounted",!0),t.xp6(8),t.Q6J("interfaceOptions",t.DdM(10,P))("ngModel",a.expedientePadecimientoDto.idUsuarioDoctor),t.xp6(1),t.Q6J("ngForOf",a.misDoctoresList),t.xp6(2),t.Q6J("disabled",a.btnSubmit||!d.valid)}},dependencies:[e.Pc,e.YG,e.wI,e.x4,e.Mj,e.jY,e.gu,e.Ie,e.Q$,e.Nd,e.t9,e.n0,e.yW,e.ki,e.QI,m.ez,m.sg,m.O5,g.u5,g._Y,g.JJ,g.JL,g.Q7,g.On,g.F],styles:[".contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{padding:32px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{height:15vh}"]}),l})();var E=r(6558);function S(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"div",14)(1,"ion-text")(2,"p"),t._uU(3,"Nada Por aqu\xed. "),t._UZ(4,"br"),t._uU(5," A\xfan no hay diagnosticos registrados."),t.qZA()(),t.TgZ(6,"ion-button",15),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.AgregarDiagnostico())}),t._UZ(7,"ion-icon",16),t._uU(8," A\xf1adir diagnostico "),t.qZA()()}}function b(i,l){if(1&i){const n=t.EpF();t.TgZ(0,"ion-item",19)(1,"ion-label")(2,"h3"),t._uU(3),t.qZA(),t.TgZ(4,"p"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()(),t.TgZ(9,"ion-button",20),t.NdJ("click",function(){const d=t.CHM(n).$implicit,u=t.oxw(2);return t.KtG(u.presentarAlertaEliminarDiagnostico(d))}),t._UZ(10,"ion-icon",21),t.qZA()()}if(2&i){const n=l.$implicit;t.xp6(3),t.Oqu(n.nombrePadecimiento),t.xp6(2),t.Oqu(t.xi3(6,5,n.fechaDiagnostico,"dd/MM/yyyy")),t.xp6(3),t.lnq("",n.tituloDoctor," ",n.nombreDoctor," ",n.apellidosDoctor,"")}}function N(i,l){if(1&i&&(t.TgZ(0,"ion-list",17),t.YNc(1,b,11,8,"ion-item",18),t.qZA()),2&i){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.misDiagnosticos)}}let J=(()=>{var i;class l{constructor(o,a,d,u){this.alertController=o,this.modalController=a,this.usuarioService=d,this.expedientePadecimientoService=u,(0,f.a)({"chevron-left":"assets/img/svg/chevron-left.svg",plus:"assets/img/svg/plus.svg",trash:"assets/img/svg/trash-2.svg"})}ngOnInit(){this.consultarDiagnosticos()}consultarDiagnosticos(){this.usuarioService.consultarDiagnosticosUsuario().subscribe({next:o=>{this.misDiagnosticos=o}})}presentarAlertaEliminarDiagnostico(o){var a=this;return(0,p.Z)(function*(){yield(yield a.alertController.create({header:"\xbfSeguro que deseas eliminar este elemento?",subHeader:"No podr\xe1s recuperarlo",cssClass:"custom-alert color-error icon-trash two-buttons",buttons:[{text:"No, regresar",role:"cancel"},{text:"S\xed, eliminar",role:"confirm",handler:()=>{a.eliminarAntecedente(o)}}]})).present()})()}presentarAlertaEliminadoExitosamente(){var o=this;return(0,p.Z)(function*(){yield(yield o.alertController.create({header:"Elemento eliminado exitosamente",buttons:[{text:"De acuerdo",role:"confirm"}],cssClass:"custom-alert color-primary icon-check"})).present()})()}AgregarDiagnostico(){var o=this;return(0,p.Z)(function*(){const a=yield o.modalController.create({component:y,componentProps:{diagnosticosUsuario:o.misDiagnosticos},breakpoints:[0,1],initialBreakpoint:1,cssClass:"custom-sheet-modal"});a.onWillDismiss().then(()=>{o.consultarDiagnosticos()}),yield a.present()})()}eliminarAntecedente(o){this.expedientePadecimientoService.eliminar(o.idExpedientePadecimiento).subscribe({next:()=>{this.consultarDiagnosticos()},error:()=>{},complete:()=>{this.presentarAlertaEliminadoExitosamente()}})}listaDiagnosticosVacia(){var o;return(null===(o=this.misDiagnosticos)||void 0===o?void 0:o.length)<=0}}return(i=l).\u0275fac=function(o){return new(o||i)(t.Y36(D.Br),t.Y36(D.IN),t.Y36(E.i),t.Y36(C.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-info-diagnosticos"]],standalone:!0,features:[t.jDz],decls:20,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header-light"],["slot","start",1,"start"],["routerLink","inicio-perfil"],["slot","start","name","chevron-left"],["slot","end",1,"end"],[1,"icon-only",3,"click"],["name","plus"],[1,"primary"],[1,"contenedor-principal"],[1,"titulo"],[1,"lista-diagnosticos"],["class","lista-vacia",4,"ngIf"],["class","custom-general-item-list",4,"ngIf"],[1,"lista-vacia"],["fill","outline",3,"click"],["slot","start","name","plus"],[1,"custom-general-item-list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end",1,"custom-icon-only","clear-error","slot-end",3,"click"],["name","trash"]],template:function(o,a){1&o&&(t.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),t._UZ(5,"ion-icon",4),t.TgZ(6,"ion-label"),t._uU(7,"Atr\xe1s"),t.qZA()()(),t.TgZ(8,"ion-buttons",5)(9,"ion-button",6),t.NdJ("click",function(){return a.AgregarDiagnostico()}),t._UZ(10,"ion-icon",7),t.qZA()()()()(),t.TgZ(11,"ion-content",8)(12,"div",9)(13,"div",10)(14,"ion-text")(15,"h3"),t._uU(16,"Diagnosticos"),t.qZA()()(),t.TgZ(17,"div",11),t.YNc(18,S,9,0,"div",12),t.YNc(19,N,2,1,"ion-list",13),t.qZA()()()),2&o&&(t.xp6(18),t.Q6J("ngIf",a.listaDiagnosticosVacia()),t.xp6(1),t.Q6J("ngIf",!a.listaDiagnosticosVacia()))},dependencies:[e.Pc,e.YG,e.Sm,e.W2,e.Gu,e.gu,e.Ie,e.Q$,e.q_,e.yW,e.sr,e.YI,m.ez,m.sg,m.O5,m.uU,g.u5,c.Bz,c.rH],styles:[".contenedor-principal[_ngcontent-%COMP%]{background:var(--primary-50);height:80vh}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]{height:72vh}"]}),l})()},6203:(x,_,r)=>{r.d(_,{n:()=>g});var p=r(1571),m=r(529);let g=(()=>{var c;class e{constructor(s){this.http=s,this.dataUrl="expedientePadecimiento/"}consultarPorUsuarioParaSelector(){return this.http.get(this.dataUrl+"consultarPorUsuarioSelector")}eliminar(s){return this.http.delete(this.dataUrl+`${s}`)}agregarPadecimiento(s){return this.http.post(this.dataUrl+"agregarExpedientePadecimiento",s)}}return(c=e).\u0275fac=function(s){return new(s||c)(p.LFG(m.eN))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),e})()},9134:(x,_,r)=>{r.d(_,{q:()=>g});var p=r(1571),m=r(529);let g=(()=>{var c;class e{constructor(s){this.http=s,this.url="expedienteDoctor/"}consultarExpediente(){return this.http.get(this.url)}consultarExpedienteConImagenes(){return this.http.get(this.url+"conImagenes")}consultarSelector(){return this.http.get(this.url+"selector")}consultarPorUsuarioParaSelector(){return this.http.get(this.url+"selectorPorUsuario")}eliminar(s){return this.http.delete(this.url+"eliminarDoctorTrackr",{body:s})}agregar(s){return this.http.post(this.url,s)}}return(c=e).\u0275fac=function(s){return new(s||c)(p.LFG(m.eN))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),e})()}}]);