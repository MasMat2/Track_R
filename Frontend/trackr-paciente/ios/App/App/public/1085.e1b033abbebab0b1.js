"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1085],{1085:(E,C,a)=>{a.r(C),a.d(C,{InfoDiagnosticosComponent:()=>w});var m=a(5861),p=a(6895),g=a(433),M=a(4384),r=a(9149),P=a(675),f=a(2583),u=a(1297),v=a(9808),x=a(429),D=a(7930),n=a(1571),b=a(6958),O=a(6203),y=a(226),_=a(1814);function Z(i,s){if(1&i&&(n.TgZ(0,"ion-select-option",19),n._uU(1),n.qZA()),2&i){const o=s.$implicit;n.Q6J("value",null==o?null:o.idPadecimiento),n.xp6(1),n.hij(" ",null==o?null:o.nombre," ")}}function A(i,s){if(1&i){const o=n.EpF();n.TgZ(0,"ion-datetime",20,21),n.NdJ("ngModelChange",function(e){n.CHM(o);const c=n.oxw();return n.KtG(c.expedientePadecimientoDto.fechaDiagnostico=e)}),n.qZA()}if(2&i){const o=n.oxw();n.Q6J("ngModel",o.expedientePadecimientoDto.fechaDiagnostico)("max",o.fechaActual)}}function T(i,s){if(1&i&&(n.TgZ(0,"ion-select-option",19),n._uU(1),n.qZA()),2&i){const o=s.$implicit;n.Q6J("value",null==o?null:o.idUsuarioDoctor),n.xp6(1),n.hij(" ",null==o?null:o.nombre," ")}}const h=function(){return{cssClass:"custom-select-popover"}};let F=(()=>{var i;class s{constructor(t,e,c,l){this.entidadEstructuraService=t,this.expedientePadecimientoService=e,this.doctoresService=c,this.modalController=l,this.expedientePadecimientoDto=new D.D,this.btnSubmit=!1,this.fechaActual=(new Date).toISOString(),(0,f.a)({calendarOutline:u.rom,chevronUp:u.m5K,chevronDown:u.Dd1})}ngOnInit(){this.consultarDiagnosticosSelector(),this.consultarDoctores()}consultarDiagnosticosSelector(){var t=this;return(0,m.Z)(function*(){return(0,v.n)(t.entidadEstructuraService.consultarDiagnosticosParaSelector()).then(e=>{t.diagnosticoFiltradoList=e.filter(c=>!t.diagnosticosUsuario.some(l=>l.idPadecimiento===c.idPadecimiento))})})()}consultarDoctores(){this.doctoresService.consultarExpediente().subscribe({next:t=>{this.misDoctoresList=t},error:()=>{},complete:()=>{}})}enviarFormulario(t){this.btnSubmit=!0,t.valid?this.agregarExpedientePadecimiento(this.expedientePadecimientoDto):(0,x.CW)(t)}agregarExpedientePadecimiento(t){this.expedientePadecimientoService.agregarPadecimiento(t).subscribe({next:()=>{},error:()=>{},complete:()=>{this.modalController.dismiss()}})}}return(i=s).\u0275fac=function(t){return new(t||i)(n.Y36(b.B),n.Y36(O.n),n.Y36(y.q),n.Y36(_.IN))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-diagnostico-formulario"]],inputs:{diagnosticosUsuario:"diagnosticosUsuario"},standalone:!0,features:[n.jDz],decls:37,vars:10,consts:[[1,"contenedor-principal"],[1,"titulo"],[1,"formulario"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"contenido-formulario"],[1,"inputs"],[1,"input"],["lines","none",1,"select-input"],["id","padecimiento","name","padecimientoName","interface","popover","toggleIcon","chevron-up","expandedIcon","chevron-down","placeholder","Seleccionar","required","",3,"interfaceOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"date-input"],["datetime","fechaRealizacion"],[1,"input-icon"],["name","calendar-outline"],[3,"keepContentsMounted"],["id","doctor","name","doctorName","interface","popover","placeholder","Seleccionar","toggleIcon","chevron-up","expandedIcon","chevron-down","required","",3,"interfaceOptions","ngModel","ngModelChange"],[1,"botones"],["type","submit",1,"guardar",3,"disabled"],[3,"value"],["presentation","date","color","morado-custom","name","fechaRealizacion","id","fechaRealizacion","showDefaultButtons","true","locale","es-ES","required","",3,"ngModel","max","ngModelChange"],["fechaRealizacion","ngModel"]],template:function(t,e){if(1&t){const c=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"ion-text")(3,"h1"),n._uU(4,"A\xf1adir diagn\xf3stico"),n.qZA()()(),n.TgZ(5,"div",2)(6,"form",3,4),n.NdJ("keydown.enter",function(d){return d.preventDefault()})("ngSubmit",function(){n.CHM(c);const d=n.MAs(7);return n.KtG(e.enviarFormulario(d))}),n.TgZ(8,"div",5)(9,"ion-list",6)(10,"div",7)(11,"ion-text")(12,"p"),n._uU(13,"Tipo de diagnostico"),n.qZA()(),n.TgZ(14,"ion-item",8)(15,"ion-select",9),n.NdJ("ngModelChange",function(d){return e.expedientePadecimientoDto.idPadecimiento=d}),n.YNc(16,Z,2,2,"ion-select-option",10),n.qZA()()(),n.TgZ(17,"div",7)(18,"ion-text")(19,"p"),n._uU(20,"Fecha de diagn\xf3stico/procedimiento"),n.qZA()(),n.TgZ(21,"ion-item",11),n._UZ(22,"ion-datetime-button",12),n.TgZ(23,"div",13),n._UZ(24,"ion-icon",14),n.qZA()(),n.TgZ(25,"ion-modal",15),n.YNc(26,A,2,2,"ng-template"),n.qZA()(),n.TgZ(27,"div",7)(28,"ion-text")(29,"p"),n._uU(30,"Doctor"),n.qZA()(),n.TgZ(31,"ion-item",8)(32,"ion-select",16),n.NdJ("ngModelChange",function(d){return e.expedientePadecimientoDto.idUsuarioDoctor=d}),n.YNc(33,T,2,2,"ion-select-option",10),n.qZA()()()()(),n.TgZ(34,"div",17)(35,"ion-button",18),n._uU(36,"Guardar"),n.qZA()()()()()}if(2&t){const c=n.MAs(7);n.xp6(15),n.Q6J("interfaceOptions",n.DdM(8,h))("ngModel",e.expedientePadecimientoDto.idPadecimiento),n.xp6(1),n.Q6J("ngForOf",e.diagnosticoFiltradoList),n.xp6(9),n.Q6J("keepContentsMounted",!0),n.xp6(7),n.Q6J("interfaceOptions",n.DdM(9,h))("ngModel",e.expedientePadecimientoDto.idUsuarioDoctor),n.xp6(1),n.Q6J("ngForOf",e.misDoctoresList),n.xp6(2),n.Q6J("disabled",e.btnSubmit||!c.valid)}},dependencies:[r.Pc,r.YG,r.x4,r.Mj,r.gu,r.Ie,r.q_,r.t9,r.n0,r.yW,r.ki,r.QI,p.ez,p.sg,g.u5,g._Y,g.JJ,g.JL,g.Q7,g.On,g.F],styles:[".contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{padding:32px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{background:transparent;padding:0 32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-top:16px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-family:var(--font-body);font-weight:400;font-size:16px;line-height:22px;color:var(--neutral-700)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:100%;--border-width: 1px ;--border-color: var(--neutral-300);--border-radius: 8px;--background: transparent}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{width:32px;height:100%;display:flex;justify-content:center;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{max-width:calc(100% - 40px);width:100%}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]::part(native){width:100%;text-align:start;background:transparent;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:16px!important}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.select-input[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){position:absolute;right:0;color:var(--neutral-600);width:24px;height:24px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{background:var(--neutral-50);height:15vh;width:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:0 32px 36px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;width:100%;max-width:600px;height:44px;--border-radius: 8px;color:var(--neutral-50);--background: var(--primary-700);--box-shadow: 0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar.button-disabled[_ngcontent-%COMP%]{opacity:1;--background: var(--primary-300)}"]}),s})();var U=a(6558);function I(i,s){if(1&i){const o=n.EpF();n.TgZ(0,"div",12)(1,"ion-text")(2,"p"),n._uU(3,"Nada Por aqu\xed. "),n._UZ(4,"br"),n._uU(5," A\xfan no hay diagnosticos registrados."),n.qZA()(),n.TgZ(6,"ion-button",13),n.NdJ("click",function(){n.CHM(o);const e=n.oxw();return n.KtG(e.AgregarDiagnostico())}),n._UZ(7,"ion-icon",14),n._uU(8," A\xf1adir diagnostico "),n.qZA()()}}function S(i,s){if(1&i){const o=n.EpF();n.TgZ(0,"ion-item",17)(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.qZA()(),n.TgZ(9,"ion-button",18),n.NdJ("click",function(){const c=n.CHM(o).$implicit,l=n.oxw(2);return n.KtG(l.presentarAlertaEliminarDiagnostico(c))}),n._UZ(10,"ion-icon",19),n.qZA()()}if(2&i){const o=s.$implicit;n.xp6(3),n.Oqu(o.nombrePadecimiento),n.xp6(2),n.Oqu(n.xi3(6,5,o.fechaDiagnostico,"dd/MM/yyyy")),n.xp6(3),n.lnq("",o.tituloDoctor," ",o.nombreDoctor," ",o.apellidosDoctor,"")}}function J(i,s){if(1&i&&(n.TgZ(0,"div",15)(1,"ion-list"),n.YNc(2,S,11,8,"ion-item",16),n.qZA()()),2&i){const o=n.oxw();n.xp6(2),n.Q6J("ngForOf",o.misDiagnosticos)}}let w=(()=>{var i;class s{constructor(t,e,c,l){this.alertController=t,this.modalController=e,this.usuarioService=c,this.expedientePadecimientoService=l,(0,f.a)({chevronBack:u.Mny,add:u.IHx,trashOutline:u.gtu})}ngOnInit(){this.consultarDiagnosticos()}consultarDiagnosticos(){this.usuarioService.consultarDiagnosticosUsuario().subscribe({next:t=>{this.misDiagnosticos=t}})}presentarAlertaEliminarDiagnostico(t){var e=this;return(0,m.Z)(function*(){yield(yield e.alertController.create({header:"\xbfSeguro que deseas eliminar este elemento?",subHeader:"No podr\xe1s recuperarlo",message:P.Ji,cssClass:"custom-alert-delete",buttons:[{text:"No, regresar",role:"cancel"},{text:"S\xed, eliminar",role:"confirm",handler:()=>{e.eliminarAntecedente(t)}}]})).present()})()}presentarAlertaEliminadoExitosamente(){var t=this;return(0,m.Z)(function*(){yield(yield t.alertController.create({header:"Elemento eliminado exitosamente",message:P.Dd,buttons:[{text:"De acuerdo",role:"confirm"}],cssClass:"custom-alert-success"})).present()})()}AgregarDiagnostico(){var t=this;return(0,m.Z)(function*(){const e=yield t.modalController.create({component:F,componentProps:{diagnosticosUsuario:t.misDiagnosticos},breakpoints:[0,1],initialBreakpoint:1,cssClass:"custom-sheet-modal"});e.onWillDismiss().then(()=>{t.consultarDiagnosticos()}),yield e.present()})()}eliminarAntecedente(t){this.expedientePadecimientoService.eliminar(t.idExpedientePadecimiento).subscribe({next:()=>{this.consultarDiagnosticos()},error:()=>{},complete:()=>{this.presentarAlertaEliminadoExitosamente()}})}listaDiagnosticosVacia(){var t;return(null===(t=this.misDiagnosticos)||void 0===t?void 0:t.length)<=0}}return(i=s).\u0275fac=function(t){return new(t||i)(n.Y36(_.Br),n.Y36(_.IN),n.Y36(U.i),n.Y36(O.n))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-info-diagnosticos"]],standalone:!0,features:[n.jDz],decls:18,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header"],["slot","start"],["routerLink","inicio-perfil"],["slot","start","name","chevron-back"],["slot","end"],[3,"click"],["slot","icon-only","name","add"],[1,"contenedor-principal"],[1,"titulo"],["class","lista-vacia",4,"ngIf"],["class","lista-diagnosticos",4,"ngIf"],[1,"lista-vacia"],["fill","outline",3,"click"],["slot","start","name","add"],[1,"lista-diagnosticos"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n._UZ(5,"ion-icon",4),n._uU(6," Atr\xe1s "),n.qZA()(),n.TgZ(7,"ion-buttons",5)(8,"ion-button",6),n.NdJ("click",function(){return e.AgregarDiagnostico()}),n._UZ(9,"ion-icon",7),n.qZA()()()()(),n.TgZ(10,"ion-content")(11,"div",8)(12,"div",9)(13,"ion-text")(14,"h3"),n._uU(15,"Diagnosticos"),n.qZA()()(),n.YNc(16,I,9,0,"div",10),n.YNc(17,J,3,1,"div",11),n.qZA()()),2&t&&(n.xp6(16),n.Q6J("ngIf",e.listaDiagnosticosVacia()),n.xp6(1),n.Q6J("ngIf",!e.listaDiagnosticosVacia()))},dependencies:[r.Pc,r.YG,r.Sm,r.W2,r.Gu,r.gu,r.Ie,r.Q$,r.q_,r.yW,r.sr,r.YI,p.ez,p.sg,p.O5,p.uU,g.u5,M.Bz,M.rH],styles:["ion-header[_ngcontent-%COMP%]{border-radius:0;background:var(--primary-50)}ion-content[_ngcontent-%COMP%]{--background: var(--primary-50)}.contenedor-header[_ngcontent-%COMP%]{height:20vh;width:100%}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{height:100%;width:100%;--background: url(/assets/header_light.svg);max-height:153px;max-width:390px;display:flex;flex-direction:column;justify-content:flex-end;padding-bottom:20px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:var(--font-body);font-weight:400;font-size:18px;color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]{background:var(--primary-50);height:80vh}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]{height:72vh;padding-top:20vh;display:flex;flex-direction:column;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:center}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;font-family:var(--font-body);color:var(--neutral-500)}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:187px;height:44px;font-family:var(--font-body);font-weight:700;font-size:16px;--border-radius: 8px;color:var(--primary-700);--border-color: var(--primary-700);--border-width: 1px}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]{height:72vh}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:16px}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{padding-right:8.8px!important;margin-right:0!important;--ripple-color: var(--error-200)}.contenedor-principal[_ngcontent-%COMP%]   .lista-diagnosticos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--error-200)}"]}),s})()}}]);