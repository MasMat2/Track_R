"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4564],{4564:(E,_,c)=>{c.r(_),c.d(_,{InfoAntecedentesComponent:()=>w});var m=c(5861),g=c(6895),s=c(433),r=c(9149),C=c(675),M=c(2583),u=c(1297),v=c(9808),x=c(429),A=c(7930),n=c(1571),b=c(6958),P=c(6203),y=c(226),f=c(1814);function Z(i,l){if(1&i&&(n.TgZ(0,"ion-select-option",19),n._uU(1),n.qZA()),2&i){const e=l.$implicit;n.Q6J("value",null==e?null:e.idPadecimiento),n.xp6(1),n.hij(" ",null==e?null:e.nombre," ")}}function T(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"ion-datetime",20,21),n.NdJ("ngModelChange",function(o){n.CHM(e);const a=n.oxw();return n.KtG(a.expedientePadecimientoDto.fechaDiagnostico=o)}),n.qZA()}if(2&i){const e=n.oxw();n.Q6J("ngModel",e.expedientePadecimientoDto.fechaDiagnostico)("max",e.fechaActual)}}function F(i,l){if(1&i&&(n.TgZ(0,"ion-select-option",19),n._uU(1),n.qZA()),2&i){const e=l.$implicit;n.Q6J("value",null==e?null:e.idUsuarioDoctor),n.xp6(1),n.hij(" ",null==e?null:e.nombre," ")}}const O=function(){return{cssClass:"custom-select-popover"}};let D=(()=>{var i;class l{constructor(t,o,a,d){this.entidadEstructuraService=t,this.expedientePadecimientoService=o,this.doctoresService=a,this.modalController=d,this.expedientePadecimientoDto=new A.D,this.btnSubmit=!1,this.fechaActual=(new Date).toISOString(),(0,M.a)({calendarOutline:u.rom,chevronUp:u.m5K,chevronDown:u.Dd1})}ngOnInit(){this.consultarAntecedentesSelector(),this.consultarDoctores()}consultarAntecedentesSelector(){var t=this;return(0,m.Z)(function*(){return(0,v.n)(t.entidadEstructuraService.consultarAntecedentesParaSelector()).then(o=>{t.antecedenteFiltradoList=o.filter(a=>!t.antecedentesUsuario.some(d=>d.idPadecimiento===a.idPadecimiento))})})()}consultarDoctores(){this.doctoresService.consultarExpediente().subscribe({next:t=>{this.misDoctoresList=t},error:()=>{},complete:()=>{}})}enviarFormulario(t){this.btnSubmit=!0,t.valid?this.agregarExpedientePadecimiento(this.expedientePadecimientoDto):(0,x.CW)(t)}agregarExpedientePadecimiento(t){this.expedientePadecimientoService.agregarPadecimiento(t).subscribe({next:()=>{},error:()=>{},complete:()=>{this.modalController.dismiss()}})}}return(i=l).\u0275fac=function(t){return new(t||i)(n.Y36(b.B),n.Y36(P.n),n.Y36(y.q),n.Y36(f.IN))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-antecedente-formulario"]],inputs:{antecedentesUsuario:"antecedentesUsuario"},standalone:!0,features:[n.jDz],decls:37,vars:10,consts:[[1,"contenedor-principal"],[1,"titulo"],[1,"formulario"],["novalidate","novalidate",3,"keydown.enter","ngSubmit"],["formulario","ngForm"],[1,"contenido-formulario"],[1,"inputs"],[1,"input"],["lines","none",1,"select-input"],["id","padecimiento","name","padecimientoName","interface","popover","toggleIcon","chevron-up","expandedIcon","chevron-down","placeholder","Seleccionar","required","",3,"interfaceOptions","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"date-input"],["datetime","fechaRealizacion"],[1,"input-icon"],["name","calendar-outline"],[3,"keepContentsMounted"],["id","doctor","name","doctorName","interface","popover","placeholder","Seleccionar","toggleIcon","chevron-up","expandedIcon","chevron-down","required","",3,"interfaceOptions","ngModel","ngModelChange"],[1,"botones"],["type","submit",1,"guardar",3,"disabled"],[3,"value"],["presentation","date","color","morado-custom","name","fechaRealizacion","id","fechaRealizacion","showDefaultButtons","true","locale","es-ES","required","",3,"ngModel","max","ngModelChange"],["fechaRealizacion","ngModel"]],template:function(t,o){if(1&t){const a=n.EpF();n.TgZ(0,"div",0)(1,"div",1)(2,"ion-text")(3,"h1"),n._uU(4,"A\xf1adir antecedente"),n.qZA()()(),n.TgZ(5,"div",2)(6,"form",3,4),n.NdJ("keydown.enter",function(p){return p.preventDefault()})("ngSubmit",function(){n.CHM(a);const p=n.MAs(7);return n.KtG(o.enviarFormulario(p))}),n.TgZ(8,"div",5)(9,"ion-list",6)(10,"div",7)(11,"ion-text")(12,"p"),n._uU(13,"Tipo de antecedente"),n.qZA()(),n.TgZ(14,"ion-item",8)(15,"ion-select",9),n.NdJ("ngModelChange",function(p){return o.expedientePadecimientoDto.idPadecimiento=p}),n.YNc(16,Z,2,2,"ion-select-option",10),n.qZA()()(),n.TgZ(17,"div",7)(18,"ion-text")(19,"p"),n._uU(20,"Fecha de diagn\xf3stico/procedimiento"),n.qZA()(),n.TgZ(21,"ion-item",11),n._UZ(22,"ion-datetime-button",12),n.TgZ(23,"div",13),n._UZ(24,"ion-icon",14),n.qZA()(),n.TgZ(25,"ion-modal",15),n.YNc(26,T,2,2,"ng-template"),n.qZA()(),n.TgZ(27,"div",7)(28,"ion-text")(29,"p"),n._uU(30,"Doctor"),n.qZA()(),n.TgZ(31,"ion-item",8)(32,"ion-select",16),n.NdJ("ngModelChange",function(p){return o.expedientePadecimientoDto.idUsuarioDoctor=p}),n.YNc(33,F,2,2,"ion-select-option",10),n.qZA()()()()(),n.TgZ(34,"div",17)(35,"ion-button",18),n._uU(36,"Guardar"),n.qZA()()()()()}if(2&t){const a=n.MAs(7);n.xp6(15),n.Q6J("interfaceOptions",n.DdM(8,O))("ngModel",o.expedientePadecimientoDto.idPadecimiento),n.xp6(1),n.Q6J("ngForOf",o.antecedenteFiltradoList),n.xp6(9),n.Q6J("keepContentsMounted",!0),n.xp6(7),n.Q6J("interfaceOptions",n.DdM(9,O))("ngModel",o.expedientePadecimientoDto.idUsuarioDoctor),n.xp6(1),n.Q6J("ngForOf",o.misDoctoresList),n.xp6(2),n.Q6J("disabled",o.btnSubmit||!a.valid)}},dependencies:[r.Pc,r.YG,r.x4,r.Mj,r.gu,r.Ie,r.q_,r.t9,r.n0,r.yW,r.ki,r.QI,g.ez,g.sg,s.u5,s._Y,s.JJ,s.JL,s.Q7,s.On,s.F],styles:[".contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{padding:32px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{background:transparent;padding:0 32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{padding-top:16px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;font-family:var(--font-body);font-weight:400;font-size:16px;line-height:22px;color:var(--neutral-700)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{width:100%;--border-width: 1px ;--border-color: var(--neutral-300);--border-radius: 8px;--background: transparent}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{width:32px;height:100%;display:flex;justify-content:center;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{max-width:calc(100% - 40px);width:100%}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]::part(native){width:100%;text-align:start;background:transparent;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.date-input[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;right:0;margin-right:16px!important}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .contenido-formulario[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   ion-item.select-input[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]::part(icon){position:absolute;right:0;color:var(--neutral-600);width:24px;height:24px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{background:var(--neutral-50);height:15vh;width:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:0 32px 36px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;width:100%;max-width:600px;height:44px;--border-radius: 8px;color:var(--neutral-50);--background: var(--primary-700);--box-shadow: 0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar.button-disabled[_ngcontent-%COMP%]{opacity:1;--background: var(--primary-300)}"]}),l})();var h=c(4384),U=c(6558);function I(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"div",12)(1,"ion-text")(2,"p"),n._uU(3,"Nada Por aqu\xed. "),n._UZ(4,"br"),n._uU(5," A\xfan no hay antecedentes registrados."),n.qZA()(),n.TgZ(6,"ion-button",13),n.NdJ("click",function(){n.CHM(e);const o=n.oxw();return n.KtG(o.AgregarAntecedente())}),n._UZ(7,"ion-icon",14),n._uU(8," A\xf1adir antecedente "),n.qZA()()}}function S(i,l){if(1&i){const e=n.EpF();n.TgZ(0,"ion-item",17)(1,"ion-label")(2,"h3"),n._uU(3),n.qZA(),n.TgZ(4,"p"),n._uU(5),n.ALo(6,"date"),n.qZA(),n.TgZ(7,"p"),n._uU(8),n.qZA()(),n.TgZ(9,"ion-button",18),n.NdJ("click",function(){const a=n.CHM(e).$implicit,d=n.oxw(2);return n.KtG(d.presentarAlertaEliminarAntecedente(a))}),n._UZ(10,"ion-icon",19),n.qZA()()}if(2&i){const e=l.$implicit;n.xp6(3),n.Oqu(e.nombrePadecimiento),n.xp6(2),n.Oqu(n.xi3(6,5,e.fechaDiagnostico,"dd/MM/yyyy")),n.xp6(3),n.lnq("",e.tituloDoctor," ",e.nombreDoctor," ",e.apellidosDoctor,"")}}function J(i,l){if(1&i&&(n.TgZ(0,"div",15)(1,"ion-list"),n.YNc(2,S,11,8,"ion-item",16),n.qZA()()),2&i){const e=n.oxw();n.xp6(2),n.Q6J("ngForOf",e.misAntecedentes)}}let w=(()=>{var i;class l{constructor(t,o,a,d){this.alertController=t,this.modalController=o,this.usuarioService=a,this.expedientePadecimientoService=d,(0,M.a)({chevronBack:u.Mny,add:u.IHx,trashOutline:u.gtu})}ngOnInit(){this.consultarAntecedentes()}consultarAntecedentes(){this.usuarioService.consultarAntecedentesUsuario().subscribe({next:t=>{this.misAntecedentes=t}})}presentarAlertaEliminarAntecedente(t){var o=this;return(0,m.Z)(function*(){yield(yield o.alertController.create({header:"\xbfSeguro que deseas eliminar este elemento?",subHeader:"No podr\xe1s recuperarlo",message:C.Ji,cssClass:"custom-alert-delete",buttons:[{text:"No, regresar",role:"cancel"},{text:"S\xed, eliminar",role:"confirm",handler:()=>{o.eliminarAntecedente(t)}}]})).present()})()}presentarAlertaEliminadoExitosamente(){var t=this;return(0,m.Z)(function*(){yield(yield t.alertController.create({header:"Elemento eliminado exitosamente",message:C.Dd,buttons:[{text:"De acuerdo",role:"confirm"}],cssClass:"custom-alert-success"})).present()})()}AgregarAntecedente(){var t=this;return(0,m.Z)(function*(){const o=yield t.modalController.create({component:D,componentProps:{antecedentesUsuario:t.misAntecedentes},breakpoints:[0,1],initialBreakpoint:1,cssClass:"custom-sheet-modal"});o.onWillDismiss().then(()=>{t.consultarAntecedentes()}),yield o.present()})()}eliminarAntecedente(t){this.expedientePadecimientoService.eliminar(t.idExpedientePadecimiento).subscribe({next:()=>{this.consultarAntecedentes()},error:()=>{},complete:()=>{this.presentarAlertaEliminadoExitosamente()}})}listaAntecedentesVacia(){var t;return(null===(t=this.misAntecedentes)||void 0===t?void 0:t.length)<=0}}return(i=l).\u0275fac=function(t){return new(t||i)(n.Y36(f.Br),n.Y36(r.IN),n.Y36(U.i),n.Y36(P.n))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-info-antecedentes"]],standalone:!0,features:[n.jDz],decls:18,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header"],["slot","start"],["routerLink","inicio-perfil"],["slot","start","name","chevron-back"],["slot","end"],[3,"click"],["slot","icon-only","name","add"],[1,"contenedor-principal"],[1,"titulo"],["class","lista-vacia",4,"ngIf"],["class","lista-antecedentes",4,"ngIf"],[1,"lista-vacia"],["fill","outline",3,"click"],["slot","start","name","add"],[1,"lista-antecedentes"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","end","fill","clear",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n._UZ(5,"ion-icon",4),n._uU(6," Atr\xe1s "),n.qZA()(),n.TgZ(7,"ion-buttons",5)(8,"ion-button",6),n.NdJ("click",function(){return o.AgregarAntecedente()}),n._UZ(9,"ion-icon",7),n.qZA()()()()(),n.TgZ(10,"ion-content")(11,"div",8)(12,"div",9)(13,"ion-text")(14,"h3"),n._uU(15,"Antecedentes"),n.qZA()()(),n.YNc(16,I,9,0,"div",10),n.YNc(17,J,3,1,"div",11),n.qZA()()),2&t&&(n.xp6(16),n.Q6J("ngIf",o.listaAntecedentesVacia()),n.xp6(1),n.Q6J("ngIf",!o.listaAntecedentesVacia()))},dependencies:[r.Pc,r.YG,r.Sm,r.W2,r.Gu,r.gu,r.Ie,r.Q$,r.q_,r.yW,r.sr,r.YI,g.ez,g.sg,g.O5,g.uU,s.u5,h.Bz,h.rH],styles:["ion-header[_ngcontent-%COMP%]{border-radius:0;background:var(--primary-50)}ion-content[_ngcontent-%COMP%]{--background: var(--primary-50)}.contenedor-header[_ngcontent-%COMP%]{height:20vh;width:100%}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{height:100%;width:100%;--background: url(/assets/header_light.svg);max-height:153px;max-width:390px;display:flex;flex-direction:column;justify-content:flex-end;padding-bottom:20px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:var(--font-body);font-weight:400;font-size:18px;color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]{background:var(--primary-50);height:80vh}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]{height:72vh;padding-top:20vh;display:flex;flex-direction:column;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:center}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;font-family:var(--font-body);color:var(--neutral-500)}.contenedor-principal[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:187px;height:44px;font-family:var(--font-body);font-weight:700;font-size:16px;--border-radius: 8px;color:var(--primary-700);--border-color: var(--primary-700);--border-width: 1px}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]{height:72vh}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:16px}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{padding-right:8.8px!important;margin-right:0!important;--ripple-color: var(--error-200)}.contenedor-principal[_ngcontent-%COMP%]   .lista-antecedentes[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--error-200)}"]}),l})()}}]);