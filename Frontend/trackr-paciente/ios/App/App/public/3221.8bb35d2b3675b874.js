"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3221],{3221:(S,u,s)=>{s.r(u),s.d(u,{MisTratamientosPage:()=>Q});var _=s(5861),m=s(6895),f=s(4384),a=s(12),M=s(2583),C=s(5902),O=s(433),v=s(7746),t=s(1571),h=s(1814),P=s(281);function x(i,c){if(1&i&&(t.TgZ(0,"ion-text",14)(1,"h3"),t._uU(2,"Fecha de fin"),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.hij(" ",t.gM2(5,1,null==e.tratamiento?null:e.tratamiento.fechaFin,"MMMM d, y","","es-MX")," ")}}function T(i,c){1&i&&t._UZ(0,"ion-icon",31)}function b(i,c){1&i&&t._UZ(0,"ion-icon",32)}function Z(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",28)(1,"ion-button",4),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.cambiarFiltro())}),t.YNc(2,T,1,0,"ion-icon",29),t.YNc(3,b,1,0,"ion-icon",30),t._uU(4),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf","ascendente"==e.ordenFiltro),t.xp6(1),t.Q6J("ngIf","descendente"==e.ordenFiltro),t.xp6(1),t.hij(" Orden ",e.ordenFiltro," ")}}function y(i,c){1&i&&(t.TgZ(0,"div",33)(1,"ion-text")(2,"p"),t._uU(3," Nada por aqu\xed. "),t._UZ(4,"br"),t._uU(5," A\xfan no tienes consumos registrados. "),t.qZA()()())}function A(i,c){if(1&i&&(t.TgZ(0,"ion-item")(1,"ion-label")(2,"h3"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"date"),t.qZA()()()),2&i){const e=c.$implicit;t.xp6(3),t.Oqu(t.gM2(4,2,e,"MMMM d, y","","es-MX")),t.xp6(3),t.Oqu(t.xi3(7,7,e,"h:mm a"))}}function q(i,c){if(1&i&&(t.TgZ(0,"ion-list"),t.YNc(1,A,8,10,"ion-item",34),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.tratamiento?null:e.tratamiento.bitacora)}}function U(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-header",20)(1,"div",21)(2,"ion-toolbar")(3,"ion-buttons",22)(4,"ion-button",4),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.setOpen(!1))}),t._UZ(5,"ion-icon",5),t._uU(6," Atr\xe1s "),t.qZA()()()()(),t.TgZ(7,"ion-content",0)(8,"div",23)(9,"div",10)(10,"ion-text")(11,"h3"),t._uU(12,"Bitacora de consumo"),t.qZA(),t.TgZ(13,"p"),t._uU(14),t.qZA()()(),t.YNc(15,Z,5,3,"div",24),t.TgZ(16,"div",25),t.YNc(17,y,6,0,"div",26),t.YNc(18,q,2,1,"ion-list",27),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(14),t.Oqu(null==e.tratamiento?null:e.tratamiento.farmaco),t.xp6(1),t.Q6J("ngIf",!e.listaConsumoVacia()),t.xp6(2),t.Q6J("ngIf",e.listaConsumoVacia()),t.xp6(1),t.Q6J("ngIf",!e.listaConsumoVacia())}}const k=function(i){return{"background-image":i}};let w=(()=>{var i;class c{constructor(o,n){this.modalController=o,this.perfilTratamientoService=n,this.backgroundUrl="",this.textoRecordatorios="",this.isModalBitacoraOpen=!1,this.tratamientoFueEditado=!1,this.ordenFiltro="ascendente",this.listaConsumo=[],(0,M.a)({"chevron-left":"assets/img/svg/chevron-left.svg","chevron-right":"assets/img/svg/chevron-right.svg","external-link":"assets/img/svg/external-link.svg","pen-line":"assets/img/svg/pen-line.svg","arrow-up":"assets/img/svg/arrow-up.svg","arrow-down":"assets/img/svg/arrow-down.svg"})}ngOnInit(){this.ordenFiltro="ascendente",this.consultarDetalleTratamiento()}consultarDetalleTratamiento(){this.tratamiento$=this.perfilTratamientoService.consultarTratamientoDetalle(this.idExpedienteTratamiento),this.tratamiento$.subscribe({next:o=>{this.tratamiento=o,this.backgroundUrl=`url(data:${this.tratamiento.tipoMime};base64,${this.tratamiento.imagenBase64})`,this.textoRecordatorios=this.formatearTextoRecordatorios(this.tratamiento.diaSemana,this.tratamiento.horas)}})}cerrarModal(o){this.modalController.dismiss(null,this.tratamientoFueEditado?"confirm":o)}setOpen(o){this.isModalBitacoraOpen=o}abrirModalEditarTratamiento(){var o=this;return(0,_.Z)(function*(){const n=yield o.modalController.create({component:C.AgregarTratamientoPage,componentProps:{accion:"editar",perfilTratamientoDto:o.tratamiento}});yield n.present(),yield n.onWillDismiss().then(({role:l})=>{"confirm"==l&&(o.tratamientoFueEditado=!0,o.consultarDetalleTratamiento())})})()}abrirModalImagen(){var o=this;return(0,_.Z)(function*(){const n=yield o.modalController.create({component:v.F,cssClass:"image-only-modal",componentProps:{archivo:o.tratamiento.imagenBase64,archivoTipoMime:o.tratamiento.tipoMime}});""!=o.tratamiento.imagenBase64&&(yield n.present())})()}cambiarFiltro(){this.ordenFiltro="ascendente"===this.ordenFiltro?"descendente":"ascendente",this.ordenarlista(this.ordenFiltro)}listaConsumoVacia(){var o;return 0==(null===(o=this.tratamiento.bitacora)||void 0===o?void 0:o.length)}formatearTextoRecordatorios(o,n){if(0===n.length)return"Sin recordatorios";const r=["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"],l=n.map(g=>{const[p,B]=g.split(":").map(Number),j=p<12?"a.m.":"p.m.";return`${p%12||12}:${B.toString().padStart(2,"0")} ${j}`});let d="";for(let g=0;g<o.length;g++)o[g]&&(d+=r[g],g<r.length-1&&o.slice(g+1).includes(!0)?d+=", ":g===r.length-2&&o[o.length-1]&&(d+=" y "));return d+=` a las ${l.join(", ")}`,d}ordenarlista(o){var n,r;const l=null===(n=this.tratamiento.bitacora)||void 0===n?void 0:n.map(d=>new Date(d));if(0!=(null===(r=this.tratamiento.bitacora)||void 0===r?void 0:r.length)){if("ascendente"==o){const d=null==l?void 0:l.slice().sort((g,p)=>g.getTime()-p.getTime());this.tratamiento.bitacora=d}if("descendente"==o){const d=null==l?void 0:l.slice().sort((g,p)=>p.getTime()-g.getTime());this.tratamiento.bitacora=d}}}}return(i=c).\u0275fac=function(o){return new(o||i)(t.Y36(h.IN),t.Y36(P.$))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-detalle-tratamiento"]],inputs:{idExpedienteTratamiento:"idExpedienteTratamiento"},standalone:!0,features:[t.jDz],decls:57,vars:20,consts:[[1,"primary"],[1,"contenedor-header",3,"ngStyle"],[1,"contenedor-header-secundario"],["slot","start",1,"start"],[3,"click"],["slot","start","name","chevron-left"],["slot","end",1,"end"],[1,"icon-only",3,"click"],["name","external-link"],[1,"contenedor-principal"],[1,"titulo"],[1,"farmaco"],["slot","start","name","pen-line"],[1,"info"],[1,"parrafo"],["class","parrafo",4,"ngIf"],[1,"botones"],["lines","none","button","",1,"action-button-item",3,"click"],["slot","end","name","chevron-right"],[3,"isOpen"],[1,"ion-no-border"],[1,"contenedor-header-modal"],["slot","start"],[1,"contenedor-principal-modal"],["class","filtro",4,"ngIf"],[1,"lista"],["class","lista-vacia",4,"ngIf"],[4,"ngIf"],[1,"filtro"],["slot","start","name","arrow-up",4,"ngIf"],["slot","start","name","arrow-down",4,"ngIf"],["slot","start","name","arrow-up"],["slot","start","name","arrow-down"],[1,"lista-vacia"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-toolbar")(4,"ion-buttons",3)(5,"ion-button",4),t.NdJ("click",function(){return n.cerrarModal("cancel")}),t._UZ(6,"ion-icon",5),t.TgZ(7,"ion-label"),t._uU(8,"Atr\xe1s"),t.qZA()()(),t.TgZ(9,"ion-buttons",6)(10,"ion-button",7),t.NdJ("click",function(){return n.abrirModalImagen()}),t._UZ(11,"ion-icon",8),t.qZA()()()()(),t.TgZ(12,"div",9)(13,"div",10)(14,"ion-text",11)(15,"h3"),t._uU(16),t.qZA(),t.TgZ(17,"p"),t._uU(18),t.qZA()(),t.TgZ(19,"ion-button",4),t.NdJ("click",function(){return n.abrirModalEditarTratamiento()}),t._UZ(20,"ion-icon",12),t._uU(21," Editar "),t.qZA()(),t.TgZ(22,"div",13)(23,"ion-text",14)(24,"h3"),t._uU(25,"Recordatorios"),t.qZA(),t.TgZ(26,"p"),t._uU(27),t.qZA()(),t.TgZ(28,"ion-text",14)(29,"h3"),t._uU(30,"Indicaciones"),t.qZA(),t.TgZ(31,"p"),t._uU(32),t.qZA()(),t.TgZ(33,"ion-text",14)(34,"h3"),t._uU(35,"Asociado a"),t.qZA(),t.TgZ(36,"p"),t._uU(37),t.qZA()(),t.TgZ(38,"ion-text",14)(39,"h3"),t._uU(40,"Doctor"),t.qZA(),t.TgZ(41,"p"),t._uU(42),t.qZA()(),t.TgZ(43,"ion-text",14)(44,"h3"),t._uU(45,"Fecha de inicio"),t.qZA(),t.TgZ(46,"p"),t._uU(47),t.ALo(48,"date"),t.qZA()(),t.YNc(49,x,6,6,"ion-text",15),t.qZA(),t.TgZ(50,"div",16)(51,"ion-item",17),t.NdJ("click",function(){return n.setOpen(!0)}),t.TgZ(52,"ion-label"),t._uU(53,"Ver bitacora de consumo"),t.qZA(),t._UZ(54,"ion-icon",18),t.qZA()()(),t.TgZ(55,"ion-modal",19),t.YNc(56,U,19,4,"ng-template"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("ngStyle",t.VKq(18,k,n.backgroundUrl)),t.xp6(15),t.Oqu(null==n.tratamiento?null:n.tratamiento.farmaco),t.xp6(2),t.AsE("",null==n.tratamiento?null:n.tratamiento.cantidad," ",null==n.tratamiento?null:n.tratamiento.unidad,""),t.xp6(9),t.hij(" ",n.textoRecordatorios," "),t.xp6(5),t.hij(" ",null==n.tratamiento?null:n.tratamiento.indicaciones," "),t.xp6(5),t.hij(" ",null==n.tratamiento?null:n.tratamiento.padecimiento," "),t.xp6(5),t.lnq(" ",null==n.tratamiento?null:n.tratamiento.tituloDoctor," ",null==n.tratamiento?null:n.tratamiento.nombreDoctor," ",null==n.tratamiento?null:n.tratamiento.apellidosDoctor," "),t.xp6(5),t.hij(" ",t.gM2(48,13,null==n.tratamiento?null:n.tratamiento.fechaInicio,"MMMM d, y","","es-MX")," "),t.xp6(2),t.Q6J("ngIf",null==n.tratamiento?null:n.tratamiento.fechaFin),t.xp6(6),t.Q6J("isOpen",n.isModalBitacoraOpen))},dependencies:[a.Pc,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.yW,a.sr,a.ki,m.ez,m.sg,m.O5,m.PC,m.uU,O.u5],styles:["ion-header[_ngcontent-%COMP%]{background:var(--primary-50)}ion-content[_ngcontent-%COMP%]{--background: var(--primary-50)}.contenedor-header[_ngcontent-%COMP%]{height:30vh;width:100%;border-radius:0 0 16px 16px;background-size:cover;background-position:top;background-repeat:no-repeat}.contenedor-header[_ngcontent-%COMP%]   .contenedor-header-secundario[_ngcontent-%COMP%]{height:100%;width:100%;background:rgba(0,0,0,.1);border-radius:0 0 16px 16px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding-top:40px;--background: transparent}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{margin:0}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons.start[_ngcontent-%COMP%]{margin-left:32px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons.end[_ngcontent-%COMP%]{margin-right:32px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;color:var(--neutral-50);--border-radius: 8px !important}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;margin:4px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--neutral-50)}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){padding:0}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button.icon-only[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding-left:2px!important;padding-right:2px!important}.contenedor-principal[_ngcontent-%COMP%]{height:70vh;background:url(header_light.508685377072668e.svg);background-size:contain;background-position:top;background-repeat:no-repeat;background-color:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:40px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   .farmaco[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-family:var(--font-display);font-size:24px;line-height:24px;color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   .farmaco[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;--background: transparent;--box-shadow: 0;border:0;--color: var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){padding-top:0}.contenedor-principal[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:0 32px}.contenedor-principal[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .parrafo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .contenedor-principal[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .parrafo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-family:var(--font-body);font-size:16px;color:var(--neutral-500)}.contenedor-principal[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .parrafo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:24px}.contenedor-principal[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .parrafo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{width:100%;padding:32px 32px 60px}.contenedor-principal[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   ion-item.action-button-item[_ngcontent-%COMP%]{width:100%;--border-width: 1px;--border-color: var(--primary-400);--border-radius: 8px;--background: var(--primary-100)}.contenedor-principal[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   ion-item.action-button-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{width:100%;font-family:var(--font-body);font-size:16px;font-weight:700;color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   ion-item.action-button-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-700)}.contenedor-header-modal[_ngcontent-%COMP%]{background:var(--primary-50);height:20vh;width:100%}.contenedor-header-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{height:100%;width:100%;--background: url(/assets/header_light.svg);max-height:153px;max-width:390px;display:flex;flex-direction:column;justify-content:flex-end;padding-bottom:20px}.contenedor-header-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:var(--font-body);font-weight:400;font-size:18px;color:var(--primary-700)}.contenedor-principal-modal[_ngcontent-%COMP%]{height:80vh}.contenedor-principal-modal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal-modal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal-modal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal-modal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--neutral-900);font-family:var(--font-body);font-size:16px}.contenedor-principal-modal[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]{height:5vh;display:flex;flex-direction:row;width:100%;justify-content:flex-end;padding:0 32px}.contenedor-principal-modal[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: transparent;--color: var(--primary-700);border:none;--box-shadow: none;font-family:var(--font-body);font-size:16px;font-weight:700}.contenedor-principal-modal[_ngcontent-%COMP%]   .filtro[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--primary-700)}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]{height:67vh}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]{padding-top:40%}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   .lista-vacia[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-family:var(--font-body);font-size:16px;color:var(--neutral-500)}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:0}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50)}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}.contenedor-principal-modal[_ngcontent-%COMP%]   .lista[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){padding-left:32px}"]}),c})();function D(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"ion-text")(2,"p"),t._uU(3,"Nada Por aqu\xed. "),t._UZ(4,"br"),t._uU(5," A\xfan no tienes tratamientos registrados."),t.qZA()(),t.TgZ(6,"ion-button",14),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.agregarTratamiento())}),t._UZ(7,"ion-icon",15),t._uU(8," A\xf1adir tratamiento "),t.qZA()()}}function F(i,c){if(1&i&&t._UZ(0,"ion-img",29),2&i){const e=t.oxw().$implicit;t.Q6J("src","data:"+e.tipoMime+";base64,"+e.imagenBase64)}}function I(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.verDetalleTratamiento(r.idExpedienteTratamiento))}),t.TgZ(2,"ion-thumbnail",25),t.YNc(3,F,1,1,"ion-img",26),t.qZA(),t.TgZ(4,"ion-label")(5,"h3"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA()()(),t.TgZ(11,"ion-item-options")(12,"ion-item-option",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.presentarAlertaEliminar(r))}),t._UZ(13,"ion-icon",28),t.qZA()()()}if(2&i){const e=c.$implicit;t.xp6(3),t.Q6J("ngIf",e.imagenBase64),t.xp6(3),t.Oqu(e.farmaco),t.xp6(2),t.AsE("",e.cantidad," ",e.unidad,""),t.xp6(2),t.hij("Asociado a: ",e.padecimiento,"")}}function N(i,c){if(1&i&&(t.TgZ(0,"ion-list"),t.YNc(1,I,14,5,"ion-item-sliding",23),t.qZA()),2&i){const e=c.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function E(i,c){if(1&i&&(t.TgZ(0,"div",21),t.YNc(1,N,2,1,"ion-list",22),t.ALo(2,"async"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.tratamientos$))}}function J(i,c){if(1&i&&t._UZ(0,"img",29),2&i){const e=t.oxw().$implicit;t.Q6J("src","data:"+e.tipoMime+";base64,"+e.imagenBase64,t.LSH)}}function $(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item",31)(2,"ion-thumbnail",25),t.YNc(3,J,1,1,"img",26),t.qZA(),t.TgZ(4,"ion-label")(5,"h3"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.qZA()()(),t.TgZ(11,"ion-item-options")(12,"ion-item-option",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.presentarAlertaEliminar(r))}),t._UZ(13,"ion-icon",28),t.qZA()()()}if(2&i){const e=c.$implicit;t.xp6(3),t.Q6J("ngIf",e.imagenBase64),t.xp6(3),t.Oqu(e.farmaco),t.xp6(2),t.AsE("",e.cantidad," ",e.unidad,""),t.xp6(2),t.hij("Asociado a: ",e.padecimiento,"")}}function z(i,c){if(1&i&&(t.TgZ(0,"div",30)(1,"ion-list"),t.YNc(2,$,14,5,"ion-item-sliding",23),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.tratamientosFiltradosPorBusqueda)}}function Y(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"ion-searchbar",18),t.NdJ("ionChange",function(n){t.CHM(e);const r=t.oxw();return t.KtG(r.buscarTratamiento(n))}),t.qZA()(),t.YNc(3,E,3,3,"div",19),t.YNc(4,z,3,1,"div",20),t.qZA()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.filtrando),t.xp6(1),t.Q6J("ngIf",e.filtrando)}}let Q=(()=>{var i;class c{constructor(o,n,r){this.perfilTratamientoService=o,this.alertController=n,this.modalController=r,this.filtrando=!1,(0,M.a)({plus:"assets/img/svg/plus.svg","trash-2":"assets/img/svg/trash-2.svg","chevron-left":"assets/img/svg/chevron-left.svg"})}ngOnInit(){this.consultarTratamientos()}consultarTratamientos(){this.tratamientos$=this.perfilTratamientoService.consultarTratamientos(),this.tratamientos$.subscribe({next:o=>{this.tratamientos=o}})}listaTratamientosVacia(){var o;return 0==(null===(o=this.tratamientos)||void 0===o?void 0:o.length)}presentarAlertaEliminar(o){var n=this;return(0,_.Z)(function*(){yield(yield n.alertController.create({header:"\xbfSeguro que deseas eliminar este elemento?",subHeader:"No podr\xe1s recuperarlo",cssClass:"custom-alert color-error icon-trash two-buttons",buttons:[{text:"No, regresar",role:"cancel"},{text:"S\xed, eliminar",role:"confirm",handler:()=>{n.eliminarTratamiento(o)}}]})).present()})()}presentarAlertaEliminadoExitosamente(){var o=this;return(0,_.Z)(function*(){yield(yield o.alertController.create({header:"Elemento eliminado exitosamente",buttons:[{text:"De acuerdo",role:"confirm"}],cssClass:"custom-alert color-primary icon-check"})).present()})()}eliminarTratamiento(o){this.perfilTratamientoService.eliminarTratamiento(o.idExpedienteTratamiento).subscribe({next:()=>{this.consultarTratamientos()},error:()=>{},complete:()=>{this.presentarAlertaEliminadoExitosamente()}})}agregarTratamiento(){var o=this;return(0,_.Z)(function*(){const n=yield o.modalController.create({component:C.AgregarTratamientoPage,componentProps:{accion:"agregar"}});yield n.present(),yield n.onWillDismiss().then(({role:l})=>{"confirm"==l&&o.consultarTratamientos()})})()}verDetalleTratamiento(o){var n=this;return(0,_.Z)(function*(){const r=yield n.modalController.create({component:w,componentProps:{idExpedienteTratamiento:o}});yield r.present(),yield r.onWillDismiss().then(({role:d})=>{"confirm"==d&&n.consultarTratamientos()})})()}buscarTratamiento(o){const n=o.target.value;this.filtrando=""!=n,this.tratamientosFiltradosPorBusqueda=this.tratamientos,n&&""!=n.trim()&&(this.tratamientosFiltradosPorBusqueda=this.tratamientosFiltradosPorBusqueda.filter(r=>r.farmaco.toLowerCase().indexOf(n.toLowerCase())>-1))}}return(i=c).\u0275fac=function(o){return new(o||i)(t.Y36(P.$),t.Y36(h.Br),t.Y36(a.IN))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-mis-tratamientos"]],standalone:!0,features:[t.jDz],decls:19,vars:2,consts:[[1,"ion-no-border"],[1,"contenedor-header-light"],["slot","start",1,"start"],["routerLink","inicio-perfil"],["slot","start","name","chevron-left"],["slot","end",1,"end"],[1,"icon-only",3,"click"],["name","plus"],[1,"primary"],[1,"contenedor-principal"],[1,"titulo"],["class","lista-vacia",4,"ngIf"],["class","lista-tratamientos",4,"ngIf"],[1,"lista-vacia"],["fill","outline",3,"click"],["slot","start","name","plus"],[1,"lista-tratamientos"],[1,"barra-busqueda"],["show-cancel-button","focus","placeholder","Buscar","animated","",3,"ionChange"],["id","sin-filtrar",4,"ngIf"],["id","filtrados",4,"ngIf"],["id","sin-filtrar"],[4,"ngIf"],[4,"ngFor","ngForOf"],["lines","none","detail","true","button","",3,"click"],["slot","start"],["alt","img",3,"src",4,"ngIf"],["expandable","",3,"click"],["slot","icon-only","name","trash-2"],["alt","img",3,"src"],["id","filtrados"],["lines","none","detail","true"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),t._UZ(5,"ion-icon",4),t.TgZ(6,"ion-label"),t._uU(7,"Atr\xe1s"),t.qZA()()(),t.TgZ(8,"ion-buttons",5)(9,"ion-button",6),t.NdJ("click",function(){return n.agregarTratamiento()}),t._UZ(10,"ion-icon",7),t.qZA()()()()(),t.TgZ(11,"ion-content",8)(12,"div",9)(13,"div",10)(14,"ion-text")(15,"h3"),t._uU(16,"Mis tratamientos"),t.qZA()()(),t.YNc(17,D,9,0,"div",11),t.YNc(18,Y,5,2,"div",12),t.qZA()()),2&o&&(t.xp6(17),t.Q6J("ngIf",n.listaTratamientosVacia()),t.xp6(1),t.Q6J("ngIf",!n.listaTratamientosVacia()))},dependencies:[a.Pc,a.YG,a.Sm,a.W2,a.Gu,a.gu,a.Xz,a.Ie,a.u8,a.IK,a.td,a.Q$,a.q_,a.VI,a.yW,a.Bs,a.sr,a.j9,a.YI,m.ez,m.sg,m.O5,m.Ov,f.Bz,f.rH],styles:[".contenedor-principal[_ngcontent-%COMP%]{height:80vh;background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]{height:62vh}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:0}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--border-width: 0 0 2px 0;--border-color: var(--primary-50);--detail-icon-opacity: 1;--detail-icon-color: var(--neutral-900);--inner-padding-end: 32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{border:1px solid var(--neutral-100);--size: 72px;--border-radius: 8px}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:24px;margin-bottom:24px}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-600)}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){padding-left:32px}.contenedor-principal[_ngcontent-%COMP%]   .lista-tratamientos[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{background:var(--error-200);color:var(--neutral-50)}"]}),c})()}}]);