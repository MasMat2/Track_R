"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5902],{76:(P,f,d)=>{d.d(f,{GW:()=>g,dk:()=>c,oK:()=>_});var _=(()=>{return(a=_||(_={})).Prompt="PROMPT",a.Camera="CAMERA",a.Photos="PHOTOS",_;var a})(),g=(()=>{return(a=g||(g={})).Rear="REAR",a.Front="FRONT",g;var a})(),c=(()=>{return(a=c||(c={})).Uri="uri",a.Base64="base64",a.DataUrl="dataUrl",c;var a})()},6388:(P,f,d)=>{d.d(f,{V1:()=>c,dk:()=>g.dk,oK:()=>g.oK});var _=d(7423),g=d(76);const c=(0,_.fo)("Camera",{web:()=>d.e(3954).then(d.bind(d,3954)).then(a=>new a.CameraWeb)})},5902:(P,f,d)=>{d.r(f),d.d(f,{AgregarTratamientoPage:()=>rn});var _=d(5861),g=d(6895),c=d(433),a=d(9149),v=d(2583),n=d(1571),h=d(281),T=d(6388);let y=(()=>{var e;class r{constructor(){}takePicture(){return(0,_.Z)(function*(){return yield T.V1.getPhoto({resultType:T.dk.Base64,source:T.oK.Camera,quality:100})})()}}return(e=r).\u0275fac=function(o){return new(o||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),r})();var q=d(1814);function U(e,r){1&e&&n._UZ(0,"ion-datetime",48)}function k(e,r){1&e&&(n.TgZ(0,"div",49),n._UZ(1,"ion-icon",50),n._uU(2," El f\xe1rmaco es requerido "),n.qZA())}function S(e,r){1&e&&(n.TgZ(0,"div",49),n._UZ(1,"ion-icon",50),n._uU(2," La cantidad es requerida "),n.qZA())}function D(e,r){if(1&e&&(n.TgZ(0,"ion-select-option",51),n._uU(1),n.qZA()),2&e){const t=r.$implicit;n.Q6J("value",t.nombre),n.xp6(1),n.hij(" ",t.nombre," ")}}function I(e,r){1&e&&(n.TgZ(0,"div",49),n._UZ(1,"ion-icon",50),n._uU(2," La unidad es requerida "),n.qZA())}function N(e,r){1&e&&(n.TgZ(0,"div",49),n._UZ(1,"ion-icon",50),n._uU(2," La indicaci\xf3n es requerida "),n.qZA())}function J(e,r){if(1&e&&(n.TgZ(0,"ion-select-option",51),n._uU(1),n.qZA()),2&e){const t=r.$implicit;n.Q6J("value",t.id),n.xp6(1),n.hij(" ",t.nombre," ")}}function F(e,r){1&e&&(n.TgZ(0,"div",49),n._UZ(1,"ion-icon",50),n._uU(2," El padecimiento es requerido "),n.qZA())}function E(e,r){if(1&e&&(n.TgZ(0,"ion-select-option",51),n._uU(1),n.qZA()),2&e){const t=r.$implicit;n.Q6J("value",t.id),n.xp6(1),n.hij(" ",t.nombre," ")}}function Q(e,r){1&e&&(n.TgZ(0,"div",49),n._UZ(1,"ion-icon",50),n._uU(2," El doctor es requerido "),n.qZA())}function z(e,r){1&e&&n._UZ(0,"ion-datetime",52)}function Y(e,r){1&e&&n._UZ(0,"ion-datetime",54)}function j(e,r){1&e&&(n.TgZ(0,"ion-row")(1,"ion-col",12)(2,"div",13)(3,"ion-label"),n._uU(4,"Fecha de fin"),n.qZA(),n.TgZ(5,"ion-item",38),n._UZ(6,"ion-datetime-button",53)(7,"ion-icon",16),n.qZA(),n.TgZ(8,"ion-modal",17),n.YNc(9,Y,1,0,"ng-template"),n.qZA()()()()),2&e&&(n.xp6(8),n.Q6J("keepContentsMounted",!0))}function K(e,r){1&e&&(n.TgZ(0,"ion-label"),n._uU(1," Fijar recordatorio "),n.qZA())}function G(e,r){1&e&&(n.TgZ(0,"ion-label"),n._uU(1," Editar recordatorio "),n.qZA())}const C=function(e){return{selected:e}};function H(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"ion-button",68),n.NdJ("click",function(){const l=n.CHM(t).index,s=n.oxw(3);return n.KtG(s.seleccionarDiaRecordatorio(l))}),n._uU(1),n.qZA()}if(2&e){const t=r.$implicit,o=r.index,i=n.oxw(3);n.Q6J("ngClass",n.VKq(2,C,i.esDiaSemanaSeleccionado(o))),n.xp6(1),n.hij(" ",t.name," ")}}const R=function(){return{standalone:!0}};function $(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"ion-datetime",69),n.NdJ("ngModelChange",function(i){n.CHM(t);const l=n.oxw(3);return n.KtG(l.fechaSeleccionada=i)}),n.qZA()}if(2&e){const t=n.oxw(3);n.Q6J("ngModel",t.fechaSeleccionada)("ngModelOptions",n.DdM(2,R))}}function B(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"ion-button",70),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(3);return n.KtG(i.addHour())}),n._UZ(1,"ion-icon",26),n.qZA()}}function V(e,r){if(1&e&&n._UZ(0,"ion-datetime",73),2&e){const t=n.oxw(),o=t.index,i=t.$implicit;n.s9C("formControlName",o),n.Q6J("value",null==i?null:i.value)("name","horaName"+o)("id","hora"+o)}}function L(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"ion-button",74),n.NdJ("click",function(){n.CHM(t);const i=n.oxw().index,l=n.oxw(3);return n.KtG(l.removeHour(i))}),n._UZ(1,"ion-icon",75),n.qZA()}}function W(e,r){if(1&e&&(n.TgZ(0,"ion-row")(1,"ion-col")(2,"div",13)(3,"ion-label"),n._uU(4),n.qZA(),n.TgZ(5,"ion-item",14),n._UZ(6,"ion-datetime-button",71)(7,"ion-icon",62),n.qZA(),n.TgZ(8,"ion-modal",17),n.YNc(9,V,1,4,"ng-template"),n.qZA()()(),n.TgZ(10,"ion-col",63)(11,"div",64),n.YNc(12,L,2,0,"ion-button",72),n.qZA()()()),2&e){const t=r.index;n.xp6(4),n.hij("Horario ",t+1,""),n.xp6(2),n.Q6J("datetime","hora"+t),n.xp6(2),n.Q6J("keepContentsMounted",!0),n.xp6(4),n.Q6J("ngIf",!0)}}function X(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"ion-header",55)(1,"ion-toolbar")(2,"ion-buttons",2)(3,"ion-button",3),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.setOpen(!1))}),n._UZ(4,"ion-icon",56),n.qZA()(),n.TgZ(5,"ion-title"),n._uU(6,"Fijar recordatorio"),n.qZA()()(),n.TgZ(7,"ion-content")(8,"div",57)(9,"ion-grid",11)(10,"ion-row")(11,"ion-col",12)(12,"div",58),n.YNc(13,H,2,4,"ion-button",59),n.qZA()()(),n.TgZ(14,"div",60)(15,"ion-row")(16,"ion-col")(17,"div",13)(18,"ion-label"),n._uU(19,"Definir hora"),n.qZA(),n.TgZ(20,"ion-item",38),n._UZ(21,"ion-datetime-button",61)(22,"ion-icon",62),n.qZA(),n.TgZ(23,"ion-modal",17),n.YNc(24,$,1,3,"ng-template"),n.qZA()()(),n.TgZ(25,"ion-col",63)(26,"div",64),n.YNc(27,B,2,0,"ion-button",65),n.qZA()()(),n.TgZ(28,"ion-row")(29,"ion-col",12)(30,"ion-text")(31,"p"),n._uU(32,"Se notificar\xe1 15 minutos antes de la hora establecida."),n.qZA()()()()(),n.TgZ(33,"div",66),n.YNc(34,W,13,4,"ion-row",67),n.qZA()()()()}if(2&e){const t=n.oxw(2);n.xp6(13),n.Q6J("ngForOf",t.weekDays),n.xp6(10),n.Q6J("keepContentsMounted",!0),n.xp6(4),n.Q6J("ngIf",!0),n.xp6(7),n.Q6J("ngForOf",t.horas.controls)}}function nn(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item",76),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.addPhotoToGallery())}),n.TgZ(1,"ion-label"),n._uU(2,"Adjuntar imagen"),n.qZA(),n._UZ(3,"ion-icon",77),n.qZA()}}function tn(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",78)(1,"div",79),n._UZ(2,"ion-img",80),n.TgZ(3,"div",81)(4,"ion-text")(5,"p"),n._uU(6),n.qZA()(),n.TgZ(7,"ion-button",3),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.eliminarAdjunto())}),n._UZ(8,"ion-icon",82),n.qZA()()()()}if(2&e){const t=n.oxw(2);n.xp6(2),n.Q6J("src","data:image/png;base64,"+(null==t.photo?null:t.photo.base64String)),n.xp6(4),n.Oqu(null==t.photo?null:t.photo.dataUrl)}}const x=function(){return{cssClass:"custom-select-action-sheet"}},en=function(e){return{activated:e}};function on(e,r){if(1&e){const t=n.EpF();n.TgZ(0,"div",6)(1,"div",7)(2,"ion-text")(3,"h3"),n._uU(4,"A\xf1adir tratamiento"),n.qZA()()(),n.TgZ(5,"div",8)(6,"form",9)(7,"div",10)(8,"ion-grid",11)(9,"ion-row")(10,"ion-col",12)(11,"div",13)(12,"ion-label"),n._uU(13,"Fecha de registro"),n.qZA(),n.TgZ(14,"ion-item",14),n._UZ(15,"ion-datetime-button",15)(16,"ion-icon",16),n.qZA(),n.TgZ(17,"ion-modal",17),n.YNc(18,U,1,0,"ng-template"),n.qZA()()()(),n.TgZ(19,"ion-row")(20,"ion-col",12)(21,"div",13)(22,"ion-label"),n._uU(23,"F\xe1rmaco"),n.qZA(),n.TgZ(24,"ion-item",18),n._UZ(25,"ion-input",19),n.qZA(),n.YNc(26,k,3,0,"div",20),n.qZA()()(),n.TgZ(27,"ion-row")(28,"ion-col",21)(29,"div",13)(30,"ion-label"),n._uU(31,"Cantidad"),n.qZA(),n.TgZ(32,"ion-item",22)(33,"ion-button",23),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.decrementarCantidad())}),n._UZ(34,"ion-icon",24),n.qZA(),n.TgZ(35,"ion-label"),n._uU(36),n.qZA(),n.TgZ(37,"ion-button",25),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.incrementarCantidad())}),n._UZ(38,"ion-icon",26),n.qZA()(),n.YNc(39,S,3,0,"div",20),n.qZA()(),n.TgZ(40,"ion-col",27)(41,"div",13)(42,"ion-label"),n._uU(43,"Unidad"),n.qZA(),n.TgZ(44,"ion-item",28)(45,"ion-select",29),n.YNc(46,D,2,2,"ion-select-option",30),n.qZA()(),n.YNc(47,I,3,0,"div",20),n.qZA()()(),n.TgZ(48,"ion-row")(49,"ion-col",12)(50,"div",13)(51,"ion-label"),n._uU(52,"Indicaciones"),n.qZA(),n.TgZ(53,"ion-item",31),n._UZ(54,"ion-textarea",32),n.qZA(),n.YNc(55,N,3,0,"div",20),n.qZA()()(),n.TgZ(56,"ion-row")(57,"ion-col",12)(58,"div",13)(59,"ion-label"),n._uU(60,"Padecimiento asociado"),n.qZA(),n.TgZ(61,"ion-item",28)(62,"ion-select",33),n.YNc(63,J,2,2,"ion-select-option",30),n.ALo(64,"async"),n.qZA()(),n.YNc(65,F,3,0,"div",20),n.qZA()()(),n.TgZ(66,"ion-row")(67,"ion-col",12)(68,"div",13)(69,"ion-label"),n._uU(70,"Doctor"),n.qZA(),n.TgZ(71,"ion-item",28)(72,"ion-select",34),n.YNc(73,E,2,2,"ion-select-option",30),n.ALo(74,"async"),n.qZA()(),n.YNc(75,Q,3,0,"div",20),n.qZA()()(),n.TgZ(76,"ion-row")(77,"div",13)(78,"ion-label"),n._uU(79,"Duracion del tratamiento"),n.qZA()(),n.TgZ(80,"ion-col",35)(81,"ion-button",36),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.seleccionarTratamientoPermanente(!0))}),n._uU(82," Tratamiento permanente "),n.qZA()(),n.TgZ(83,"ion-col",35)(84,"ion-button",37),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.seleccionarTratamientoPermanente(!1))}),n._uU(85," Tratamiento no permanente "),n.qZA()()(),n.TgZ(86,"ion-row")(87,"ion-col",12)(88,"div",13)(89,"ion-label"),n._uU(90,"Fecha de inicio"),n.qZA(),n.TgZ(91,"ion-item",38),n._UZ(92,"ion-datetime-button",39)(93,"ion-icon",16),n.qZA(),n.TgZ(94,"ion-modal",17),n.YNc(95,z,1,0,"ng-template"),n.qZA()()()(),n.YNc(96,j,10,1,"ion-row",40),n.TgZ(97,"ion-row")(98,"ion-col",12)(99,"ion-item",41),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.setOpen(!0))}),n.YNc(100,K,2,0,"ion-label",40),n.YNc(101,G,2,0,"ion-label",40),n._UZ(102,"ion-icon",42),n.qZA(),n.TgZ(103,"ion-modal",43),n.YNc(104,X,35,4,"ng-template"),n.qZA()()(),n.TgZ(105,"ion-row")(106,"ion-col",12),n.YNc(107,nn,4,0,"ion-item",44),n.YNc(108,tn,9,2,"div",45),n.qZA()()()(),n.TgZ(109,"div",46)(110,"ion-button",47),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.submitForm())}),n._uU(111,"Guardar"),n.qZA()()()()()}if(2&e){const t=n.oxw();let o,i,l,s,m,u,p,O,b,M,Z,A,w;n.xp6(6),n.Q6J("formGroup",t.formTratamiento),n.xp6(11),n.Q6J("keepContentsMounted",!0),n.xp6(9),n.Q6J("ngIf",(null==(o=t.formTratamiento.get("farmaco"))?null:o.hasError("required"))&&((null==(o=t.formTratamiento.get("farmaco"))?null:o.dirty)||(null==(o=t.formTratamiento.get("farmaco"))?null:o.touched))),n.xp6(10),n.Oqu(null==(i=t.formTratamiento.get("cantidad"))?null:i.value),n.xp6(3),n.Q6J("ngIf",(null==(l=t.formTratamiento.get("cantidad"))?null:l.hasError("required"))&&((null==(l=t.formTratamiento.get("cantidad"))?null:l.dirty)||(null==(l=t.formTratamiento.get("cantidad"))?null:l.touched))),n.xp6(6),n.Q6J("interfaceOptions",n.DdM(30,x)),n.xp6(1),n.Q6J("ngForOf",t.unidades),n.xp6(1),n.Q6J("ngIf",(null==(s=t.formTratamiento.get("unidad"))?null:s.hasError("required"))&&((null==(s=t.formTratamiento.get("unidad"))?null:s.dirty)||(null==(s=t.formTratamiento.get("unidad"))?null:s.touched))),n.xp6(8),n.Q6J("ngIf",(null==(m=t.formTratamiento.get("indicaciones"))?null:m.hasError("required"))&&((null==(m=t.formTratamiento.get("indicaciones"))?null:m.dirty)||(null==(m=t.formTratamiento.get("indicaciones"))?null:m.touched))),n.xp6(7),n.Q6J("interfaceOptions",n.DdM(31,x)),n.xp6(1),n.Q6J("ngForOf",n.lcZ(64,26,t.padecimientos$)),n.xp6(2),n.Q6J("ngIf",(null==(u=t.formTratamiento.get("idPadecimiento"))?null:u.hasError("required"))&&((null==(u=t.formTratamiento.get("idPadecimiento"))?null:u.dirty)||(null==(u=t.formTratamiento.get("idPadecimiento"))?null:u.touched))),n.xp6(7),n.Q6J("interfaceOptions",n.DdM(32,x)),n.xp6(1),n.Q6J("ngForOf",n.lcZ(74,28,t.doctores$)),n.xp6(2),n.Q6J("ngIf",(null==(p=t.formTratamiento.get("idUsuarioDoctor"))?null:p.hasError("required"))&&((null==(p=t.formTratamiento.get("idUsuarioDoctor"))?null:p.dirty)||(null==(p=t.formTratamiento.get("idUsuarioDoctor"))?null:p.touched))),n.xp6(6),n.Q6J("ngClass",n.VKq(33,C,null==(O=t.formTratamiento.get("tratamientoPermanente"))?null:O.value)),n.xp6(3),n.Q6J("ngClass",n.VKq(35,C,!(null!=(b=t.formTratamiento.get("tratamientoPermanente"))&&b.value))),n.xp6(10),n.Q6J("keepContentsMounted",!0),n.xp6(2),n.Q6J("ngIf",!(null!=(M=t.formTratamiento.get("tratamientoPermanente"))&&M.value)),n.xp6(3),n.Q6J("ngClass",n.VKq(37,en,null==(Z=t.formTratamiento.get("recordatorioActivo"))?null:Z.value)),n.xp6(1),n.Q6J("ngIf",!(null!=(A=t.formTratamiento.get("recordatorioActivo"))&&A.value)),n.xp6(1),n.Q6J("ngIf",null==(w=t.formTratamiento.get("recordatorioActivo"))?null:w.value),n.xp6(2),n.Q6J("isOpen",t.isModalRecordatorioOpen),n.xp6(4),n.Q6J("ngIf",!t.photo),n.xp6(1),n.Q6J("ngIf",t.photo),n.xp6(2),n.Q6J("disabled",!t.formTratamiento.valid||t.btnSubmit)}}let rn=(()=>{var e;class r{constructor(o,i,l,s,m){this.perfilTratamientoService=o,this.fb=i,this.photoService=l,this._modalCtrl=s,this.alertController=m,this.cantidadFarmaco=1,this.isModalRecordatorioOpen=!1,this.btnSubmit=!1,this.now=new Date,this.localOffset=6e4*this.now.getTimezoneOffset(),this.localISOTime=new Date(this.now.getTime()-this.localOffset).toISOString().slice(0,-1),this.dateToday=this.localISOTime,this.fechaSeleccionada=this.dateToday,this.weekDays=[{id:0,name:"L"},{id:1,name:"M"},{id:2,name:"M"},{id:3,name:"J"},{id:4,name:"V"},{id:5,name:"S"},{id:6,name:"D"}],this.unidades=[{id:1,nombre:"mcg"},{id:2,nombre:"mg"},{id:3,nombre:"g"},{id:4,nombre:"ml"},{id:5,nombre:"tabletas"},{id:6,nombre:"cucharadas"}],(0,v.a)({"chevron-left":"assets/img/svg/chevron-left.svg","chevron-right":"assets/img/svg/chevron-right.svg","chevron-up":"assets/img/svg/chevron-up.svg","chevron-down":"assets/img/svg/chevron-down.svg",calendar:"assets/img/svg/calendar.svg",clock:"assets/img/svg/clock-2.svg",info:"assets/img/svg/info.svg",camera:"assets/img/svg/camera.svg",minus:"assets/img/svg/minus.svg",plus:"assets/img/svg/plus.svg",x:"assets/img/svg/x.svg","trash-2":"assets/img/svg/trash-2.svg"})}ngOnInit(){this.formTratamiento=this.fb.group({fechaRegistro:[(new Date).toISOString(),c.kI.required],farmaco:["",c.kI.required],cantidad:["1",c.kI.required],unidad:["",c.kI.required],indicaciones:["",c.kI.required],idPadecimiento:["",c.kI.required],idUsuarioDoctor:["",c.kI.required],tratamientoPermanente:[!1],fechaInicio:[(new Date).toISOString(),c.kI.required],fechaFin:[(new Date).toISOString()],imagenBase64:[""],recordatorioActivo:[!1],diaSemana:this.fb.array([!1,!1,!1,!1,!1,!1,!1]),horas:this.fb.array([])},{validators:[this.validateDiaSemana(),this.compareDates()]}),this.selectorPadecimeintos(),this.selectorDoctor()}get horas(){return this.formTratamiento.get("horas")}selectorPadecimeintos(){this.padecimientos$=this.perfilTratamientoService.selectorPadecimeintos()}selectorDoctor(){this.doctores$=this.perfilTratamientoService.selectorDeDoctor()}addPhotoToGallery(){var o=this;return(0,_.Z)(function*(){o.photo=yield o.photoService.takePicture(),console.log(o.photo)})()}removeHour(o){this.horas.removeAt(o),0===this.horas.length&&this.formTratamiento.patchValue({recordatorioActivo:!1})}addHour(){0===this.horas.length&&this.formTratamiento.patchValue({recordatorioActivo:!0}),this.horas.push(this.fb.control(this.fechaSeleccionada)),this.fechaSeleccionada=this.dateToday}compareDates(){return o=>{var i,l,s;const m=null===(i=o.get("tratamientoPermanente"))||void 0===i?void 0:i.value,u=new Date(null===(l=o.get("fechaInicio"))||void 0===l?void 0:l.value),p=new Date(null===(s=o.get("fechaFin"))||void 0===s?void 0:s.value);return!m&&u&&p&&u>p?{fechaFinLessThanFechaInicio:!0}:null}}validateDiaSemana(){return o=>{var i,l;const s=null===(i=o.get("recordatorioActivo"))||void 0===i?void 0:i.value,m=null===(l=o.get("diaSemana"))||void 0===l?void 0:l.value;return s&&!m.some(u=>u)?{sinDiaSelecionado:!0}:null}}submitForm(){var o;this.btnSubmit=!0;const i=this.formTratamiento.value,l=i.horas.map(m=>m.split("T")[1].split(".")[0]),s={farmaco:i.farmaco,fechaRegistro:new Date(i.fechaRegistro),cantidad:i.cantidad,unidad:i.unidad,indicaciones:i.indicaciones,padecimiento:i.padecimiento,idPadecimiento:i.idPadecimiento,idUsuarioDoctor:i.idUsuarioDoctor,imagenBase64:(null===(o=this.photo)||void 0===o?void 0:o.base64String)||"",recordatorioActivo:i.recordatorioActivo,diaSemana:i.recordatorioActivo?i.diaSemana:null,horas:i.recordatorioActivo?l:null};this.perfilTratamientoDto=s,this.agregar(this.perfilTratamientoDto)}agregar(o){this.perfilTratamientoService.agregar(o).subscribe({next:()=>{},error:()=>{this.btnSubmit=!1},complete:()=>{this.btnSubmit=!1,this.presentarAlertaSuccess()}})}cerrarModal(o){this._modalCtrl.dismiss(null,o)}seleccionarTratamientoPermanente(o){this.formTratamiento.patchValue({tratamientoPermanente:o})}incrementarCantidad(){this.cantidadFarmaco<99&&(this.cantidadFarmaco+=1,this.formTratamiento.patchValue({cantidad:this.cantidadFarmaco}))}decrementarCantidad(){this.cantidadFarmaco>0&&(this.cantidadFarmaco-=1,this.formTratamiento.patchValue({cantidad:this.cantidadFarmaco}))}setOpen(o){this.isModalRecordatorioOpen=o}esDiaSemanaSeleccionado(o){return this.formTratamiento.get("diaSemana").at(o).value}seleccionarDiaRecordatorio(o){const l=this.formTratamiento.get("diaSemana").at(o);l.patchValue(!l.value)}eliminarAdjunto(){this.photo=void 0}presentarAlertaSuccess(){var o=this;return(0,_.Z)(function*(){yield(yield o.alertController.create({header:"Tratamiento agregado exitosamente",buttons:[{text:"De acuerdo",role:"confirm",handler:()=>{o.cerrarModal("confirm")}}],cssClass:"custom-alert-success"})).present()})()}}return(e=r).\u0275fac=function(o){return new(o||e)(n.Y36(h.$),n.Y36(c.qu),n.Y36(y),n.Y36(q.IN),n.Y36(a.Br))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-agregar-tratamiento"]],standalone:!0,features:[n.jDz],decls:9,vars:1,consts:[[1,"ion-no-border"],[1,"contenedor-header"],["slot","start"],[3,"click"],["slot","start","name","chevron-left"],["class","contenedor-principal",4,"ngIf"],[1,"contenedor-principal"],[1,"titulo"],[1,"formulario"],[3,"formGroup"],[1,"contenido-formulario"],[1,"inputs","ion-no-padding"],["size","12"],[1,"input"],["lines","none",1,"date-input","input-disabled"],["disabled","true","datetime","fechaRealizacion"],["name","calendar","slot","end","aria-hidden","true"],[3,"keepContentsMounted"],["lines","none",1,"general-input"],["id","nombreEstudio","name","nombreEstudio","type","text","maxlength","200","required","","autocomplete","off","formControlName","farmaco"],["class","input-text-error",4,"ngIf"],["size","6",1,"padding-derecho"],["lines","none",1,"quantity-selector"],["id","decrementar",3,"click"],["slot","icon-only","name","minus"],["id","incrementar",3,"click"],["slot","icon-only","name","plus"],["size","6",1,"padding-izquierdo"],["lines","none",1,"select-input"],["id","unidad","name","unidadName","interface","action-sheet","cancelText","Cancelar","placeholder","Seleccionar","toggleIcon","chevron-down","formControlName","unidad",3,"interfaceOptions"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"textarea-input"],["maxlength","500","rows","8","autoGrow","","placeholder","Escriba aqu\xed indicaciones que le de su m\xe9dico de confianza.","formControlName","indicaciones"],["id","padecimiento","name","padecimientoName","interface","action-sheet","cancelText","Cancelar","placeholder","Seleccionar","toggleIcon","chevron-down","formControlName","idPadecimiento",3,"interfaceOptions"],["id","doctor","name","doctorName","interface","action-sheet","cancelText","Cancelar","placeholder","Seleccionar","toggleIcon","chevron-down","formControlName","idUsuarioDoctor",3,"interfaceOptions"],["size","6"],[1,"selection-button","padding-derecho",3,"ngClass","click"],[1,"selection-button","padding-izquierdo",3,"ngClass","click"],["lines","none",1,"date-input"],["datetime","fechaInicio"],[4,"ngIf"],["lines","none","button","",1,"action-button-item",3,"ngClass","click"],["slot","end","name","chevron-right"],[3,"isOpen"],["lines","none","button","","class","action-button-item",3,"click",4,"ngIf"],["class","adjuntar-elemento",4,"ngIf"],[1,"botones"],[1,"guardar",3,"disabled","click"],["presentation","date","color","morado-custom","name","fechaRealizacion","id","fechaRealizacion","showDefaultButtons","true","locale","es-ES","formControlName","fechaRegistro"],[1,"input-text-error"],["slot","start","name","info"],[3,"value"],["presentation","date","color","morado-custom","name","fechaInicio","id","fechaInicio","showDefaultButtons","true","cancelText","Cancelar","doneText","Ok","locale","es-ES","formControlName","fechaInicio"],["datetime","fechaFin"],["presentation","date","color","morado-custom","name","fechaFin","id","fechaFin","showDefaultButtons","true","cancelText","Cancelar","doneText","Ok","locale","es-ES","formControlName","fechaFin"],[1,"ion-no-border","header-modal"],["name","x"],[1,"contenedor-principal-modal"],[1,"selector-dias"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"selector-hora"],["datetime","selectorHora"],["name","clock","slot","end","aria-hidden","true"],["size","auto"],[1,"boton-agregar-eliminar"],["class","agregar",3,"click",4,"ngIf"],["formArrayName","horas",1,"horas-seleccionadas"],[4,"ngFor","ngForOf"],[3,"ngClass","click"],["presentation","time","color","morado-custom","name","selectorHoraName","id","selectorHora","showDefaultButtons","true","cancelText","Cancelar","doneText","Ok","locale","es-ES",3,"ngModel","ngModelOptions","ngModelChange"],[1,"agregar",3,"click"],["disabled","",3,"datetime"],["class","eliminar",3,"click",4,"ngIf"],["presentation","time","color","morado-custom","showDefaultButtons","true","locale","es-ES","readonly","",3,"value","name","id","formControlName"],[1,"eliminar",3,"click"],["slot","icon-only","name","x"],["lines","none","button","",1,"action-button-item",3,"click"],["slot","end","name","camera"],[1,"adjuntar-elemento"],[1,"previsualizacion"],[3,"src"],[1,"datos-archivo"],["slot","icon-only","name","trash-2"]],template:function(o,i){1&o&&(n.TgZ(0,"ion-header",0)(1,"div",1)(2,"ion-toolbar")(3,"ion-buttons",2)(4,"ion-button",3),n.NdJ("click",function(){return i.cerrarModal("cancel")}),n._UZ(5,"ion-icon",4),n._uU(6," Atr\xe1s "),n.qZA()()()()(),n.TgZ(7,"ion-content"),n.YNc(8,on,112,39,"div",5),n.qZA()),2&o&&(n.xp6(8),n.Q6J("ngIf",!0))},dependencies:[a.Pc,a.YG,a.Sm,a.wI,a.W2,a.x4,a.Mj,a.jY,a.Gu,a.gu,a.Xz,a.pK,a.Ie,a.Q$,a.Nd,a.t9,a.n0,a.yW,a.g2,a.wd,a.sr,a.ki,a.QI,a.j9,g.ez,g.mk,g.sg,g.O5,g.Ov,c.u5,c._Y,c.JJ,c.JL,c.Q7,c.nD,c.On,c.UX,c.sg,c.u,c.CE],styles:[".contenedor-header[_ngcontent-%COMP%]{background:var(--primary-50);height:20vh;width:100%}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{height:100%;width:100%;--background: url(/assets/header_light.svg);max-height:153px;max-width:390px;display:flex;flex-direction:column;justify-content:flex-end;padding-bottom:20px}.contenedor-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:var(--font-body);font-weight:400;font-size:18px;color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]{background:var(--primary-50)}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{height:8vh;padding:16px 32px 0}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{text-align:start}.contenedor-principal[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--primary-700);font-family:var(--font-display);font-size:24px;font-weight:700;line-height:32px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]{background:var(--primary-50);height:15vh;width:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:0 32px 36px}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:16px;width:100%;max-width:600px;height:44px;--border-radius: 8px;color:var(--neutral-50);--background: var(--primary-700);--box-shadow: 0}.contenedor-principal[_ngcontent-%COMP%]   .formulario[_ngcontent-%COMP%]   .botones[_ngcontent-%COMP%]   .guardar.button-disabled[_ngcontent-%COMP%]{opacity:1;--background: var(--primary-300)}.contenedor-principal[_ngcontent-%COMP%]   .selection-button[_ngcontent-%COMP%]{width:100%;height:70px;margin:12px 0 0;--border-width: 1px;--border-style: solid;--border-color: var(--primary-700);--border-radius: 8px;font-family:var(--font-body);font-size:16px;font-weight:400;text-wrap:pretty;color:var(--primary-700);--background: var(--primary-50);--box-shadow: 0}.contenedor-principal[_ngcontent-%COMP%]   .selection-button.selected[_ngcontent-%COMP%]{color:var(--neutral-50);--background: var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   ion-item.action-button-item[_ngcontent-%COMP%]{width:100%;margin-top:24px;--border-width: 1px;--border-color: var(--primary-400);--border-radius: 8px;--background: var(--primary-100)}.contenedor-principal[_ngcontent-%COMP%]   ion-item.action-button-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{width:100%;font-family:var(--font-body);font-size:16px;font-weight:700;color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   ion-item.action-button-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   ion-item.action-button-item.activated[_ngcontent-%COMP%]{--background: var(--primary-700)}.contenedor-principal[_ngcontent-%COMP%]   ion-item.action-button-item.activated[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--neutral-50)}.contenedor-principal[_ngcontent-%COMP%]   ion-item.action-button-item.activated[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--neutral-50)}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]{padding:32px 0 0;background:var(--primary-50);width:100%}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]{background:var(--primary-100);padding:16px 16px 20px;border-width:1px;border-color:var(--primary-200);border-style:solid;border-radius:8px;height:170px;display:flex;flex-direction:column;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]::part(image){width:calc(100vw - 96px);height:92px;border-radius:8px;object-fit:cover}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]{padding-top:8px;display:flex;justify-content:space-between;height:100%;width:100%;align-items:center}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{max-width:calc(100% - 56px);overflow:hidden}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:14px;color:var(--neutral-900);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:40px;width:40px;--border-radius: 4px;--border-style: solid;--border-width: 1px;--border-color: var(--error-200);--background: var(--error-100);--box-shadow: 0;margin:0}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px!important;color:var(--error-200)}.contenedor-principal[_ngcontent-%COMP%]   .adjuntar-elemento[_ngcontent-%COMP%]   .previsualizacion[_ngcontent-%COMP%]   .datos-archivo[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){padding:0!important}ion-header.header-modal[_ngcontent-%COMP%]{--background: var(--neutral-50);border-bottom:1px solid var(--neutral-200)}ion-header.header-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{padding:52px 32px 0}ion-header.header-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-family:var(--font-body);font-size:18px;color:var(--neutral-800)}ion-header.header-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){padding:0}ion-header.header-modal[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.contenedor-principal-modal[_ngcontent-%COMP%]{height:100%;background:var(--neutral-50)}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-dias[_ngcontent-%COMP%]{width:100%;padding-top:48px;display:flex;justify-content:space-between}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-dias[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:40px!important;max-width:40px!important;height:40px!important;max-height:40px!important;--background: transparent;--box-shadow: 0;color:var(--neutral-500);font-family:var(--font-body);font-size:20px}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-dias[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]::part(native){padding:0}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-dias[_ngcontent-%COMP%]   ion-button.selected[_ngcontent-%COMP%]{--background: var(--primary-700);color:var(--neutral-50)}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-hora[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%], .contenedor-principal-modal[_ngcontent-%COMP%]   .horas-seleccionadas[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-hora[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], .contenedor-principal-modal[_ngcontent-%COMP%]   .horas-seleccionadas[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 8px;color:var(--neutral-50);min-width:68px;height:50px;margin:0 0 0 16px;--box-shadow: 0}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-hora[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]   .agregar[_ngcontent-%COMP%], .contenedor-principal-modal[_ngcontent-%COMP%]   .horas-seleccionadas[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]   .agregar[_ngcontent-%COMP%]{--background: var(--primary-700)}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-hora[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]   .eliminar[_ngcontent-%COMP%], .contenedor-principal-modal[_ngcontent-%COMP%]   .horas-seleccionadas[_ngcontent-%COMP%]   .boton-agregar-eliminar[_ngcontent-%COMP%]   .eliminar[_ngcontent-%COMP%]{--background: var(--error-200)}.contenedor-principal-modal[_ngcontent-%COMP%]   .selector-hora[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;font-family:var(--font-body);font-size:16px;color:var(--neutral-900)}.contenedor-principal-modal[_ngcontent-%COMP%]   .horas-seleccionadas[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid var(--neutral-200)}"]}),r})()},281:(P,f,d)=>{d.d(f,{$:()=>c});var _=d(1571),g=d(529);let c=(()=>{var a;class v{constructor(h){this.http=h,this.dataUrl="expedienteTratamiento/"}consultarTratamientos(){return this.http.get(this.dataUrl+"consultarTratamientos")}agregar(h){return this.http.post(this.dataUrl+"agregar",h)}selectorDeDoctor(){return this.http.get(this.dataUrl+"selectorDeDoctor")}selectorPadecimeintos(){return this.http.get(this.dataUrl+"selectorDePadecimiento")}}return(a=v).\u0275fac=function(h){return new(h||a)(_.LFG(g.eN))},a.\u0275prov=_.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),v})()}}]);